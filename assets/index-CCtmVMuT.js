(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function ag(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var um={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function VS(){if(cv)return kl;cv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return kl.Fragment=e,kl.jsx=t,kl.jsxs=t,kl}var hv;function LS(){return hv||(hv=1,um.exports=VS()),um.exports}var P=LS(),cm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function PS(){if(fv)return Re;fv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function A(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,K={};function q(V,ne,me){this.props=V,this.context=ne,this.refs=K,this.updater=me||N}q.prototype.isReactComponent={},q.prototype.setState=function(V,ne){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ne,"setState")},q.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function F(){}F.prototype=q.prototype;function $(V,ne,me){this.props=V,this.context=ne,this.refs=K,this.updater=me||N}var Z=$.prototype=new F;Z.constructor=$,x(Z,q.prototype),Z.isPureReactComponent=!0;var ae=Array.isArray,re={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function O(V,ne,me,oe,le,Ce){return me=Ce.ref,{$$typeof:i,type:V,key:ne,ref:me!==void 0?me:null,props:Ce}}function R(V,ne){return O(V.type,ne,void 0,void 0,void 0,V.props)}function S(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function I(V){var ne={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(me){return ne[me]})}var M=/\/+/g;function z(V,ne){return typeof V=="object"&&V!==null&&V.key!=null?I(""+V.key):ne.toString(36)}function D(){}function vt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(ne){V.status==="pending"&&(V.status="fulfilled",V.value=ne)},function(ne){V.status==="pending"&&(V.status="rejected",V.reason=ne)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ft(V,ne,me,oe,le){var Ce=typeof V;(Ce==="undefined"||Ce==="boolean")&&(V=null);var Ae=!1;if(V===null)Ae=!0;else switch(Ce){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(V.$$typeof){case i:case e:Ae=!0;break;case E:return Ae=V._init,ft(Ae(V._payload),ne,me,oe,le)}}if(Ae)return le=le(V),Ae=oe===""?"."+z(V,0):oe,ae(le)?(me="",Ae!=null&&(me=Ae.replace(M,"$&/")+"/"),ft(le,ne,me,"",function(rt){return rt})):le!=null&&(S(le)&&(le=R(le,me+(le.key==null||V&&V.key===le.key?"":(""+le.key).replace(M,"$&/")+"/")+Ae)),ne.push(le)),1;Ae=0;var dt=oe===""?".":oe+":";if(ae(V))for(var je=0;je<V.length;je++)oe=V[je],Ce=dt+z(oe,je),Ae+=ft(oe,ne,me,Ce,le);else if(je=A(V),typeof je=="function")for(V=je.call(V),je=0;!(oe=V.next()).done;)oe=oe.value,Ce=dt+z(oe,je++),Ae+=ft(oe,ne,me,Ce,le);else if(Ce==="object"){if(typeof V.then=="function")return ft(vt(V),ne,me,oe,le);throw ne=String(V),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function se(V,ne,me){if(V==null)return V;var oe=[],le=0;return ft(V,oe,"","",function(Ce){return ne.call(me,Ce,le++)}),oe}function Ee(V){if(V._status===-1){var ne=V._result;ne=ne(),ne.then(function(me){(V._status===0||V._status===-1)&&(V._status=1,V._result=me)},function(me){(V._status===0||V._status===-1)&&(V._status=2,V._result=me)}),V._status===-1&&(V._status=0,V._result=ne)}if(V._status===1)return V._result.default;throw V._result}var pe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function He(){}return Re.Children={map:se,forEach:function(V,ne,me){se(V,function(){ne.apply(this,arguments)},me)},count:function(V){var ne=0;return se(V,function(){ne++}),ne},toArray:function(V){return se(V,function(ne){return ne})||[]},only:function(V){if(!S(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Re.Component=q,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=$,Re.StrictMode=s,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Re.act=function(){throw Error("act(...) is not supported in production builds of React.")},Re.cache=function(V){return function(){return V.apply(null,arguments)}},Re.cloneElement=function(V,ne,me){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var oe=x({},V.props),le=V.key,Ce=void 0;if(ne!=null)for(Ae in ne.ref!==void 0&&(Ce=void 0),ne.key!==void 0&&(le=""+ne.key),ne)!fe.call(ne,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ne.ref===void 0||(oe[Ae]=ne[Ae]);var Ae=arguments.length-2;if(Ae===1)oe.children=me;else if(1<Ae){for(var dt=Array(Ae),je=0;je<Ae;je++)dt[je]=arguments[je+2];oe.children=dt}return O(V.type,le,void 0,void 0,Ce,oe)},Re.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Re.createElement=function(V,ne,me){var oe,le={},Ce=null;if(ne!=null)for(oe in ne.key!==void 0&&(Ce=""+ne.key),ne)fe.call(ne,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(le[oe]=ne[oe]);var Ae=arguments.length-2;if(Ae===1)le.children=me;else if(1<Ae){for(var dt=Array(Ae),je=0;je<Ae;je++)dt[je]=arguments[je+2];le.children=dt}if(V&&V.defaultProps)for(oe in Ae=V.defaultProps,Ae)le[oe]===void 0&&(le[oe]=Ae[oe]);return O(V,Ce,void 0,void 0,null,le)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(V){return{$$typeof:m,render:V}},Re.isValidElement=S,Re.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:Ee}},Re.memo=function(V,ne){return{$$typeof:p,type:V,compare:ne===void 0?null:ne}},Re.startTransition=function(V){var ne=re.T,me={};re.T=me;try{var oe=V(),le=re.S;le!==null&&le(me,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(He,pe)}catch(Ce){pe(Ce)}finally{re.T=ne}},Re.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Re.use=function(V){return re.H.use(V)},Re.useActionState=function(V,ne,me){return re.H.useActionState(V,ne,me)},Re.useCallback=function(V,ne){return re.H.useCallback(V,ne)},Re.useContext=function(V){return re.H.useContext(V)},Re.useDebugValue=function(){},Re.useDeferredValue=function(V,ne){return re.H.useDeferredValue(V,ne)},Re.useEffect=function(V,ne){return re.H.useEffect(V,ne)},Re.useId=function(){return re.H.useId()},Re.useImperativeHandle=function(V,ne,me){return re.H.useImperativeHandle(V,ne,me)},Re.useInsertionEffect=function(V,ne){return re.H.useInsertionEffect(V,ne)},Re.useLayoutEffect=function(V,ne){return re.H.useLayoutEffect(V,ne)},Re.useMemo=function(V,ne){return re.H.useMemo(V,ne)},Re.useOptimistic=function(V,ne){return re.H.useOptimistic(V,ne)},Re.useReducer=function(V,ne,me){return re.H.useReducer(V,ne,me)},Re.useRef=function(V){return re.H.useRef(V)},Re.useState=function(V){return re.H.useState(V)},Re.useSyncExternalStore=function(V,ne,me){return re.H.useSyncExternalStore(V,ne,me)},Re.useTransition=function(){return re.H.useTransition()},Re.version="19.0.0",Re}var dv;function og(){return dv||(dv=1,cm.exports=PS()),cm.exports}var k=og();const Rt=ag(k);var hm={exports:{}},Ul={},fm={exports:{}},dm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function kS(){return mv||(mv=1,function(i){function e(se,Ee){var pe=se.length;se.push(Ee);e:for(;0<pe;){var He=pe-1>>>1,V=se[He];if(0<o(V,Ee))se[He]=Ee,se[pe]=V,pe=He;else break e}}function t(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var Ee=se[0],pe=se.pop();if(pe!==Ee){se[0]=pe;e:for(var He=0,V=se.length,ne=V>>>1;He<ne;){var me=2*(He+1)-1,oe=se[me],le=me+1,Ce=se[le];if(0>o(oe,pe))le<V&&0>o(Ce,oe)?(se[He]=Ce,se[le]=pe,He=le):(se[He]=oe,se[me]=pe,He=me);else if(le<V&&0>o(Ce,pe))se[He]=Ce,se[le]=pe,He=le;else break e}}return Ee}function o(se,Ee){var pe=se.sortIndex-Ee.sortIndex;return pe!==0?pe:se.id-Ee.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],p=[],E=1,b=null,A=3,N=!1,x=!1,K=!1,q=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function Z(se){for(var Ee=t(p);Ee!==null;){if(Ee.callback===null)s(p);else if(Ee.startTime<=se)s(p),Ee.sortIndex=Ee.expirationTime,e(g,Ee);else break;Ee=t(p)}}function ae(se){if(K=!1,Z(se),!x)if(t(g)!==null)x=!0,vt();else{var Ee=t(p);Ee!==null&&ft(ae,Ee.startTime-se)}}var re=!1,fe=-1,O=5,R=-1;function S(){return!(i.unstable_now()-R<O)}function I(){if(re){var se=i.unstable_now();R=se;var Ee=!0;try{e:{x=!1,K&&(K=!1,F(fe),fe=-1),N=!0;var pe=A;try{t:{for(Z(se),b=t(g);b!==null&&!(b.expirationTime>se&&S());){var He=b.callback;if(typeof He=="function"){b.callback=null,A=b.priorityLevel;var V=He(b.expirationTime<=se);if(se=i.unstable_now(),typeof V=="function"){b.callback=V,Z(se),Ee=!0;break t}b===t(g)&&s(g),Z(se)}else s(g);b=t(g)}if(b!==null)Ee=!0;else{var ne=t(p);ne!==null&&ft(ae,ne.startTime-se),Ee=!1}}break e}finally{b=null,A=pe,N=!1}Ee=void 0}}finally{Ee?M():re=!1}}}var M;if(typeof $=="function")M=function(){$(I)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,D=z.port2;z.port1.onmessage=I,M=function(){D.postMessage(null)}}else M=function(){q(I,0)};function vt(){re||(re=!0,M())}function ft(se,Ee){fe=q(function(){se(i.unstable_now())},Ee)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(se){se.callback=null},i.unstable_continueExecution=function(){x||N||(x=!0,vt())},i.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<se?Math.floor(1e3/se):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_getFirstCallbackNode=function(){return t(g)},i.unstable_next=function(se){switch(A){case 1:case 2:case 3:var Ee=3;break;default:Ee=A}var pe=A;A=Ee;try{return se()}finally{A=pe}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(se,Ee){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var pe=A;A=se;try{return Ee()}finally{A=pe}},i.unstable_scheduleCallback=function(se,Ee,pe){var He=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?He+pe:He):pe=He,se){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=pe+V,se={id:E++,callback:Ee,priorityLevel:se,startTime:pe,expirationTime:V,sortIndex:-1},pe>He?(se.sortIndex=pe,e(p,se),t(g)===null&&se===t(p)&&(K?(F(fe),fe=-1):K=!0,ft(ae,pe-He))):(se.sortIndex=V,e(g,se),x||N||(x=!0,vt())),se},i.unstable_shouldYield=S,i.unstable_wrapCallback=function(se){var Ee=A;return function(){var pe=A;A=Ee;try{return se.apply(this,arguments)}finally{A=pe}}}}(dm)),dm}var gv;function US(){return gv||(gv=1,fm.exports=kS()),fm.exports}var mm={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function jS(){if(pv)return Kt;pv=1;var i=og();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},Kt.flushSync=function(g){var p=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=p,s.p=E,s.d.f()}},Kt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Kt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Kt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,N=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:N}):E==="script"&&s.d.X(g,{crossOrigin:b,integrity:A,fetchPriority:N,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Kt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Kt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin);s.d.L(g,E,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Kt.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Kt.requestFormReset=function(g){s.d.r(g)},Kt.unstable_batchedUpdates=function(g,p){return g(p)},Kt.useFormState=function(g,p,E){return f.H.useFormState(g,p,E)},Kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Kt.version="19.0.0",Kt}var yv;function aE(){if(yv)return mm.exports;yv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),mm.exports=jS(),mm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function zS(){if(_v)return Ul;_v=1;var i=US(),e=og(),t=aE();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),N=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),ae=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function fe(n){return n===null||typeof n!="object"?null:(n=re&&n[re]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function R(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case g:return"Fragment";case m:return"Portal";case E:return"Profiler";case p:return"StrictMode";case K:return"Suspense";case q:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case N:return(n.displayName||"Context")+".Provider";case A:return(n._context.displayName||"Context")+".Consumer";case x:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case F:return r=n.displayName||null,r!==null?r:R(n.type)||"Memo";case $:r=n._payload,n=n._init;try{return R(n(r))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,M,z;function D(n){if(M===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);M=r&&r[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+n+z}var vt=!1;function ft(n,r){if(!n||vt)return"";vt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var G=Y}Reflect.construct(n,[],te)}else{try{te.call()}catch(Y){G=Y}n.call(te.prototype)}}else{try{throw Error()}catch(Y){G=Y}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var C=v.split(`
`),U=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===U.length)for(l=C.length-1,h=U.length-1;1<=l&&0<=h&&C[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==U[h]){var X=`
`+C[l].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=l&&0<=h);break}}}finally{vt=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?D(a):""}function se(n){switch(n.tag){case 26:case 27:case 5:return D(n.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return n=ft(n.type,!1),n;case 11:return n=ft(n.type.render,!1),n;case 1:return n=ft(n.type,!0),n;default:return""}}function Ee(n){try{var r="";do r+=se(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function pe(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function He(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function V(n){if(pe(n)!==n)throw Error(s(188))}function ne(n){var r=n.alternate;if(!r){if(r=pe(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return V(h),n;if(d===l)return V(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function me(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=me(n),r!==null)return r;n=n.sibling}return null}var oe=Array.isArray,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},Ae=[],dt=-1;function je(n){return{current:n}}function rt(n){0>dt||(n.current=Ae[dt],Ae[dt]=null,dt--)}function Ke(n,r){dt++,Ae[dt]=n.current,n.current=r}var Wt=je(null),Ei=je(null),yn=je(null),lr=je(null);function ur(n,r){switch(Ke(yn,r),Ke(Ei,n),Ke(Wt,null),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?j_(r):0;break;default:if(n=n===8?r.parentNode:r,r=n.tagName,n=n.namespaceURI)n=j_(n),r=z_(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}rt(Wt),Ke(Wt,r)}function Ti(){rt(Wt),rt(Ei),rt(yn)}function Oo(n){n.memoizedState!==null&&Ke(lr,n);var r=Wt.current,a=z_(r,n.type);r!==a&&(Ke(Ei,n),Ke(Wt,a))}function la(n){Ei.current===n&&(rt(Wt),rt(Ei)),lr.current===n&&(rt(lr),Ol._currentValue=Ce)}var ua=Object.prototype.hasOwnProperty,ms=i.unstable_scheduleCallback,ca=i.unstable_cancelCallback,hf=i.unstable_shouldYield,Mo=i.unstable_requestPaint,sn=i.unstable_now,Cu=i.unstable_getCurrentPriorityLevel,Et=i.unstable_ImmediatePriority,Dt=i.unstable_UserBlockingPriority,wi=i.unstable_NormalPriority,Iu=i.unstable_LowPriority,Vo=i.unstable_IdlePriority,ff=i.log,gs=i.unstable_setDisableYieldValue,cr=null,Ft=null;function Lo(n){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(cr,n,void 0,(n.current.flags&128)===128)}catch{}}function Wn(n){if(typeof ff=="function"&&gs(n),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(cr,n)}catch{}}var Zt=Math.clz32?Math.clz32:Nu,Po=Math.log,Du=Math.LN2;function Nu(n){return n>>>=0,n===0?32:31-(Po(n)/Du|0)|0}var Zn=128,hr=4194304;function Un(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function _n(n,r){var a=n.pendingLanes;if(a===0)return 0;var l=0,h=n.suspendedLanes,d=n.pingedLanes,v=n.warmLanes;n=n.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=Un(a):(d&=T,d!==0?l=Un(d):n||(v=T&~v,v!==0&&(l=Un(v))))):(T=a&~h,T!==0?l=Un(T):d!==0?l=Un(d):n||(v=a&~v,v!==0&&(l=Un(v)))),l===0?0:r!==0&&r!==l&&(r&h)===0&&(h=l&-l,v=r&-r,h>=v||h===32&&(v&4194176)!==0)?r:l}function fr(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function ha(n,r){switch(n){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ko(){var n=Zn;return Zn<<=1,(Zn&4194176)===0&&(Zn=128),n}function dr(){var n=hr;return hr<<=1,(hr&62914560)===0&&(hr=4194304),n}function fa(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function ut(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function xu(n,r,a,l,h,d){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,C=n.expirationTimes,U=n.hiddenUpdates;for(a=v&~a;0<a;){var X=31-Zt(a),te=1<<X;T[X]=0,C[X]=-1;var G=U[X];if(G!==null)for(U[X]=null,X=0;X<G.length;X++){var Y=G[X];Y!==null&&(Y.lane&=-536870913)}a&=~te}l!==0&&mr(n,l,0),d!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=d&~(v&~r))}function mr(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-Zt(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194218}function gr(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-Zt(a),h=1<<l;h&r|n[l]&r&&(n[l]|=r),a&=~h}}function Ou(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Mu(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:rv(n.type))}function pr(n,r){var a=le.p;try{return le.p=n,r()}finally{le.p=a}}var Jn=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Jn,Tt="__reactProps$"+Jn,bi="__reactContainer$"+Jn,ps="__reactEvents$"+Jn,da="__reactListeners$"+Jn,ei="__reactHandles$"+Jn,Uo="__reactResources$"+Jn,yr="__reactMarker$"+Jn;function ys(n){delete n[Nt],delete n[Tt],delete n[ps],delete n[da],delete n[ei]}function jn(n){var r=n[Nt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[bi]||a[Nt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=H_(n);n!==null;){if(a=n[Nt])return a;n=H_(n)}return r}n=a,a=n.parentNode}return null}function Si(n){if(n=n[Nt]||n[bi]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function _r(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function vr(n){var r=n[Uo];return r||(r=n[Uo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function et(n){n[yr]=!0}var jo=new Set,ma={};function un(n,r){an(n,r),an(n+"Capture",r)}function an(n,r){for(ma[n]=r,n=0;n<r.length;n++)jo.add(r[n])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),df=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Bo={};function Vu(n){return ua.call(Bo,n)?!0:ua.call(zo,n)?!1:df.test(n)?Bo[n]=!0:(zo[n]=!0,!1)}function Er(n,r,a){if(Vu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Tr(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function vn(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function Jt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Lu(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function mf(n){var r=Lu(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function _s(n){n._valueTracker||(n._valueTracker=mf(n))}function qo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Lu(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function ga(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ai=/[\n"\\]/g;function st(n){return n.replace(Ai,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function wr(n,r,a,l,h,d,v,T){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),r!=null?v==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Jt(r)):n.value!==""+Jt(r)&&(n.value=""+Jt(r)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),r!=null?pa(n,v,Jt(r)):a!=null?pa(n,v,Jt(a)):l!=null&&n.removeAttribute("value"),h==null&&d!=null&&(n.defaultChecked=!!d),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+Jt(T):n.removeAttribute("name")}function vs(n,r,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+Jt(a):"",r=r!=null?""+Jt(r):a,T||r===n.value||(n.value=r),n.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function pa(n,r,a){r==="number"&&ga(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function ze(n,r,a,l){if(n=n.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=r.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Jt(a),r=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function Es(n,r,a){if(r!=null&&(r=""+Jt(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+Jt(a):""}function br(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Jt(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function En(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var gf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ho(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||gf.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Pu(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Ho(n,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Ho(n,d,r[d])}function Fo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ti(n){return yf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Tn=null;function ya(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ri=null,Ci=null;function Ii(n){var r=Si(n);if(r&&(n=r.stateNode)){var a=n[Tt]||null;e:switch(n=r.stateNode,r.type){case"input":if(wr(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+st(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var h=l[Tt]||null;if(!h)throw Error(s(90));wr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&qo(l)}break e;case"textarea":Es(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&ze(n,!!a.multiple,r,!1)}}}var Go=!1;function ku(n,r,a){if(Go)return n(r,a);Go=!0;try{var l=n(r);return l}finally{if(Go=!1,(Ri!==null||Ci!==null)&&(Ic(),Ri&&(r=Ri,n=Ci,Ci=Ri=null,Ii(r),n)))for(r=0;r<n.length;r++)Ii(n[r])}}function Ts(n,r){var a=n.stateNode;if(a===null)return null;var l=a[Tt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var wn=!1;if(cn)try{var ws={};Object.defineProperty(ws,"passive",{get:function(){wn=!0}}),window.addEventListener("test",ws,ws),window.removeEventListener("test",ws,ws)}catch{wn=!1}var ni=null,Sr=null,Di=null;function Ko(){if(Di)return Di;var n,r=Sr,a=r.length,l,h="value"in ni?ni.value:ni.textContent,d=h.length;for(n=0;n<a&&r[n]===h[n];n++);var v=a-n;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Di=h.slice(n,1<l?1-l:void 0)}function ii(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function ri(){return!0}function Qo(){return!1}function xt(n){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ri:Qo,this.isPropagationStopped=Qo,this}return I(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),r}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_a=xt(Fe),bs=I({},Fe,{view:0,detail:0}),Uu=xt(bs),va,Ea,si,Ss=I({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==si&&(si&&n.type==="mousemove"?(va=n.screenX-si.screenX,Ea=n.screenY-si.screenY):Ea=va=0,si=n),va)},movementY:function(n){return"movementY"in n?n.movementY:Ea}}),bn=xt(Ss),ju=I({},Ss,{dataTransfer:0}),_f=xt(ju),As=I({},bs,{relatedTarget:0}),Ta=xt(As),$o=I({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),wa=xt($o),zu=I({},Fe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ba=xt(zu),vf=I({},Fe,{data:0}),Yo=xt(vf),Rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xo(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=qu[n])?!!r[n]:!1}function Cs(){return Xo}var Hu=I({},bs,{key:function(n){if(n.key){var r=Rs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ii(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Bu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(n){return n.type==="keypress"?ii(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ii(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Sa=xt(Hu),Fu=I({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wo=xt(Fu),Ni=I({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),Gu=xt(Ni),Ku=I({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qu=xt(Ku),$u=I({},Ss,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Aa=xt($u),en=I({},Fe,{newState:0,oldState:0}),Yu=xt(en),Xu=[9,13,27,32],ai=cn&&"CompositionEvent"in window,c=null;cn&&"documentMode"in document&&(c=document.documentMode);var y=cn&&"TextEvent"in window&&!c,_=cn&&(!ai||c&&8<c&&11>=c),w=" ",B=!1;function Q(n,r){switch(n){case"keyup":return Xu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Le=!1;function wt(n,r){switch(n){case"compositionend":return ie(r);case"keypress":return r.which!==32?null:(B=!0,w);case"textInput":return n=r.data,n===w&&B?null:n;default:return null}}function Pe(n,r){if(Le)return n==="compositionend"||!ai&&Q(n,r)?(n=Ko(),Di=Sr=ni=null,Le=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Ot={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Ot[n.type]:r==="textarea"}function xi(n,r,a,l){Ri?Ci?Ci.push(l):Ci=[l]:Ri=l,r=Mc(r,"onChange"),0<r.length&&(a=new _a("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var kt=null,oi=null;function Zo(n){V_(n,0)}function Wu(n){var r=_r(n);if(qo(r))return n}function up(n,r){if(n==="change")return r}var cp=!1;if(cn){var Ef;if(cn){var Tf="oninput"in document;if(!Tf){var hp=document.createElement("div");hp.setAttribute("oninput","return;"),Tf=typeof hp.oninput=="function"}Ef=Tf}else Ef=!1;cp=Ef&&(!document.documentMode||9<document.documentMode)}function fp(){kt&&(kt.detachEvent("onpropertychange",dp),oi=kt=null)}function dp(n){if(n.propertyName==="value"&&Wu(oi)){var r=[];xi(r,oi,n,ya(n)),ku(Zo,r)}}function cb(n,r,a){n==="focusin"?(fp(),kt=r,oi=a,kt.attachEvent("onpropertychange",dp)):n==="focusout"&&fp()}function hb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Wu(oi)}function fb(n,r){if(n==="click")return Wu(r)}function db(n,r){if(n==="input"||n==="change")return Wu(r)}function mb(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var hn=typeof Object.is=="function"?Object.is:mb;function Jo(n,r){if(hn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ua.call(r,h)||!hn(n[h],r[h]))return!1}return!0}function mp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function gp(n,r){var a=mp(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=mp(a)}}function pp(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?pp(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function yp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=ga(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=ga(n.document)}return r}function wf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function gb(n,r){var a=yp(r);r=n.focusedElem;var l=n.selectionRange;if(a!==r&&r&&r.ownerDocument&&pp(r.ownerDocument.documentElement,r)){if(l!==null&&wf(r)){if(n=l.start,a=l.end,a===void 0&&(a=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(a,r.value.length);else if(a=(n=r.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var h=r.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=gp(r,d);var v=gp(r,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(n),a.extend(v.node,v.offset)):(n.setEnd(v.node,v.offset),a.addRange(n)))}}for(n=[],a=r;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)a=n[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var pb=cn&&"documentMode"in document&&11>=document.documentMode,Ra=null,bf=null,el=null,Sf=!1;function _p(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sf||Ra==null||Ra!==ga(l)||(l=Ra,"selectionStart"in l&&wf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&Jo(el,l)||(el=l,l=Mc(bf,"onSelect"),0<l.length&&(r=new _a("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Ra)))}function Is(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ca={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},Af={},vp={};cn&&(vp=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Ds(n){if(Af[n])return Af[n];if(!Ca[n])return n;var r=Ca[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in vp)return Af[n]=r[a];return n}var Ep=Ds("animationend"),Tp=Ds("animationiteration"),wp=Ds("animationstart"),yb=Ds("transitionrun"),_b=Ds("transitionstart"),vb=Ds("transitioncancel"),bp=Ds("transitionend"),Sp=new Map,Ap="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function zn(n,r){Sp.set(n,r),un(r,[n])}var Sn=[],Ia=0,Rf=0;function Zu(){for(var n=Ia,r=Rf=Ia=0;r<n;){var a=Sn[r];Sn[r++]=null;var l=Sn[r];Sn[r++]=null;var h=Sn[r];Sn[r++]=null;var d=Sn[r];if(Sn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Rp(a,h,d)}}function Ju(n,r,a,l){Sn[Ia++]=n,Sn[Ia++]=r,Sn[Ia++]=a,Sn[Ia++]=l,Rf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Cf(n,r,a,l){return Ju(n,r,a,l),ec(n)}function Ar(n,r){return Ju(n,null,null,r),ec(n)}function Rp(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(h=!0)),n=d,d=d.return;h&&r!==null&&n.tag===3&&(d=n.stateNode,h=31-Zt(a),d=d.hiddenUpdates,n=d[h],n===null?d[h]=[r]:n.push(r),r.lane=a|536870912)}function ec(n){if(50<Al)throw Al=0,Md=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Da={},Cp=new WeakMap;function An(n,r){if(typeof n=="object"&&n!==null){var a=Cp.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Ee(r)},Cp.set(n,r),r)}return{value:n,source:r,stack:Ee(r)}}var Na=[],xa=0,tc=null,nc=0,Rn=[],Cn=0,Ns=null,Oi=1,Mi="";function xs(n,r){Na[xa++]=nc,Na[xa++]=tc,tc=n,nc=r}function Ip(n,r,a){Rn[Cn++]=Oi,Rn[Cn++]=Mi,Rn[Cn++]=Ns,Ns=n;var l=Oi;n=Mi;var h=32-Zt(l)-1;l&=~(1<<h),a+=1;var d=32-Zt(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Oi=1<<32-Zt(r)+h|a<<h|l,Mi=d+n}else Oi=1<<d|a<<h|l,Mi=n}function If(n){n.return!==null&&(xs(n,1),Ip(n,1,0))}function Df(n){for(;n===tc;)tc=Na[--xa],Na[xa]=null,nc=Na[--xa],Na[xa]=null;for(;n===Ns;)Ns=Rn[--Cn],Rn[Cn]=null,Mi=Rn[--Cn],Rn[Cn]=null,Oi=Rn[--Cn],Rn[Cn]=null}var tn=null,Ut=null,Be=!1,Bn=null,li=!1,Nf=Error(s(519));function Os(n){var r=Error(s(418,""));throw il(An(r,n)),Nf}function Dp(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Nt]=n,r[Tt]=l,a){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(a=0;a<Cl.length;a++)Me(Cl[a],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),vs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),_s(r);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),br(r,l.value,l.defaultValue,l.children),_s(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||U_(r.textContent,a)?(l.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),l.onScroll!=null&&Me("scroll",r),l.onScrollEnd!=null&&Me("scrollend",r),l.onClick!=null&&(r.onclick=Vc),r=!0):r=!1,r||Os(n)}function Np(n){for(tn=n.return;tn;)switch(tn.tag){case 3:case 27:li=!0;return;case 5:case 13:li=!1;return;default:tn=tn.return}}function tl(n){if(n!==tn)return!1;if(!Be)return Np(n),Be=!0,!1;var r=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Xd(n.type,n.memoizedProps)),a=!a),a&&(r=!0),r&&Ut&&Os(n),Np(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){Ut=Hn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}Ut=null}}else Ut=tn?Hn(n.stateNode.nextSibling):null;return!0}function nl(){Ut=tn=null,Be=!1}function il(n){Bn===null?Bn=[n]:Bn.push(n)}var rl=Error(s(460)),xp=Error(s(474)),xf={then:function(){}};function Op(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ic(){}function Mp(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(ic,ic),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===rl?Error(s(483)):n;default:if(typeof r.status=="string")r.then(ic,ic);else{if(n=Xe,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===rl?Error(s(483)):n}throw sl=r,rl}}var sl=null;function Vp(){if(sl===null)throw Error(s(459));var n=sl;return sl=null,n}var Oa=null,al=0;function rc(n){var r=al;return al+=1,Oa===null&&(Oa=[]),Mp(Oa,n,r)}function ol(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function sc(n,r){throw r.$$typeof===u?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Lp(n){var r=n._init;return r(n._payload)}function Pp(n){function r(j,L){if(n){var H=j.deletions;H===null?(j.deletions=[L],j.flags|=16):H.push(L)}}function a(j,L){if(!n)return null;for(;L!==null;)r(j,L),L=L.sibling;return null}function l(j){for(var L=new Map;j!==null;)j.key!==null?L.set(j.key,j):L.set(j.index,j),j=j.sibling;return L}function h(j,L){return j=kr(j,L),j.index=0,j.sibling=null,j}function d(j,L,H){return j.index=H,n?(H=j.alternate,H!==null?(H=H.index,H<L?(j.flags|=33554434,L):H):(j.flags|=33554434,L)):(j.flags|=1048576,L)}function v(j){return n&&j.alternate===null&&(j.flags|=33554434),j}function T(j,L,H,W){return L===null||L.tag!==6?(L=Ad(H,j.mode,W),L.return=j,L):(L=h(L,H),L.return=j,L)}function C(j,L,H,W){var ce=H.type;return ce===g?X(j,L,H.props.children,W,H.key):L!==null&&(L.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===$&&Lp(ce)===L.type)?(L=h(L,H.props),ol(L,H),L.return=j,L):(L=bc(H.type,H.key,H.props,null,j.mode,W),ol(L,H),L.return=j,L)}function U(j,L,H,W){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=Rd(H,j.mode,W),L.return=j,L):(L=h(L,H.children||[]),L.return=j,L)}function X(j,L,H,W,ce){return L===null||L.tag!==7?(L=qs(H,j.mode,W,ce),L.return=j,L):(L=h(L,H),L.return=j,L)}function te(j,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Ad(""+L,j.mode,H),L.return=j,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case f:return H=bc(L.type,L.key,L.props,null,j.mode,H),ol(H,L),H.return=j,H;case m:return L=Rd(L,j.mode,H),L.return=j,L;case $:var W=L._init;return L=W(L._payload),te(j,L,H)}if(oe(L)||fe(L))return L=qs(L,j.mode,H,null),L.return=j,L;if(typeof L.then=="function")return te(j,rc(L),H);if(L.$$typeof===N)return te(j,Ec(j,L),H);sc(j,L)}return null}function G(j,L,H,W){var ce=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ce!==null?null:T(j,L,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case f:return H.key===ce?C(j,L,H,W):null;case m:return H.key===ce?U(j,L,H,W):null;case $:return ce=H._init,H=ce(H._payload),G(j,L,H,W)}if(oe(H)||fe(H))return ce!==null?null:X(j,L,H,W,null);if(typeof H.then=="function")return G(j,L,rc(H),W);if(H.$$typeof===N)return G(j,L,Ec(j,H),W);sc(j,H)}return null}function Y(j,L,H,W,ce){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return j=j.get(H)||null,T(L,j,""+W,ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case f:return j=j.get(W.key===null?H:W.key)||null,C(L,j,W,ce);case m:return j=j.get(W.key===null?H:W.key)||null,U(L,j,W,ce);case $:var De=W._init;return W=De(W._payload),Y(j,L,H,W,ce)}if(oe(W)||fe(W))return j=j.get(H)||null,X(L,j,W,ce,null);if(typeof W.then=="function")return Y(j,L,H,rc(W),ce);if(W.$$typeof===N)return Y(j,L,H,Ec(L,W),ce);sc(L,W)}return null}function de(j,L,H,W){for(var ce=null,De=null,ge=L,_e=L=0,Lt=null;ge!==null&&_e<H.length;_e++){ge.index>_e?(Lt=ge,ge=null):Lt=ge.sibling;var qe=G(j,ge,H[_e],W);if(qe===null){ge===null&&(ge=Lt);break}n&&ge&&qe.alternate===null&&r(j,ge),L=d(qe,L,_e),De===null?ce=qe:De.sibling=qe,De=qe,ge=Lt}if(_e===H.length)return a(j,ge),Be&&xs(j,_e),ce;if(ge===null){for(;_e<H.length;_e++)ge=te(j,H[_e],W),ge!==null&&(L=d(ge,L,_e),De===null?ce=ge:De.sibling=ge,De=ge);return Be&&xs(j,_e),ce}for(ge=l(ge);_e<H.length;_e++)Lt=Y(ge,j,_e,H[_e],W),Lt!==null&&(n&&Lt.alternate!==null&&ge.delete(Lt.key===null?_e:Lt.key),L=d(Lt,L,_e),De===null?ce=Lt:De.sibling=Lt,De=Lt);return n&&ge.forEach(function(Fr){return r(j,Fr)}),Be&&xs(j,_e),ce}function be(j,L,H,W){if(H==null)throw Error(s(151));for(var ce=null,De=null,ge=L,_e=L=0,Lt=null,qe=H.next();ge!==null&&!qe.done;_e++,qe=H.next()){ge.index>_e?(Lt=ge,ge=null):Lt=ge.sibling;var Fr=G(j,ge,qe.value,W);if(Fr===null){ge===null&&(ge=Lt);break}n&&ge&&Fr.alternate===null&&r(j,ge),L=d(Fr,L,_e),De===null?ce=Fr:De.sibling=Fr,De=Fr,ge=Lt}if(qe.done)return a(j,ge),Be&&xs(j,_e),ce;if(ge===null){for(;!qe.done;_e++,qe=H.next())qe=te(j,qe.value,W),qe!==null&&(L=d(qe,L,_e),De===null?ce=qe:De.sibling=qe,De=qe);return Be&&xs(j,_e),ce}for(ge=l(ge);!qe.done;_e++,qe=H.next())qe=Y(ge,j,_e,qe.value,W),qe!==null&&(n&&qe.alternate!==null&&ge.delete(qe.key===null?_e:qe.key),L=d(qe,L,_e),De===null?ce=qe:De.sibling=qe,De=qe);return n&&ge.forEach(function(MS){return r(j,MS)}),Be&&xs(j,_e),ce}function lt(j,L,H,W){if(typeof H=="object"&&H!==null&&H.type===g&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case f:e:{for(var ce=H.key;L!==null;){if(L.key===ce){if(ce=H.type,ce===g){if(L.tag===7){a(j,L.sibling),W=h(L,H.props.children),W.return=j,j=W;break e}}else if(L.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===$&&Lp(ce)===L.type){a(j,L.sibling),W=h(L,H.props),ol(W,H),W.return=j,j=W;break e}a(j,L);break}else r(j,L);L=L.sibling}H.type===g?(W=qs(H.props.children,j.mode,W,H.key),W.return=j,j=W):(W=bc(H.type,H.key,H.props,null,j.mode,W),ol(W,H),W.return=j,j=W)}return v(j);case m:e:{for(ce=H.key;L!==null;){if(L.key===ce)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){a(j,L.sibling),W=h(L,H.children||[]),W.return=j,j=W;break e}else{a(j,L);break}else r(j,L);L=L.sibling}W=Rd(H,j.mode,W),W.return=j,j=W}return v(j);case $:return ce=H._init,H=ce(H._payload),lt(j,L,H,W)}if(oe(H))return de(j,L,H,W);if(fe(H)){if(ce=fe(H),typeof ce!="function")throw Error(s(150));return H=ce.call(H),be(j,L,H,W)}if(typeof H.then=="function")return lt(j,L,rc(H),W);if(H.$$typeof===N)return lt(j,L,Ec(j,H),W);sc(j,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(a(j,L.sibling),W=h(L,H),W.return=j,j=W):(a(j,L),W=Ad(H,j.mode,W),W.return=j,j=W),v(j)):a(j,L)}return function(j,L,H,W){try{al=0;var ce=lt(j,L,H,W);return Oa=null,ce}catch(ge){if(ge===rl)throw ge;var De=xn(29,ge,null,j.mode);return De.lanes=W,De.return=j,De}finally{}}}var Ms=Pp(!0),kp=Pp(!1),Ma=je(null),ac=je(0);function Up(n,r){n=Fi,Ke(ac,n),Ke(Ma,r),Fi=n|r.baseLanes}function Of(){Ke(ac,Fi),Ke(Ma,Ma.current)}function Mf(){Fi=ac.current,rt(Ma),rt(ac)}var In=je(null),ui=null;function Rr(n){var r=n.alternate;Ke(St,St.current&1),Ke(In,n),ui===null&&(r===null||Ma.current!==null||r.memoizedState!==null)&&(ui=n)}function jp(n){if(n.tag===22){if(Ke(St,St.current),Ke(In,n),ui===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(ui=n)}}else Cr()}function Cr(){Ke(St,St.current),Ke(In,In.current)}function Vi(n){rt(In),ui===n&&(ui=null),rt(St)}var St=je(0);function oc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Eb=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},Tb=i.unstable_scheduleCallback,wb=i.unstable_NormalPriority,At={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vf(){return{controller:new Eb,data:new Map,refCount:0}}function ll(n){n.refCount--,n.refCount===0&&Tb(wb,function(){n.controller.abort()})}var ul=null,Lf=0,Va=0,La=null;function bb(n,r){if(ul===null){var a=ul=[];Lf=0,Va=Bd(),La={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Lf++,r.then(zp,zp),r}function zp(){if(--Lf===0&&ul!==null){La!==null&&(La.status="fulfilled");var n=ul;ul=null,Va=0,La=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function Sb(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Bp=S.S;S.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&bb(n,r),Bp!==null&&Bp(n,r)};var Vs=je(null);function Pf(){var n=Vs.current;return n!==null?n:Xe.pooledCache}function lc(n,r){r===null?Ke(Vs,Vs.current):Ke(Vs,r.pool)}function qp(){var n=Pf();return n===null?null:{parent:At._currentValue,pool:n}}var Ir=0,Ie=null,Qe=null,mt=null,uc=!1,Pa=!1,Ls=!1,cc=0,cl=0,ka=null,Ab=0;function ct(){throw Error(s(321))}function kf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!hn(n[a],r[a]))return!1;return!0}function Uf(n,r,a,l,h,d){return Ir=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,S.H=n===null||n.memoizedState===null?Ps:Dr,Ls=!1,d=a(l,h),Ls=!1,Pa&&(d=Fp(r,a,l,h)),Hp(n),d}function Hp(n){S.H=ci;var r=Qe!==null&&Qe.next!==null;if(Ir=0,mt=Qe=Ie=null,uc=!1,cl=0,ka=null,r)throw Error(s(300));n===null||Mt||(n=n.dependencies,n!==null&&vc(n)&&(Mt=!0))}function Fp(n,r,a,l){Ie=n;var h=0;do{if(Pa&&(ka=null),cl=0,Pa=!1,25<=h)throw Error(s(301));if(h+=1,mt=Qe=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=ks,d=r(a,l)}while(Pa);return d}function Rb(){var n=S.H,r=n.useState()[0];return r=typeof r.then=="function"?hl(r):r,n=n.useState()[0],(Qe!==null?Qe.memoizedState:null)!==n&&(Ie.flags|=1024),r}function jf(){var n=cc!==0;return cc=0,n}function zf(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Bf(n){if(uc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}uc=!1}Ir=0,mt=Qe=Ie=null,Pa=!1,cl=cc=0,ka=null}function on(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ie.memoizedState=mt=n:mt=mt.next=n,mt}function gt(){if(Qe===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=Qe.next;var r=mt===null?Ie.memoizedState:mt.next;if(r!==null)mt=r,Qe=n;else{if(n===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Qe=n,n={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},mt===null?Ie.memoizedState=mt=n:mt=mt.next=n}return mt}var hc;hc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function hl(n){var r=cl;return cl+=1,ka===null&&(ka=[]),n=Mp(ka,n,r),r=Ie,(mt===null?r.memoizedState:mt.next)===null&&(r=r.alternate,S.H=r===null||r.memoizedState===null?Ps:Dr),n}function fc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return hl(n);if(n.$$typeof===N)return Gt(n)}throw Error(s(438,String(n)))}function qf(n){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=hc(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=ae;return r.index++,a}function Li(n,r){return typeof r=="function"?r(n):r}function dc(n){var r=gt();return Hf(r,Qe,n)}function Hf(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=n.baseState,h===null)n.memoizedState=d;else{r=h.next;var T=v=null,C=null,U=r,X=!1;do{var te=U.lane&-536870913;if(te!==U.lane?(ke&te)===te:(Ir&te)===te){var G=U.revertLane;if(G===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),te===Va&&(X=!0);else if((Ir&G)===G){U=U.next,G===Va&&(X=!0);continue}else te={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=te,v=d):C=C.next=te,Ie.lanes|=G,Ur|=G;te=U.action,Ls&&a(d,te),d=U.hasEagerState?U.eagerState:a(d,te)}else G={lane:te,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=G,v=d):C=C.next=G,Ie.lanes|=te,Ur|=te;U=U.next}while(U!==null&&U!==r);if(C===null?v=d:C.next=T,!hn(d,n.memoizedState)&&(Mt=!0,X&&(a=La,a!==null)))throw a;n.memoizedState=d,n.baseState=v,n.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Ff(n){var r=gt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=n(d,v.action),v=v.next;while(v!==h);hn(d,r.memoizedState)||(Mt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Gp(n,r,a){var l=Ie,h=gt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!hn((Qe||h).memoizedState,a);if(v&&(h.memoizedState=a,Mt=!0),h=h.queue,Qf($p.bind(null,l,h,n),[n]),h.getSnapshot!==r||v||mt!==null&&mt.memoizedState.tag&1){if(l.flags|=2048,Ua(9,Qp.bind(null,l,h,a,r),{destroy:void 0},null),Xe===null)throw Error(s(349));d||(Ir&60)!==0||Kp(l,r,a)}return a}function Kp(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=hc(),Ie.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Qp(n,r,a,l){r.value=a,r.getSnapshot=l,Yp(r)&&Xp(n)}function $p(n,r,a){return a(function(){Yp(r)&&Xp(n)})}function Yp(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!hn(n,a)}catch{return!0}}function Xp(n){var r=Ar(n,2);r!==null&&nn(r,n,2)}function Gf(n){var r=on();if(typeof n=="function"){var a=n;if(n=a(),Ls){Wn(!0);try{a()}finally{Wn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:n},r}function Wp(n,r,a,l){return n.baseState=a,Hf(n,Qe,typeof l=="function"?l:Li)}function Cb(n,r,a,l,h){if(pc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};S.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Zp(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Zp(n,r){var a=r.action,l=r.payload,h=n.state;if(r.isTransition){var d=S.T,v={};S.T=v;try{var T=a(h,l),C=S.S;C!==null&&C(v,T),Jp(n,r,T)}catch(U){Kf(n,r,U)}finally{S.T=d}}else try{d=a(h,l),Jp(n,r,d)}catch(U){Kf(n,r,U)}}function Jp(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ey(n,r,l)},function(l){return Kf(n,r,l)}):ey(n,r,a)}function ey(n,r,a){r.status="fulfilled",r.value=a,ty(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Zp(n,a)))}function Kf(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,ty(r),r=r.next;while(r!==l)}n.action=null}function ty(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function ny(n,r){return r}function iy(n,r){if(Be){var a=Xe.formState;if(a!==null){e:{var l=Ie;if(Be){if(Ut){t:{for(var h=Ut,d=li;h.nodeType!==8;){if(!d){h=null;break t}if(h=Hn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Ut=Hn(h.nextSibling),l=h.data==="F!";break e}}Os(l)}l=!1}l&&(r=a[0])}}return a=on(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ny,lastRenderedState:r},a.queue=l,a=Ty.bind(null,Ie,l),l.dispatch=a,l=Gf(!1),d=Zf.bind(null,Ie,!1,l.queue),l=on(),h={state:r,dispatch:null,action:n,pending:null},l.queue=h,a=Cb.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=n,[r,a,!1]}function ry(n){var r=gt();return sy(r,Qe,n)}function sy(n,r,a){r=Hf(n,r,ny)[0],n=dc(Li)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?hl(r):r;var l=gt(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(Ie.flags|=2048,Ua(9,Ib.bind(null,h,a),{destroy:void 0},null)),[r,d,n]}function Ib(n,r){n.action=r}function ay(n){var r=gt(),a=Qe;if(a!==null)return sy(r,a,n);gt(),r=r.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Ua(n,r,a,l){return n={tag:n,create:r,inst:a,deps:l,next:null},r=Ie.updateQueue,r===null&&(r=hc(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function oy(){return gt().memoizedState}function mc(n,r,a,l){var h=on();Ie.flags|=n,h.memoizedState=Ua(1|r,a,{destroy:void 0},l===void 0?null:l)}function gc(n,r,a,l){var h=gt();l=l===void 0?null:l;var d=h.memoizedState.inst;Qe!==null&&l!==null&&kf(l,Qe.memoizedState.deps)?h.memoizedState=Ua(r,a,d,l):(Ie.flags|=n,h.memoizedState=Ua(1|r,a,d,l))}function ly(n,r){mc(8390656,8,n,r)}function Qf(n,r){gc(2048,8,n,r)}function uy(n,r){return gc(4,2,n,r)}function cy(n,r){return gc(4,4,n,r)}function hy(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function fy(n,r,a){a=a!=null?a.concat([n]):null,gc(4,4,hy.bind(null,r,n),a)}function $f(){}function dy(n,r){var a=gt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&kf(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function my(n,r){var a=gt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&kf(r,l[1]))return l[0];if(l=n(),Ls){Wn(!0);try{n()}finally{Wn(!1)}}return a.memoizedState=[l,r],l}function Yf(n,r,a){return a===void 0||(Ir&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=p_(),Ie.lanes|=n,Ur|=n,a)}function gy(n,r,a,l){return hn(a,r)?a:Ma.current!==null?(n=Yf(n,a,l),hn(n,r)||(Mt=!0),n):(Ir&42)===0?(Mt=!0,n.memoizedState=a):(n=p_(),Ie.lanes|=n,Ur|=n,r)}function py(n,r,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var v=S.T,T={};S.T=T,Zf(n,!1,r,a);try{var C=h(),U=S.S;if(U!==null&&U(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=Sb(C,l);fl(n,r,X,gn(n))}else fl(n,r,l,gn(n))}catch(te){fl(n,r,{then:function(){},status:"rejected",reason:te},gn())}finally{le.p=d,S.T=v}}function Db(){}function Xf(n,r,a,l){if(n.tag!==5)throw Error(s(476));var h=yy(n).queue;py(n,h,r,Ce,a===null?Db:function(){return _y(n),a(l)})}function yy(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:Ce},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function _y(n){var r=yy(n).next.queue;fl(n,r,{},gn())}function Wf(){return Gt(Ol)}function vy(){return gt().memoizedState}function Ey(){return gt().memoizedState}function Nb(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=gn();n=Or(a);var l=Mr(r,n,a);l!==null&&(nn(l,r,a),gl(l,r,a)),r={cache:Vf()},n.payload=r;return}r=r.return}}function xb(n,r,a){var l=gn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},pc(n)?wy(r,a):(a=Cf(n,r,a,l),a!==null&&(nn(a,n,l),by(a,r,l)))}function Ty(n,r,a){var l=gn();fl(n,r,a,l)}function fl(n,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(pc(n))wy(r,h);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,hn(T,v))return Ju(n,r,h,0),Xe===null&&Zu(),!1}catch{}finally{}if(a=Cf(n,r,h,l),a!==null)return nn(a,n,l),by(a,r,l),!0}return!1}function Zf(n,r,a,l){if(l={lane:2,revertLane:Bd(),action:l,hasEagerState:!1,eagerState:null,next:null},pc(n)){if(r)throw Error(s(479))}else r=Cf(n,a,l,2),r!==null&&nn(r,n,2)}function pc(n){var r=n.alternate;return n===Ie||r!==null&&r===Ie}function wy(n,r){Pa=uc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function by(n,r,a){if((a&4194176)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,gr(n,a)}}var ci={readContext:Gt,use:fc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct};ci.useCacheRefresh=ct,ci.useMemoCache=ct,ci.useHostTransitionStatus=ct,ci.useFormState=ct,ci.useActionState=ct,ci.useOptimistic=ct;var Ps={readContext:Gt,use:fc,useCallback:function(n,r){return on().memoizedState=[n,r===void 0?null:r],n},useContext:Gt,useEffect:ly,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,mc(4194308,4,hy.bind(null,r,n),a)},useLayoutEffect:function(n,r){return mc(4194308,4,n,r)},useInsertionEffect:function(n,r){mc(4,2,n,r)},useMemo:function(n,r){var a=on();r=r===void 0?null:r;var l=n();if(Ls){Wn(!0);try{n()}finally{Wn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=on();if(a!==void 0){var h=a(r);if(Ls){Wn(!0);try{a(r)}finally{Wn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=xb.bind(null,Ie,n),[l.memoizedState,n]},useRef:function(n){var r=on();return n={current:n},r.memoizedState=n},useState:function(n){n=Gf(n);var r=n.queue,a=Ty.bind(null,Ie,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:$f,useDeferredValue:function(n,r){var a=on();return Yf(a,n,r)},useTransition:function(){var n=Gf(!1);return n=py.bind(null,Ie,n.queue,!0,!1),on().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Ie,h=on();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Xe===null)throw Error(s(349));(ke&60)!==0||Kp(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,ly($p.bind(null,l,d,n),[n]),l.flags|=2048,Ua(9,Qp.bind(null,l,d,a,r),{destroy:void 0},null),a},useId:function(){var n=on(),r=Xe.identifierPrefix;if(Be){var a=Mi,l=Oi;a=(l&~(1<<32-Zt(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=cc++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=Ab++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},useCacheRefresh:function(){return on().memoizedState=Nb.bind(null,Ie)}};Ps.useMemoCache=qf,Ps.useHostTransitionStatus=Wf,Ps.useFormState=iy,Ps.useActionState=iy,Ps.useOptimistic=function(n){var r=on();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Zf.bind(null,Ie,!0,a),a.dispatch=r,[n,r]};var Dr={readContext:Gt,use:fc,useCallback:dy,useContext:Gt,useEffect:Qf,useImperativeHandle:fy,useInsertionEffect:uy,useLayoutEffect:cy,useMemo:my,useReducer:dc,useRef:oy,useState:function(){return dc(Li)},useDebugValue:$f,useDeferredValue:function(n,r){var a=gt();return gy(a,Qe.memoizedState,n,r)},useTransition:function(){var n=dc(Li)[0],r=gt().memoizedState;return[typeof n=="boolean"?n:hl(n),r]},useSyncExternalStore:Gp,useId:vy};Dr.useCacheRefresh=Ey,Dr.useMemoCache=qf,Dr.useHostTransitionStatus=Wf,Dr.useFormState=ry,Dr.useActionState=ry,Dr.useOptimistic=function(n,r){var a=gt();return Wp(a,Qe,n,r)};var ks={readContext:Gt,use:fc,useCallback:dy,useContext:Gt,useEffect:Qf,useImperativeHandle:fy,useInsertionEffect:uy,useLayoutEffect:cy,useMemo:my,useReducer:Ff,useRef:oy,useState:function(){return Ff(Li)},useDebugValue:$f,useDeferredValue:function(n,r){var a=gt();return Qe===null?Yf(a,n,r):gy(a,Qe.memoizedState,n,r)},useTransition:function(){var n=Ff(Li)[0],r=gt().memoizedState;return[typeof n=="boolean"?n:hl(n),r]},useSyncExternalStore:Gp,useId:vy};ks.useCacheRefresh=Ey,ks.useMemoCache=qf,ks.useHostTransitionStatus=Wf,ks.useFormState=ay,ks.useActionState=ay,ks.useOptimistic=function(n,r){var a=gt();return Qe!==null?Wp(a,Qe,n,r):(a.baseState=n,[n,a.queue.dispatch])};function Jf(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:I({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var ed={isMounted:function(n){return(n=n._reactInternals)?pe(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var l=gn(),h=Or(l);h.payload=r,a!=null&&(h.callback=a),r=Mr(n,h,l),r!==null&&(nn(r,n,l),gl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=gn(),h=Or(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Mr(n,h,l),r!==null&&(nn(r,n,l),gl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=gn(),l=Or(a);l.tag=2,r!=null&&(l.callback=r),r=Mr(n,l,a),r!==null&&(nn(r,n,a),gl(r,n,a))}};function Sy(n,r,a,l,h,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Jo(a,l)||!Jo(h,d):!0}function Ay(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&ed.enqueueReplaceState(r,r.state,null)}function Us(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=I({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var yc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Ry(n){yc(n)}function Cy(n){console.error(n)}function Iy(n){yc(n)}function _c(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Dy(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function td(n,r,a){return a=Or(a),a.tag=3,a.payload={element:null},a.callback=function(){_c(n,r)},a}function Ny(n){return n=Or(n),n.tag=3,n}function xy(n,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;n.payload=function(){return h(d)},n.callback=function(){Dy(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){Dy(r,a,l),typeof h!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Ob(n,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&ml(r,a,h,!0),a=In.current,a!==null){switch(a.tag){case 13:return ui===null?Pd():a.alternate===null&&ot===0&&(ot=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===xf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Ud(n,l,h)),!1;case 22:return a.flags|=65536,l===xf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Ud(n,l,h)),!1}throw Error(s(435,a.tag))}return Ud(n,l,h),Pd(),!1}if(Be)return r=In.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Nf&&(n=Error(s(422),{cause:l}),il(An(n,a)))):(l!==Nf&&(r=Error(s(423),{cause:l}),il(An(r,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=An(l,a),h=td(n.stateNode,l,h),pd(n,h),ot!==4&&(ot=2)),!1;var d=Error(s(520),{cause:l});if(d=An(d,a),bl===null?bl=[d]:bl.push(d),ot!==4&&(ot=2),r===null)return!0;l=An(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=td(a.stateNode,l,n),pd(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(jr===null||!jr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ny(h),xy(h,n,a,l),pd(a,h),!1}a=a.return}while(a!==null);return!1}var Oy=Error(s(461)),Mt=!1;function jt(n,r,a,l){r.child=n===null?kp(r,null,a,l):Ms(r,n.child,a,l)}function My(n,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return zs(r),l=Uf(n,r,a,v,d,h),T=jf(),n!==null&&!Mt?(zf(n,r,h),Pi(n,r,h)):(Be&&T&&If(r),r.flags|=1,jt(n,r,l,h),r.child)}function Vy(n,r,a,l,h){if(n===null){var d=a.type;return typeof d=="function"&&!Sd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Ly(n,r,d,l,h)):(n=bc(a.type,null,l,r,r.mode,h),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!cd(n,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Jo,a(v,l)&&n.ref===r.ref)return Pi(n,r,h)}return r.flags|=1,n=kr(d,l),n.ref=r.ref,n.return=r,r.child=n}function Ly(n,r,a,l,h){if(n!==null){var d=n.memoizedProps;if(Jo(d,l)&&n.ref===r.ref)if(Mt=!1,r.pendingProps=l=d,cd(n,h))(n.flags&131072)!==0&&(Mt=!0);else return r.lanes=n.lanes,Pi(n,r,h)}return nd(n,r,a,l,h)}function Py(n,r,a){var l=r.pendingProps,h=l.children,d=(r.stateNode._pendingVisibility&2)!==0,v=n!==null?n.memoizedState:null;if(dl(n,r),l.mode==="hidden"||d){if((r.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,n!==null){for(h=r.child=n.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return ky(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&lc(r,v!==null?v.cachePool:null),v!==null?Up(r,v):Of(),jp(r);else return r.lanes=r.childLanes=536870912,ky(n,r,v!==null?v.baseLanes|a:a,a)}else v!==null?(lc(r,v.cachePool),Up(r,v),Cr(),r.memoizedState=null):(n!==null&&lc(r,null),Of(),Cr());return jt(n,r,h,a),r.child}function ky(n,r,a,l){var h=Pf();return h=h===null?null:{parent:At._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},n!==null&&lc(r,null),Of(),jp(r),n!==null&&ml(n,r,l,!0),null}function dl(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=2097664)}}function nd(n,r,a,l,h){return zs(r),a=Uf(n,r,a,l,void 0,h),l=jf(),n!==null&&!Mt?(zf(n,r,h),Pi(n,r,h)):(Be&&l&&If(r),r.flags|=1,jt(n,r,a,h),r.child)}function Uy(n,r,a,l,h,d){return zs(r),r.updateQueue=null,a=Fp(r,l,a,h),Hp(n),l=jf(),n!==null&&!Mt?(zf(n,r,d),Pi(n,r,d)):(Be&&l&&If(r),r.flags|=1,jt(n,r,a,d),r.child)}function jy(n,r,a,l,h){if(zs(r),r.stateNode===null){var d=Da,v=a.contextType;typeof v=="object"&&v!==null&&(d=Gt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ed,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},md(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Gt(v):Da,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Jf(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&ed.enqueueReplaceState(d,d.state,null),yl(r,l,d,h),pl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var T=r.memoizedProps,C=Us(a,T);d.props=C;var U=d.context,X=a.contextType;v=Da,typeof X=="object"&&X!==null&&(v=Gt(X));var te=a.getDerivedStateFromProps;X=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||U!==v)&&Ay(r,d,l,v),xr=!1;var G=r.memoizedState;d.state=G,yl(r,l,d,h),pl(),U=r.memoizedState,T||G!==U||xr?(typeof te=="function"&&(Jf(r,a,te,l),U=r.memoizedState),(C=xr||Sy(r,a,C,l,G,U,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=U),d.props=l,d.state=U,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,gd(n,r),v=r.memoizedProps,X=Us(a,v),d.props=X,te=r.pendingProps,G=d.context,U=a.contextType,C=Da,typeof U=="object"&&U!==null&&(C=Gt(U)),T=a.getDerivedStateFromProps,(U=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==te||G!==C)&&Ay(r,d,l,C),xr=!1,G=r.memoizedState,d.state=G,yl(r,l,d,h),pl();var Y=r.memoizedState;v!==te||G!==Y||xr||n!==null&&n.dependencies!==null&&vc(n.dependencies)?(typeof T=="function"&&(Jf(r,a,T,l),Y=r.memoizedState),(X=xr||Sy(r,a,X,l,G,Y,C)||n!==null&&n.dependencies!==null&&vc(n.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),d.props=l,d.state=Y,d.context=C,l=X):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,dl(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=Ms(r,n.child,null,h),r.child=Ms(r,null,a,h)):jt(n,r,a,h),r.memoizedState=d.state,n=r.child):n=Pi(n,r,h),n}function zy(n,r,a,l){return nl(),r.flags|=256,jt(n,r,a,l),r.child}var id={dehydrated:null,treeContext:null,retryLane:0};function rd(n){return{baseLanes:n,cachePool:qp()}}function sd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=On),n}function By(n,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=n!==null&&n.memoizedState===null?!1:(St.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,n===null){if(Be){if(h?Rr(r):Cr(),Be){var T=Ut,C;if(C=T){e:{for(C=T,T=li;C.nodeType!==8;){if(!T){T=null;break e}if(C=Hn(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(r.memoizedState={dehydrated:T,treeContext:Ns!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912},C=xn(18,null,null,0),C.stateNode=T,C.return=r,r.child=C,tn=r,Ut=null,C=!0):C=!1}C||Os(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?r.lanes=16:r.lanes=536870912,null;Vi(r)}return T=l.children,l=l.fallback,h?(Cr(),h=r.mode,T=od({mode:"hidden",children:T},h),l=qs(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=rd(a),h.childLanes=sd(n,v,a),r.memoizedState=id,l):(Rr(r),ad(r,T))}if(C=n.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)r.flags&256?(Rr(r),r.flags&=-257,r=ld(n,r,a)):r.memoizedState!==null?(Cr(),r.child=n.child,r.flags|=128,r=null):(Cr(),h=l.fallback,T=r.mode,l=od({mode:"visible",children:l.children},T),h=qs(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ms(r,n.child,null,a),l=r.child,l.memoizedState=rd(a),l.childLanes=sd(n,v,a),r.memoizedState=id,r=h);else if(Rr(r),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(s(419)),l.stack="",l.digest=v,il({value:l,source:null,stack:null}),r=ld(n,r,a)}else if(Mt||ml(n,r,a,!1),v=(a&n.childLanes)!==0,Mt||v){if(v=Xe,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,Ar(n,l),nn(v,n,l),Oy}T.data==="$?"||Pd(),r=ld(n,r,a)}else T.data==="$?"?(r.flags|=128,r.child=n.child,r=Qb.bind(null,n),T._reactRetry=r,r=null):(n=C.treeContext,Ut=Hn(T.nextSibling),tn=r,Be=!0,Bn=null,li=!1,n!==null&&(Rn[Cn++]=Oi,Rn[Cn++]=Mi,Rn[Cn++]=Ns,Oi=n.id,Mi=n.overflow,Ns=r),r=ad(r,l.children),r.flags|=4096);return r}return h?(Cr(),h=l.fallback,T=r.mode,C=n.child,U=C.sibling,l=kr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,U!==null?h=kr(U,h):(h=qs(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=n.child.memoizedState,T===null?T=rd(a):(C=T.cachePool,C!==null?(U=At._currentValue,C=C.parent!==U?{parent:U,pool:U}:C):C=qp(),T={baseLanes:T.baseLanes|a,cachePool:C}),h.memoizedState=T,h.childLanes=sd(n,v,a),r.memoizedState=id,l):(Rr(r),a=n.child,n=a.sibling,a=kr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(v=r.deletions,v===null?(r.deletions=[n],r.flags|=16):v.push(n)),r.child=a,r.memoizedState=null,a)}function ad(n,r){return r=od({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function od(n,r){return d_(n,r,0,null)}function ld(n,r,a){return Ms(r,n.child,null,a),n=ad(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function qy(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),fd(n.return,r,a)}function ud(n,r,a,l,h){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Hy(n,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(jt(n,r,l.children,a),l=St.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&qy(n,a,r);else if(n.tag===19)qy(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(Ke(St,l),h){case"forwards":for(a=r.child,h=null;a!==null;)n=a.alternate,n!==null&&oc(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),ud(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&oc(n)===null){r.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}ud(r,!0,a,null,d);break;case"together":ud(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Pi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Ur|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(ml(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=kr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=kr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function cd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&vc(n)))}function Mb(n,r,a){switch(r.tag){case 3:ur(r,r.stateNode.containerInfo),Nr(r,At,n.memoizedState.cache),nl();break;case 27:case 5:Oo(r);break;case 4:ur(r,r.stateNode.containerInfo);break;case 10:Nr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Rr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?By(n,r,a):(Rr(r),n=Pi(n,r,a),n!==null?n.sibling:null);Rr(r);break;case 19:var h=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(ml(n,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Hy(n,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ke(St,St.current),l)break;return null;case 22:case 23:return r.lanes=0,Py(n,r,a);case 24:Nr(r,At,n.memoizedState.cache)}return Pi(n,r,a)}function Fy(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Mt=!0;else{if(!cd(n,a)&&(r.flags&128)===0)return Mt=!1,Mb(n,r,a);Mt=(n.flags&131072)!==0}else Mt=!1,Be&&(r.flags&1048576)!==0&&Ip(r,nc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Sd(l)?(n=Us(l,n),r.tag=1,r=jy(null,r,l,n,a)):(r.tag=0,r=nd(null,r,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===x){r.tag=11,r=My(null,r,l,n,a);break e}else if(h===F){r.tag=14,r=Vy(null,r,l,n,a);break e}}throw r=R(l)||l,Error(s(306,r,""))}}return r;case 0:return nd(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Us(l,r.pendingProps),jy(n,r,l,h,a);case 3:e:{if(ur(r,r.stateNode.containerInfo),n===null)throw Error(s(387));var d=r.pendingProps;h=r.memoizedState,l=h.element,gd(n,r),yl(r,d,null,a);var v=r.memoizedState;if(d=v.cache,Nr(r,At,d),d!==h.cache&&dd(r,[At],a,!0),pl(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=zy(n,r,d,a);break e}else if(d!==l){l=An(Error(s(424)),r),il(l),r=zy(n,r,d,a);break e}else for(Ut=Hn(r.stateNode.containerInfo.firstChild),tn=r,Be=!0,Bn=null,li=!0,a=kp(r,null,d,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(nl(),d===l){r=Pi(n,r,a);break e}jt(n,r,d,a)}r=r.child}return r;case 26:return dl(n,r),n===null?(a=Q_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Be||(a=r.type,n=r.pendingProps,l=Lc(yn.current).createElement(a),l[Nt]=r,l[Tt]=n,zt(l,a,n),et(l),r.stateNode=l):r.memoizedState=Q_(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Oo(r),n===null&&Be&&(l=r.stateNode=F_(r.type,r.pendingProps,yn.current),tn=r,li=!0,Ut=Hn(l.firstChild)),l=r.pendingProps.children,n!==null||Be?jt(n,r,l,a):r.child=Ms(r,null,l,a),dl(n,r),r.child;case 5:return n===null&&Be&&((h=l=Ut)&&(l=uS(l,r.type,r.pendingProps,li),l!==null?(r.stateNode=l,tn=r,Ut=Hn(l.firstChild),li=!1,h=!0):h=!1),h||Os(r)),Oo(r),h=r.type,d=r.pendingProps,v=n!==null?n.memoizedProps:null,l=d.children,Xd(h,d)?l=null:v!==null&&Xd(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Uf(n,r,Rb,null,null,a),Ol._currentValue=h),dl(n,r),jt(n,r,l,a),r.child;case 6:return n===null&&Be&&((n=a=Ut)&&(a=cS(a,r.pendingProps,li),a!==null?(r.stateNode=a,tn=r,Ut=null,n=!0):n=!1),n||Os(r)),null;case 13:return By(n,r,a);case 4:return ur(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Ms(r,null,l,a):jt(n,r,l,a),r.child;case 11:return My(n,r,r.type,r.pendingProps,a);case 7:return jt(n,r,r.pendingProps,a),r.child;case 8:return jt(n,r,r.pendingProps.children,a),r.child;case 12:return jt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Nr(r,r.type,l.value),jt(n,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,zs(r),h=Gt(h),l=l(h),r.flags|=1,jt(n,r,l,a),r.child;case 14:return Vy(n,r,r.type,r.pendingProps,a);case 15:return Ly(n,r,r.type,r.pendingProps,a);case 19:return Hy(n,r,a);case 22:return Py(n,r,a);case 24:return zs(r),l=Gt(At),n===null?(h=Pf(),h===null&&(h=Xe,d=Vf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},md(r),Nr(r,At,h)):((n.lanes&a)!==0&&(gd(n,r),yl(r,null,null,a),pl()),h=n.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Nr(r,At,l)):(l=d.cache,Nr(r,At,l),l!==h.cache&&dd(r,[At],a,!0))),jt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var hd=je(null),js=null,ki=null;function Nr(n,r,a){Ke(hd,r._currentValue),r._currentValue=a}function Ui(n){n._currentValue=hd.current,rt(hd)}function fd(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function dd(n,r,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var C=0;C<r.length;C++)if(T.context===r[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),fd(d.return,a,n),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),fd(v,a,n),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===n){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ml(n,r,a,l){n=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;hn(h.pendingProps.value,v.value)||(n!==null?n.push(T):n=[T])}}else if(h===lr.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Ol):n=[Ol])}h=h.return}n!==null&&dd(r,n,a,l),r.flags|=262144}function vc(n){for(n=n.firstContext;n!==null;){if(!hn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function zs(n){js=n,ki=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Gt(n){return Gy(js,n)}function Ec(n,r){return js===null&&zs(n),Gy(n,r)}function Gy(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ki===null){if(n===null)throw Error(s(308));ki=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else ki=ki.next=r;return a}var xr=!1;function md(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Or(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Mr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=ec(n),Rp(n,null,a),r}return Ju(n,l,r,a),ec(n)}function gl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,gr(n,a)}}function pd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var yd=!1;function pl(){if(yd){var n=La;if(n!==null)throw n}}function yl(n,r,a,l){yd=!1;var h=n.updateQueue;xr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,U=C.next;C.next=null,v===null?d=U:v.next=U,v=C;var X=n.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=U:T.next=U,X.lastBaseUpdate=C))}if(d!==null){var te=h.baseState;v=0,X=U=C=null,T=d;do{var G=T.lane&-536870913,Y=G!==T.lane;if(Y?(ke&G)===G:(l&G)===G){G!==0&&G===Va&&(yd=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var de=n,be=T;G=r;var lt=a;switch(be.tag){case 1:if(de=be.payload,typeof de=="function"){te=de.call(lt,te,G);break e}te=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=be.payload,G=typeof de=="function"?de.call(lt,te,G):de,G==null)break e;te=I({},te,G);break e;case 2:xr=!0}}G=T.callback,G!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(U=X=Y,C=te):X=X.next=Y,v|=G;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);X===null&&(C=te),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Ur|=v,n.lanes=v,n.memoizedState=te}}function Ky(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Qy(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Ky(a[n],r)}function _l(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Ye(r,r.return,T)}}function Vr(n,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&n)===n){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=r;var C=a;try{T()}catch(U){Ye(h,C,U)}}}l=l.next}while(l!==d)}}catch(U){Ye(r,r.return,U)}}function $y(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Qy(r,a)}catch(l){Ye(n,n.return,l)}}}function Yy(n,r,a){a.props=Us(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(n,r,l)}}function Bs(n,r){try{var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?n.refCleanup=a(h):a.current=h}}catch(d){Ye(n,r,d)}}function fn(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ye(n,r,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(n,r,h)}else a.current=null}function Xy(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ye(n,n.return,h)}}function Wy(n,r,a){try{var l=n.stateNode;rS(l,n.type,a,r),l[Tt]=r}catch(h){Ye(n,n.return,h)}}function Zy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function _d(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Zy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function vd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Vc));else if(l!==4&&l!==27&&(n=n.child,n!==null))for(vd(n,r,a),n=n.sibling;n!==null;)vd(n,r,a),n=n.sibling}function Tc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Tc(n,r,a),n=n.sibling;n!==null;)Tc(n,r,a),n=n.sibling}var ji=!1,at=!1,Ed=!1,Jy=typeof WeakSet=="function"?WeakSet:Set,Vt=null,e_=!1;function Vb(n,r){if(n=n.containerInfo,$d=Bc,n=yp(n),wf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,C=-1,U=0,X=0,te=n,G=null;t:for(;;){for(var Y;te!==a||h!==0&&te.nodeType!==3||(T=v+h),te!==d||l!==0&&te.nodeType!==3||(C=v+l),te.nodeType===3&&(v+=te.nodeValue.length),(Y=te.firstChild)!==null;)G=te,te=Y;for(;;){if(te===n)break t;if(G===a&&++U===h&&(T=v),G===d&&++X===l&&(C=v),(Y=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=Y}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yd={focusedElem:n,selectionRange:a},Bc=!1,Vt=r;Vt!==null;)if(r=Vt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Vt=n;else for(;Vt!==null;){switch(r=Vt,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var de=Us(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(be){Ye(a,a.return,be)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Jd(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Jd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Vt=n;break}Vt=r.return}return de=e_,e_=!1,de}function t_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Bi(n,a),l&4&&_l(5,a);break;case 1:if(Bi(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(T){Ye(a,a.return,T)}else{var h=Us(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(h,r,n.__reactInternalSnapshotBeforeUpdate)}catch(T){Ye(a,a.return,T)}}l&64&&$y(a),l&512&&Bs(a,a.return);break;case 3:if(Bi(n,a),l&64&&(l=a.updateQueue,l!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Qy(l,n)}catch(T){Ye(a,a.return,T)}}break;case 26:Bi(n,a),l&512&&Bs(a,a.return);break;case 27:case 5:Bi(n,a),r===null&&l&4&&Xy(a),l&512&&Bs(a,a.return);break;case 12:Bi(n,a);break;case 13:Bi(n,a),l&4&&r_(n,a);break;case 22:if(h=a.memoizedState!==null||ji,!h){r=r!==null&&r.memoizedState!==null||at;var d=ji,v=at;ji=h,(at=r)&&!v?Lr(n,a,(a.subtreeFlags&8772)!==0):Bi(n,a),ji=d,at=v}l&512&&(a.memoizedProps.mode==="manual"?Bs(a,a.return):fn(a,a.return));break;default:Bi(n,a)}}function n_(n){var r=n.alternate;r!==null&&(n.alternate=null,n_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&ys(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var pt=null,dn=!1;function zi(n,r,a){for(a=a.child;a!==null;)i_(n,r,a),a=a.sibling}function i_(n,r,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(cr,a)}catch{}switch(a.tag){case 26:at||fn(a,r),zi(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:at||fn(a,r);var l=pt,h=dn;for(pt=a.stateNode,zi(n,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);ys(a),pt=l,dn=h;break;case 5:at||fn(a,r);case 6:h=pt;var d=dn;if(pt=null,zi(n,r,a),pt=h,dn=d,pt!==null)if(dn)try{n=pt,l=a.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(v){Ye(a,r,v)}else try{pt.removeChild(a.stateNode)}catch(v){Ye(a,r,v)}break;case 18:pt!==null&&(dn?(r=pt,a=a.stateNode,r.nodeType===8?Zd(r.parentNode,a):r.nodeType===1&&Zd(r,a),Pl(r)):Zd(pt,a.stateNode));break;case 4:l=pt,h=dn,pt=a.stateNode.containerInfo,dn=!0,zi(n,r,a),pt=l,dn=h;break;case 0:case 11:case 14:case 15:at||Vr(2,a,r),at||Vr(4,a,r),zi(n,r,a);break;case 1:at||(fn(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Yy(a,r,l)),zi(n,r,a);break;case 21:zi(n,r,a);break;case 22:at||fn(a,r),at=(l=at)||a.memoizedState!==null,zi(n,r,a),at=l;break;default:zi(n,r,a)}}function r_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Pl(n)}catch(a){Ye(r,r.return,a)}}function Lb(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Jy),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Jy),r;default:throw Error(s(435,n.tag))}}function Td(n,r){var a=Lb(n);r.forEach(function(l){var h=$b.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function Dn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=n,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:case 5:pt=T.stateNode,dn=!1;break e;case 3:pt=T.stateNode.containerInfo,dn=!0;break e;case 4:pt=T.stateNode.containerInfo,dn=!0;break e}T=T.return}if(pt===null)throw Error(s(160));i_(d,v,h),pt=null,dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)s_(r,n),r=r.sibling}var qn=null;function s_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Dn(r,n),Nn(n),l&4&&(Vr(3,n,n.return),_l(3,n),Vr(5,n,n.return));break;case 1:Dn(r,n),Nn(n),l&512&&(at||a===null||fn(a,a.return)),l&64&&ji&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=qn;if(Dn(r,n),Nn(n),l&512&&(at||a===null||fn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[yr]||d[Nt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),zt(d,l,a),d[Nt]=n,et(d),l=d;break e;case"link":var v=X_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=X_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Nt]=n,et(d),l=d}n.stateNode=l}else W_(h,n.type,n.stateNode);else n.stateNode=Y_(h,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?W_(h,n.type,n.stateNode):Y_(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Wy(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){h=n.stateNode,d=n.memoizedProps;try{for(var C=h.firstChild;C;){var U=C.nextSibling,X=C.nodeName;C[yr]||X==="HEAD"||X==="BODY"||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=U}for(var te=n.type,G=h.attributes;G.length;)h.removeAttributeNode(G[0]);zt(h,te,d),h[Nt]=n,h[Tt]=d}catch(de){Ye(n,n.return,de)}}case 5:if(Dn(r,n),Nn(n),l&512&&(at||a===null||fn(a,a.return)),n.flags&32){h=n.stateNode;try{En(h,"")}catch(de){Ye(n,n.return,de)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,Wy(n,h,a!==null?a.memoizedProps:h)),l&1024&&(Ed=!0);break;case 6:if(Dn(r,n),Nn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(de){Ye(n,n.return,de)}}break;case 3:if(Uc=null,h=qn,qn=Pc(r.containerInfo),Dn(r,n),qn=h,Nn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Pl(r.containerInfo)}catch(de){Ye(n,n.return,de)}Ed&&(Ed=!1,a_(n));break;case 4:l=qn,qn=Pc(n.stateNode.containerInfo),Dn(r,n),Nn(n),qn=l;break;case 12:Dn(r,n),Nn(n);break;case 13:Dn(r,n),Nn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Nd=sn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Td(n,l)));break;case 22:if(l&512&&(at||a===null||fn(a,a.return)),C=n.memoizedState!==null,U=a!==null&&a.memoizedState!==null,X=ji,te=at,ji=X||C,at=te||U,Dn(r,n),at=te,ji=X,Nn(n),r=n.stateNode,r._current=n,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=C?r._visibility&-2:r._visibility|1,C&&(r=ji||at,a===null||U||r||ja(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,r=n;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){U=a=r;try{if(h=U.stateNode,C)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=U.stateNode,T=U.memoizedProps.style;var Y=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(de){Ye(U,U.return,de)}}}else if(r.tag===6){if(a===null){U=r;try{U.stateNode.nodeValue=C?"":U.memoizedProps}catch(de){Ye(U,U.return,de)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Td(n,a))));break;case 19:Dn(r,n),Nn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Td(n,l)));break;case 21:break;default:Dn(r,n),Nn(n)}}function Nn(n){var r=n.flags;if(r&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(Zy(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=_d(n);Tc(n,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(En(v,""),l.flags&=-33);var T=_d(n);Tc(n,T,v);break;case 3:case 4:var C=l.stateNode.containerInfo,U=_d(n);vd(n,U,C);break;default:throw Error(s(161))}}}catch(X){Ye(n,n.return,X)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function a_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;a_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Bi(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)t_(n,r.alternate,r),r=r.sibling}function ja(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Vr(4,r,r.return),ja(r);break;case 1:fn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Yy(r,r.return,a),ja(r);break;case 26:case 27:case 5:fn(r,r.return),ja(r);break;case 22:fn(r,r.return),r.memoizedState===null&&ja(r);break;default:ja(r)}n=n.sibling}}function Lr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=n,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Lr(h,d,a),_l(4,d);break;case 1:if(Lr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Ye(l,l.return,U)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Ky(C[h],T)}catch(U){Ye(l,l.return,U)}}a&&v&64&&$y(d),Bs(d,d.return);break;case 26:case 27:case 5:Lr(h,d,a),a&&l===null&&v&4&&Xy(d),Bs(d,d.return);break;case 12:Lr(h,d,a);break;case 13:Lr(h,d,a),a&&v&4&&r_(h,d);break;case 22:d.memoizedState===null&&Lr(h,d,a),Bs(d,d.return);break;default:Lr(h,d,a)}r=r.sibling}}function wd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&ll(a))}function bd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ll(n))}function Pr(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)o_(n,r,a,l),r=r.sibling}function o_(n,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Pr(n,r,a,l),h&2048&&_l(9,r);break;case 3:Pr(n,r,a,l),h&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ll(n)));break;case 12:if(h&2048){Pr(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){Ye(r,r.return,C)}}else Pr(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,r.memoizedState!==null?d._visibility&4?Pr(n,r,a,l):vl(n,r):d._visibility&4?Pr(n,r,a,l):(d._visibility|=4,za(n,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&wd(r.alternate,r);break;case 24:Pr(n,r,a,l),h&2048&&bd(r.alternate,r);break;default:Pr(n,r,a,l)}}function za(n,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,v=r,T=a,C=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:za(d,v,T,C,h),_l(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&4?za(d,v,T,C,h):vl(d,v):(X._visibility|=4,za(d,v,T,C,h)),h&&U&2048&&wd(v.alternate,v);break;case 24:za(d,v,T,C,h),h&&U&2048&&bd(v.alternate,v);break;default:za(d,v,T,C,h)}r=r.sibling}}function vl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,h=l.flags;switch(l.tag){case 22:vl(a,l),h&2048&&wd(l.alternate,l);break;case 24:vl(a,l),h&2048&&bd(l.alternate,l);break;default:vl(a,l)}r=r.sibling}}var El=8192;function Ba(n){if(n.subtreeFlags&El)for(n=n.child;n!==null;)l_(n),n=n.sibling}function l_(n){switch(n.tag){case 26:Ba(n),n.flags&El&&n.memoizedState!==null&&bS(qn,n.memoizedState,n.memoizedProps);break;case 5:Ba(n);break;case 3:case 4:var r=qn;qn=Pc(n.stateNode.containerInfo),Ba(n),qn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=El,El=16777216,Ba(n),El=r):Ba(n));break;default:Ba(n)}}function u_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Tl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,h_(l,n)}u_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)c_(n),n=n.sibling}function c_(n){switch(n.tag){case 0:case 11:case 15:Tl(n),n.flags&2048&&Vr(9,n,n.return);break;case 3:Tl(n);break;case 12:Tl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&4&&(n.return===null||n.return.tag!==13)?(r._visibility&=-5,wc(n)):Tl(n);break;default:Tl(n)}}function wc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,h_(l,n)}u_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Vr(8,r,r.return),wc(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,wc(r));break;default:wc(r)}n=n.sibling}}function h_(n,r){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:Vr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=n;Vt!==null;){l=Vt;var h=l.sibling,d=l.return;if(n_(l),l===a){Vt=null;break e}if(h!==null){h.return=d,Vt=h;break e}Vt=d}}}function Pb(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(n,r,a,l){return new Pb(n,r,a,l)}function Sd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function kr(n,r){var a=n.alternate;return a===null?(a=xn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function f_(n,r){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function bc(n,r,a,l,h,d){var v=0;if(l=n,typeof n=="function")Sd(n)&&(v=1);else if(typeof n=="string")v=TS(n,a,Wt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case g:return qs(a.children,h,d,r);case p:v=8,h|=24;break;case E:return n=xn(12,a,r,h|2),n.elementType=E,n.lanes=d,n;case K:return n=xn(13,a,r,h),n.elementType=K,n.lanes=d,n;case q:return n=xn(19,a,r,h),n.elementType=q,n.lanes=d,n;case Z:return d_(a,h,d,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case b:case N:v=10;break e;case A:v=9;break e;case x:v=11;break e;case F:v=14;break e;case $:v=16,l=null;break e}v=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=xn(v,a,r,h),r.elementType=n,r.type=l,r.lanes=d,r}function qs(n,r,a,l){return n=xn(7,n,l,r),n.lanes=a,n}function d_(n,r,a,l){n=xn(22,n,l,r),n.elementType=Z,n.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var v=Ar(d,2);v!==null&&(h._pendingVisibility|=2,nn(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var v=Ar(d,2);v!==null&&(h._pendingVisibility&=-3,nn(v,d,2))}}};return n.stateNode=h,n}function Ad(n,r,a){return n=xn(6,n,null,r),n.lanes=a,n}function Rd(n,r,a){return r=xn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function qi(n){n.flags|=4}function m_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Z_(r)){if(r=In.current,r!==null&&((ke&4194176)===ke?ui!==null:(ke&62914560)!==ke&&(ke&536870912)===0||r!==ui))throw sl=xf,xp;n.flags|=8192}}function Sc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?dr():536870912,n.lanes|=r,Ha|=r)}function wl(n,r){if(!Be)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function tt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function kb(n,r,a){var l=r.pendingProps;switch(Df(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(r),null;case 1:return tt(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ui(At),Ti(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(tl(r)?qi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Bn!==null&&(Vd(Bn),Bn=null))),tt(r),null;case 26:return a=r.memoizedState,n===null?(qi(r),a!==null?(tt(r),m_(r,a)):(tt(r),r.flags&=-16777217)):a?a!==n.memoizedState?(qi(r),tt(r),m_(r,a)):(tt(r),r.flags&=-16777217):(n.memoizedProps!==l&&qi(r),tt(r),r.flags&=-16777217),null;case 27:la(r),a=yn.current;var h=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&qi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return tt(r),null}n=Wt.current,tl(r)?Dp(r):(n=F_(h,l,a),r.stateNode=n,qi(r))}return tt(r),null;case 5:if(la(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&qi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return tt(r),null}if(n=Wt.current,tl(r))Dp(r);else{switch(h=Lc(yn.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[Nt]=r,n[Tt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=n;e:switch(zt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&qi(r)}}return tt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&qi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=yn.current,tl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[Nt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||U_(n.nodeValue,a)),n||Os(r)}else n=Lc(n).createTextNode(l),n[Nt]=r,r.stateNode=n}return tt(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=tl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Nt]=r}else nl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;tt(r),h=!1}else Bn!==null&&(Vd(Bn),Bn=null),h=!0;if(!h)return r.flags&256?(Vi(r),r):(Vi(r),null)}if(Vi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Sc(r,r.updateQueue),tt(r),null;case 4:return Ti(),n===null&&Gd(r.stateNode.containerInfo),tt(r),null;case 10:return Ui(r.type),tt(r),null;case 19:if(rt(St),h=r.memoizedState,h===null)return tt(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)wl(h,!1);else{if(ot!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=oc(n),d!==null){for(r.flags|=128,wl(h,!1),n=d.updateQueue,r.updateQueue=n,Sc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)f_(a,n),a=a.sibling;return Ke(St,St.current&1|2),r.child}n=n.sibling}h.tail!==null&&sn()>Ac&&(r.flags|=128,l=!0,wl(h,!1),r.lanes=4194304)}else{if(!l)if(n=oc(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Sc(r,n),wl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return tt(r),null}else 2*sn()-h.renderingStartTime>Ac&&a!==536870912&&(r.flags|=128,l=!0,wl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(n=h.last,n!==null?n.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=sn(),r.sibling=null,n=St.current,Ke(St,l?n&1|2:n&1),r):(tt(r),null);case 22:case 23:return Vi(r),Mf(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(tt(r),r.subtreeFlags&6&&(r.flags|=8192)):tt(r),a=r.updateQueue,a!==null&&Sc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&rt(Vs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ui(At),tt(r),null;case 25:return null}throw Error(s(156,r.tag))}function Ub(n,r){switch(Df(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Ui(At),Ti(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return la(r),null;case 13:if(Vi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));nl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return rt(St),null;case 4:return Ti(),null;case 10:return Ui(r.type),null;case 22:case 23:return Vi(r),Mf(),n!==null&&rt(Vs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Ui(At),null;case 25:return null;default:return null}}function g_(n,r){switch(Df(r),r.tag){case 3:Ui(At),Ti();break;case 26:case 27:case 5:la(r);break;case 4:Ti();break;case 13:Vi(r);break;case 19:rt(St);break;case 10:Ui(r.type);break;case 22:case 23:Vi(r),Mf(),n!==null&&rt(Vs);break;case 24:Ui(At)}}var jb={getCacheForType:function(n){var r=Gt(At),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},zb=typeof WeakMap=="function"?WeakMap:Map,nt=0,Xe=null,Ne=null,ke=0,We=0,mn=null,Hi=!1,qa=!1,Cd=!1,Fi=0,ot=0,Ur=0,Hs=0,Id=0,On=0,Ha=0,bl=null,hi=null,Dd=!1,Nd=0,Ac=1/0,Rc=null,jr=null,Cc=!1,Fs=null,Sl=0,xd=0,Od=null,Al=0,Md=null;function gn(){if((nt&2)!==0&&ke!==0)return ke&-ke;if(S.T!==null){var n=Va;return n!==0?n:Bd()}return Mu()}function p_(){On===0&&(On=(ke&536870912)===0||Be?ko():536870912);var n=In.current;return n!==null&&(n.flags|=32),On}function nn(n,r,a){(n===Xe&&We===2||n.cancelPendingCommit!==null)&&(Fa(n,0),Gi(n,ke,On,!1)),ut(n,a),((nt&2)===0||n!==Xe)&&(n===Xe&&((nt&2)===0&&(Hs|=a),ot===4&&Gi(n,ke,On,!1)),fi(n))}function y_(n,r,a){if((nt&6)!==0)throw Error(s(327));var l=!a&&(r&60)===0&&(r&n.expiredLanes)===0||fr(n,r),h=l?Hb(n,r):kd(n,r,!0),d=l;do{if(h===0){qa&&!l&&Gi(n,r,0,!1);break}else if(h===6)Gi(n,r,0,!Hi);else{if(a=n.current.alternate,d&&!Bb(a)){h=kd(n,r,!1),d=!1;continue}if(h===2){if(d=r,n.errorRecoveryDisabledLanes&d)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=n;h=bl;var C=T.current.memoizedState.isDehydrated;if(C&&(Fa(T,v).flags|=256),v=kd(T,v,!1),v!==2){if(Cd&&!C){T.errorRecoveryDisabledLanes|=d,Hs|=d,h=4;break e}d=hi,hi=h,d!==null&&Vd(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Fa(n,0),Gi(n,r,0,!0);break}e:{switch(l=n,h){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){Gi(l,r,On,!Hi);break e}break;case 2:hi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(d=Nd+300-sn(),10<d)){if(Gi(l,r,On,!Hi),_n(l,0)!==0)break e;l.timeoutHandle=B_(__.bind(null,l,a,hi,Rc,Dd,r,On,Hs,Ha,Hi,2,-0,0),d);break e}__(l,a,hi,Rc,Dd,r,On,Hs,Ha,Hi,0,-0,0)}}break}while(!0);fi(n)}function Vd(n){hi===null?hi=n:hi.push.apply(hi,n)}function __(n,r,a,l,h,d,v,T,C,U,X,te,G){var Y=r.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(xl={stylesheets:null,count:0,unsuspend:wS},l_(r),r=SS(),r!==null)){n.cancelPendingCommit=r(A_.bind(null,n,a,l,h,v,T,C,1,te,G)),Gi(n,d,v,!U);return}A_(n,a,l,h,v,T,C,X,te,G)}function Bb(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Gi(n,r,a,l){r&=~Id,r&=~Hs,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var h=r;0<h;){var d=31-Zt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&mr(n,a,r)}function Ic(){return(nt&6)===0?(Rl(0),!1):!0}function Ld(){if(Ne!==null){if(We===0)var n=Ne.return;else n=Ne,ki=js=null,Bf(n),Oa=null,al=0,n=Ne;for(;n!==null;)g_(n.alternate,n),n=n.return;Ne=null}}function Fa(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,aS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Ld(),Xe=n,Ne=a=kr(n.current,null),ke=r,We=0,mn=null,Hi=!1,qa=fr(n,r),Cd=!1,Ha=On=Id=Hs=Ur=ot=0,hi=bl=null,Dd=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var h=31-Zt(l),d=1<<h;r|=n[h],l&=~d}return Fi=r,Zu(),a}function v_(n,r){Ie=null,S.H=ci,r===rl?(r=Vp(),We=3):r===xp?(r=Vp(),We=4):We=r===Oy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,mn=r,Ne===null&&(ot=1,_c(n,An(r,n.current)))}function E_(){var n=S.H;return S.H=ci,n===null?ci:n}function T_(){var n=S.A;return S.A=jb,n}function Pd(){ot=4,Hi||(ke&4194176)!==ke&&In.current!==null||(qa=!0),(Ur&134217727)===0&&(Hs&134217727)===0||Xe===null||Gi(Xe,ke,On,!1)}function kd(n,r,a){var l=nt;nt|=2;var h=E_(),d=T_();(Xe!==n||ke!==r)&&(Rc=null,Fa(n,r)),r=!1;var v=ot;e:do try{if(We!==0&&Ne!==null){var T=Ne,C=mn;switch(We){case 8:Ld(),v=6;break e;case 3:case 2:case 6:In.current===null&&(r=!0);var U=We;if(We=0,mn=null,Ga(n,T,C,U),a&&qa){v=0;break e}break;default:U=We,We=0,mn=null,Ga(n,T,C,U)}}qb(),v=ot;break}catch(X){v_(n,X)}while(!0);return r&&n.shellSuspendCounter++,ki=js=null,nt=l,S.H=h,S.A=d,Ne===null&&(Xe=null,ke=0,Zu()),v}function qb(){for(;Ne!==null;)w_(Ne)}function Hb(n,r){var a=nt;nt|=2;var l=E_(),h=T_();Xe!==n||ke!==r?(Rc=null,Ac=sn()+500,Fa(n,r)):qa=fr(n,r);e:do try{if(We!==0&&Ne!==null){r=Ne;var d=mn;t:switch(We){case 1:We=0,mn=null,Ga(n,r,d,1);break;case 2:if(Op(d)){We=0,mn=null,b_(r);break}r=function(){We===2&&Xe===n&&(We=7),fi(n)},d.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Op(d)?(We=0,mn=null,b_(r)):(We=0,mn=null,Ga(n,r,d,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var T=Ne;if(!v||Z_(v)){We=0,mn=null;var C=T.sibling;if(C!==null)Ne=C;else{var U=T.return;U!==null?(Ne=U,Dc(U)):Ne=null}break t}}We=0,mn=null,Ga(n,r,d,5);break;case 6:We=0,mn=null,Ga(n,r,d,6);break;case 8:Ld(),ot=6;break e;default:throw Error(s(462))}}Fb();break}catch(X){v_(n,X)}while(!0);return ki=js=null,S.H=l,S.A=h,nt=a,Ne!==null?0:(Xe=null,ke=0,Zu(),ot)}function Fb(){for(;Ne!==null&&!hf();)w_(Ne)}function w_(n){var r=Fy(n.alternate,n,Fi);n.memoizedProps=n.pendingProps,r===null?Dc(n):Ne=r}function b_(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=Uy(a,r,r.pendingProps,r.type,void 0,ke);break;case 11:r=Uy(a,r,r.pendingProps,r.type.render,r.ref,ke);break;case 5:Bf(r);default:g_(a,r),r=Ne=f_(r,Fi),r=Fy(a,r,Fi)}n.memoizedProps=n.pendingProps,r===null?Dc(n):Ne=r}function Ga(n,r,a,l){ki=js=null,Bf(r),Oa=null,al=0;var h=r.return;try{if(Ob(n,h,r,a,ke)){ot=1,_c(n,An(a,n.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ot=1,_c(n,An(a,n.current)),Ne=null;return}r.flags&32768?(Be||l===1?n=!0:qa||(ke&536870912)!==0?n=!1:(Hi=n=!0,(l===2||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),S_(r,n)):Dc(r)}function Dc(n){var r=n;do{if((r.flags&32768)!==0){S_(r,Hi);return}n=r.return;var a=kb(r.alternate,r,Fi);if(a!==null){Ne=a;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=n}while(r!==null);ot===0&&(ot=5)}function S_(n,r){do{var a=Ub(n.alternate,n);if(a!==null){a.flags&=32767,Ne=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Ne=n;return}Ne=n=a}while(n!==null);ot=6,Ne=null}function A_(n,r,a,l,h,d,v,T,C,U){var X=S.T,te=le.p;try{le.p=2,S.T=null,Gb(n,r,a,l,te,h,d,v,T,C,U)}finally{S.T=X,le.p=te}}function Gb(n,r,a,l,h,d,v,T){do Ka();while(Fs!==null);if((nt&6)!==0)throw Error(s(327));var C=n.finishedWork;if(l=n.finishedLanes,C===null)return null;if(n.finishedWork=null,n.finishedLanes=0,C===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var U=C.lanes|C.childLanes;if(U|=Rf,xu(n,l,U,d,v,T),n===Xe&&(Ne=Xe=null,ke=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||Cc||(Cc=!0,xd=U,Od=a,Yb(wi,function(){return Ka(),null})),a=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,d=le.p,le.p=2,v=nt,nt|=4,Vb(n,C),s_(C,n),gb(Yd,n.containerInfo),Bc=!!$d,Yd=$d=null,n.current=C,t_(n,C.alternate,C),Mo(),nt=v,le.p=d,S.T=a):n.current=C,Cc?(Cc=!1,Fs=n,Sl=l):R_(n,U),U=n.pendingLanes,U===0&&(jr=null),Lo(C.stateNode),fi(n),r!==null)for(h=n.onRecoverableError,C=0;C<r.length;C++)U=r[C],h(U.value,{componentStack:U.stack});return(Sl&3)!==0&&Ka(),U=n.pendingLanes,(l&4194218)!==0&&(U&42)!==0?n===Md?Al++:(Al=0,Md=n):Al=0,Rl(0),null}function R_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,ll(r)))}function Ka(){if(Fs!==null){var n=Fs,r=xd;xd=0;var a=Ou(Sl),l=S.T,h=le.p;try{if(le.p=32>a?32:a,S.T=null,Fs===null)var d=!1;else{a=Od,Od=null;var v=Fs,T=Sl;if(Fs=null,Sl=0,(nt&6)!==0)throw Error(s(331));var C=nt;if(nt|=4,c_(v.current),o_(v,v.current,T,a),nt=C,Rl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(cr,v)}catch{}d=!0}return d}finally{le.p=h,S.T=l,R_(n,r)}}return!1}function C_(n,r,a){r=An(a,r),r=td(n.stateNode,r,2),n=Mr(n,r,2),n!==null&&(ut(n,2),fi(n))}function Ye(n,r,a){if(n.tag===3)C_(n,n,a);else for(;r!==null;){if(r.tag===3){C_(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(jr===null||!jr.has(l))){n=An(a,n),a=Ny(2),l=Mr(r,a,2),l!==null&&(xy(a,l,r,n),ut(l,2),fi(l));break}}r=r.return}}function Ud(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new zb;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Cd=!0,h.add(a),n=Kb.bind(null,n,r,a),r.then(n,n))}function Kb(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Xe===n&&(ke&a)===a&&(ot===4||ot===3&&(ke&62914560)===ke&&300>sn()-Nd?(nt&2)===0&&Fa(n,0):Id|=a,Ha===ke&&(Ha=0)),fi(n)}function I_(n,r){r===0&&(r=dr()),n=Ar(n,r),n!==null&&(ut(n,r),fi(n))}function Qb(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),I_(n,a)}function $b(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),I_(n,a)}function Yb(n,r){return ms(n,r)}var Nc=null,Qa=null,jd=!1,xc=!1,zd=!1,Gs=0;function fi(n){n!==Qa&&n.next===null&&(Qa===null?Nc=Qa=n:Qa=Qa.next=n),xc=!0,jd||(jd=!0,Wb(Xb))}function Rl(n,r){if(!zd&&xc){zd=!0;do for(var a=!1,l=Nc;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Zt(42|n)+1)-1,d&=h&~(v&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,x_(l,d))}else d=ke,d=_n(l,l===Xe?d:0),(d&3)===0||fr(l,d)||(a=!0,x_(l,d));l=l.next}while(a);zd=!1}}function Xb(){xc=jd=!1;var n=0;Gs!==0&&(sS()&&(n=Gs),Gs=0);for(var r=sn(),a=null,l=Nc;l!==null;){var h=l.next,d=D_(l,r);d===0?(l.next=null,a===null?Nc=h:a.next=h,h===null&&(Qa=a)):(a=l,(n!==0||(d&3)!==0)&&(xc=!0)),l=h}Rl(n)}function D_(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var v=31-Zt(d),T=1<<v,C=h[v];C===-1?((T&a)===0||(T&l)!==0)&&(h[v]=ha(T,r)):C<=r&&(n.expiredLanes|=T),d&=~T}if(r=Xe,a=ke,a=_n(n,n===r?a:0),l=n.callbackNode,a===0||n===r&&We===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ca(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||fr(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&ca(l),Ou(a)){case 2:case 8:a=Dt;break;case 32:a=wi;break;case 268435456:a=Vo;break;default:a=wi}return l=N_.bind(null,n),a=ms(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&ca(l),n.callbackPriority=2,n.callbackNode=null,2}function N_(n,r){var a=n.callbackNode;if(Ka()&&n.callbackNode!==a)return null;var l=ke;return l=_n(n,n===Xe?l:0),l===0?null:(y_(n,l,r),D_(n,sn()),n.callbackNode!=null&&n.callbackNode===a?N_.bind(null,n):null)}function x_(n,r){if(Ka())return null;y_(n,r,!0)}function Wb(n){oS(function(){(nt&6)!==0?ms(Et,n):n()})}function Bd(){return Gs===0&&(Gs=ko()),Gs}function O_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ti(""+n)}function M_(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function Zb(n,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=O_((h[Tt]||null).action),v=l.submitter;v&&(r=(r=v[Tt]||null)?O_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new _a("action","action",null,l,h);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Gs!==0){var C=v?M_(h,v):new FormData(h);Xf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=v?M_(h,v):new FormData(h),Xf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var qd=0;qd<Ap.length;qd++){var Hd=Ap[qd],Jb=Hd.toLowerCase(),eS=Hd[0].toUpperCase()+Hd.slice(1);zn(Jb,"on"+eS)}zn(Ep,"onAnimationEnd"),zn(Tp,"onAnimationIteration"),zn(wp,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(yb,"onTransitionRun"),zn(_b,"onTransitionStart"),zn(vb,"onTransitionCancel"),zn(bp,"onTransitionEnd"),an("onMouseEnter",["mouseout","mouseover"]),an("onMouseLeave",["mouseout","mouseover"]),an("onPointerEnter",["pointerout","pointerover"]),an("onPointerLeave",["pointerout","pointerover"]),un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),un("onBeforeInput",["compositionend","keypress","textInput","paste"]),un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function V_(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],C=T.instance,U=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=U;try{d(h)}catch(X){yc(X)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(T=l[v],C=T.instance,U=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=U;try{d(h)}catch(X){yc(X)}h.currentTarget=null,d=C}}}}function Me(n,r){var a=r[ps];a===void 0&&(a=r[ps]=new Set);var l=n+"__bubble";a.has(l)||(L_(r,n,2,!1),a.add(l))}function Fd(n,r,a){var l=0;r&&(l|=4),L_(a,n,l,r)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Gd(n){if(!n[Oc]){n[Oc]=!0,jo.forEach(function(a){a!=="selectionchange"&&(tS.has(a)||Fd(a,!1,n),Fd(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Oc]||(r[Oc]=!0,Fd("selectionchange",!1,r))}}function L_(n,r,a,l){switch(rv(r)){case 2:var h=CS;break;case 8:h=IS;break;default:h=rm}a=h.bind(null,r,a,n),h=void 0,!wn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(r,a,{capture:!0,passive:h}):n.addEventListener(r,a,!0):h!==void 0?n.addEventListener(r,a,{passive:h}):n.addEventListener(r,a,!1)}function Kd(n,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&(C=v.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;v=v.return}for(;T!==null;){if(v=jn(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}T=T.parentNode}}l=l.return}ku(function(){var U=d,X=ya(a),te=[];e:{var G=Sp.get(n);if(G!==void 0){var Y=_a,de=n;switch(n){case"keypress":if(ii(a)===0)break e;case"keydown":case"keyup":Y=Sa;break;case"focusin":de="focus",Y=Ta;break;case"focusout":de="blur",Y=Ta;break;case"beforeblur":case"afterblur":Y=Ta;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=_f;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Gu;break;case Ep:case Tp:case wp:Y=wa;break;case bp:Y=Qu;break;case"scroll":case"scrollend":Y=Uu;break;case"wheel":Y=Aa;break;case"copy":case"cut":case"paste":Y=ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Wo;break;case"toggle":case"beforetoggle":Y=Yu}var be=(r&4)!==0,lt=!be&&(n==="scroll"||n==="scrollend"),j=be?G!==null?G+"Capture":null:G;be=[];for(var L=U,H;L!==null;){var W=L;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||j===null||(W=Ts(L,j),W!=null&&be.push(Il(L,W,H))),lt)break;L=L.return}0<be.length&&(G=new Y(G,de,null,a,X),te.push({event:G,listeners:be}))}}if((r&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",G&&a!==Tn&&(de=a.relatedTarget||a.fromElement)&&(jn(de)||de[bi]))break e;if((Y||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(de=a.relatedTarget||a.toElement,Y=U,de=de?jn(de):null,de!==null&&(lt=pe(de),be=de.tag,de!==lt||be!==5&&be!==27&&be!==6)&&(de=null)):(Y=null,de=U),Y!==de)){if(be=bn,W="onMouseLeave",j="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(be=Wo,W="onPointerLeave",j="onPointerEnter",L="pointer"),lt=Y==null?G:_r(Y),H=de==null?G:_r(de),G=new be(W,L+"leave",Y,a,X),G.target=lt,G.relatedTarget=H,W=null,jn(X)===U&&(be=new be(j,L+"enter",de,a,X),be.target=H,be.relatedTarget=lt,W=be),lt=W,Y&&de)t:{for(be=Y,j=de,L=0,H=be;H;H=$a(H))L++;for(H=0,W=j;W;W=$a(W))H++;for(;0<L-H;)be=$a(be),L--;for(;0<H-L;)j=$a(j),H--;for(;L--;){if(be===j||j!==null&&be===j.alternate)break t;be=$a(be),j=$a(j)}be=null}else be=null;Y!==null&&P_(te,G,Y,be,!1),de!==null&&lt!==null&&P_(te,lt,de,be,!0)}}e:{if(G=U?_r(U):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var ce=up;else if(bt(G))if(cp)ce=db;else{ce=hb;var De=cb}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?U&&Fo(U.elementType)&&(ce=up):ce=fb;if(ce&&(ce=ce(n,U))){xi(te,ce,a,X);break e}De&&De(n,G,U),n==="focusout"&&U&&G.type==="number"&&U.memoizedProps.value!=null&&pa(G,"number",G.value)}switch(De=U?_r(U):window,n){case"focusin":(bt(De)||De.contentEditable==="true")&&(Ra=De,bf=U,el=null);break;case"focusout":el=bf=Ra=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,_p(te,a,X);break;case"selectionchange":if(pb)break;case"keydown":case"keyup":_p(te,a,X)}var ge;if(ai)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Le?Q(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(Le||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Le&&(ge=Ko()):(ni=X,Sr="value"in ni?ni.value:ni.textContent,Le=!0)),De=Mc(U,_e),0<De.length&&(_e=new Yo(_e,n,null,a,X),te.push({event:_e,listeners:De}),ge?_e.data=ge:(ge=ie(a),ge!==null&&(_e.data=ge)))),(ge=y?wt(n,a):Pe(n,a))&&(_e=Mc(U,"onBeforeInput"),0<_e.length&&(De=new Yo("onBeforeInput","beforeinput",null,a,X),te.push({event:De,listeners:_e}),De.data=ge)),Zb(te,n,U,a,X)}V_(te,r)})}function Il(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Mc(n,r){for(var a=r+"Capture",l=[];n!==null;){var h=n,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ts(n,a),h!=null&&l.unshift(Il(n,h,d)),h=Ts(n,r),h!=null&&l.push(Il(n,h,d))),n=n.return}return l}function $a(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function P_(n,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,C=T.alternate,U=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||U===null||(C=U,h?(U=Ts(a,d),U!=null&&v.unshift(Il(a,U,C))):h||(U=Ts(a,d),U!=null&&v.push(Il(a,U,C)))),a=a.return}v.length!==0&&n.push({event:r,listeners:v})}var nS=/\r\n?/g,iS=/\u0000|\uFFFD/g;function k_(n){return(typeof n=="string"?n:""+n).replace(nS,`
`).replace(iS,"")}function U_(n,r){return r=k_(r),k_(n)===r}function Vc(){}function $e(n,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||En(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&En(n,""+l);break;case"className":Tr(n,"class",l);break;case"tabIndex":Tr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tr(n,a,l);break;case"style":Pu(n,l,d);break;case"data":if(r!=="object"){Tr(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ti(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&$e(n,r,"name",h.name,h,null),$e(n,r,"formEncType",h.formEncType,h,null),$e(n,r,"formMethod",h.formMethod,h,null),$e(n,r,"formTarget",h.formTarget,h,null)):($e(n,r,"encType",h.encType,h,null),$e(n,r,"method",h.method,h,null),$e(n,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ti(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Vc);break;case"onScroll":l!=null&&Me("scroll",n);break;case"onScrollEnd":l!=null&&Me("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=ti(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Me("beforetoggle",n),Me("toggle",n),Er(n,"popover",l);break;case"xlinkActuate":vn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":vn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":vn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":vn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":vn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":vn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":vn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":vn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":vn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Er(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pf.get(a)||a,Er(n,a,l))}}function Qd(n,r,a,l,h,d){switch(a){case"style":Pu(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?En(n,l):(typeof l=="number"||typeof l=="bigint")&&En(n,""+l);break;case"onScroll":l!=null&&Me("scroll",n);break;case"onScrollEnd":l!=null&&Me("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Vc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ma.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=n[Tt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,h);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Er(n,a,l)}}}function zt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",n),Me("load",n);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(n,r,d,v,a,null)}}h&&$e(n,r,"srcSet",a.srcSet,a,null),l&&$e(n,r,"src",a.src,a,null);return;case"input":Me("invalid",n);var T=d=v=h=null,C=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":C=X;break;case"defaultChecked":U=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:$e(n,r,l,X,a,null)}}vs(n,d,T,C,U,v,h,!1),_s(n);return;case"select":Me("invalid",n),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:$e(n,r,h,T,a,null)}r=d,a=v,n.multiple=!!l,r!=null?ze(n,!!l,r,!1):a!=null&&ze(n,!!l,a,!0);return;case"textarea":Me("invalid",n),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:$e(n,r,v,T,a,null)}br(n,l,h,d),_s(n);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(n,r,C,l,a,null)}return;case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":Me("load",n);break;case"video":case"audio":for(l=0;l<Cl.length;l++)Me(Cl[l],n);break;case"image":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"embed":case"source":case"link":Me("error",n),Me("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(n,r,U,l,a,null)}return;default:if(Fo(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Qd(n,r,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&$e(n,r,T,l,a,null))}function rS(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,C=null,U=null,X=null;for(Y in a){var te=a[Y];if(a.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":C=te;default:l.hasOwnProperty(Y)||$e(n,r,Y,null,l,te)}}for(var G in l){var Y=l[G];if(te=a[G],l.hasOwnProperty(G)&&(Y!=null||te!=null))switch(G){case"type":d=Y;break;case"name":h=Y;break;case"checked":U=Y;break;case"defaultChecked":X=Y;break;case"value":v=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==te&&$e(n,r,G,Y,l,te)}}wr(n,v,T,C,U,X,d,h);return;case"select":Y=v=T=G=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":Y=C;default:l.hasOwnProperty(d)||$e(n,r,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":G=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==C&&$e(n,r,h,d,l,C)}r=T,a=v,l=Y,G!=null?ze(n,!!a,G,!1):!!l!=!!a&&(r!=null?ze(n,!!a,r,!0):ze(n,!!a,a?[]:"",!1));return;case"textarea":Y=G=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$e(n,r,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":G=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&$e(n,r,v,h,l,d)}Es(n,G,Y);return;case"option":for(var de in a)if(G=a[de],a.hasOwnProperty(de)&&G!=null&&!l.hasOwnProperty(de))switch(de){case"selected":n.selected=!1;break;default:$e(n,r,de,null,l,G)}for(C in l)if(G=l[C],Y=a[C],l.hasOwnProperty(C)&&G!==Y&&(G!=null||Y!=null))switch(C){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:$e(n,r,C,G,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)G=a[be],a.hasOwnProperty(be)&&G!=null&&!l.hasOwnProperty(be)&&$e(n,r,be,null,l,G);for(U in l)if(G=l[U],Y=a[U],l.hasOwnProperty(U)&&G!==Y&&(G!=null||Y!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:$e(n,r,U,G,l,Y)}return;default:if(Fo(r)){for(var lt in a)G=a[lt],a.hasOwnProperty(lt)&&G!==void 0&&!l.hasOwnProperty(lt)&&Qd(n,r,lt,void 0,l,G);for(X in l)G=l[X],Y=a[X],!l.hasOwnProperty(X)||G===Y||G===void 0&&Y===void 0||Qd(n,r,X,G,l,Y);return}}for(var j in a)G=a[j],a.hasOwnProperty(j)&&G!=null&&!l.hasOwnProperty(j)&&$e(n,r,j,null,l,G);for(te in l)G=l[te],Y=a[te],!l.hasOwnProperty(te)||G===Y||G==null&&Y==null||$e(n,r,te,G,l,Y)}var $d=null,Yd=null;function Lc(n){return n.nodeType===9?n:n.ownerDocument}function j_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z_(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Xd(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Wd=null;function sS(){var n=window.event;return n&&n.type==="popstate"?n===Wd?!1:(Wd=n,!0):(Wd=null,!1)}var B_=typeof setTimeout=="function"?setTimeout:void 0,aS=typeof clearTimeout=="function"?clearTimeout:void 0,q_=typeof Promise=="function"?Promise:void 0,oS=typeof queueMicrotask=="function"?queueMicrotask:typeof q_<"u"?function(n){return q_.resolve(null).then(n).catch(lS)}:B_;function lS(n){setTimeout(function(){throw n})}function Zd(n,r){var a=r,l=0;do{var h=a.nextSibling;if(n.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){n.removeChild(h),Pl(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Pl(r)}function Jd(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jd(a),ys(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function uS(n,r,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[yr])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==h.rel||n.getAttribute("href")!==(h.href==null?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Hn(n.nextSibling),n===null)break}return null}function cS(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Hn(n.nextSibling),n===null))return null;return n}function Hn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}function H_(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function F_(n,r,a){switch(r=Lc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var Mn=new Map,G_=new Set;function Pc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var Ki=le.d;le.d={f:hS,r:fS,D:dS,C:mS,L:gS,m:pS,X:_S,S:yS,M:vS};function hS(){var n=Ki.f(),r=Ic();return n||r}function fS(n){var r=Si(n);r!==null&&r.tag===5&&r.type==="form"?_y(r):Ki.r(n)}var Ya=typeof document>"u"?null:document;function K_(n,r,a){var l=Ya;if(l&&typeof r=="string"&&r){var h=st(r);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),G_.has(h)||(G_.add(h),n={rel:n,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),zt(r,"link",n),et(r),l.head.appendChild(r)))}}function dS(n){Ki.D(n),K_("dns-prefetch",n,null)}function mS(n,r){Ki.C(n,r),K_("preconnect",n,r)}function gS(n,r,a){Ki.L(n,r,a);var l=Ya;if(l&&n&&r){var h='link[rel="preload"][as="'+st(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+st(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+st(a.imageSizes)+'"]')):h+='[href="'+st(n)+'"]';var d=h;switch(r){case"style":d=Xa(n);break;case"script":d=Wa(n)}Mn.has(d)||(n=I({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Mn.set(d,n),l.querySelector(h)!==null||r==="style"&&l.querySelector(Dl(d))||r==="script"&&l.querySelector(Nl(d))||(r=l.createElement("link"),zt(r,"link",n),et(r),l.head.appendChild(r)))}}function pS(n,r){Ki.m(n,r);var a=Ya;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+st(l)+'"][href="'+st(n)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Wa(n)}if(!Mn.has(d)&&(n=I({rel:"modulepreload",href:n},r),Mn.set(d,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(d)))return}l=a.createElement("link"),zt(l,"link",n),et(l),a.head.appendChild(l)}}}function yS(n,r,a){Ki.S(n,r,a);var l=Ya;if(l&&n){var h=vr(l).hoistableStyles,d=Xa(n);r=r||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Dl(d)))T.loading=5;else{n=I({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Mn.get(d))&&em(n,a);var C=v=l.createElement("link");et(C),zt(C,"link",n),C._p=new Promise(function(U,X){C.onload=U,C.onerror=X}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,kc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function _S(n,r){Ki.X(n,r);var a=Ya;if(a&&n){var l=vr(a).hoistableScripts,h=Wa(n),d=l.get(h);d||(d=a.querySelector(Nl(h)),d||(n=I({src:n,async:!0},r),(r=Mn.get(h))&&tm(n,r),d=a.createElement("script"),et(d),zt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function vS(n,r){Ki.M(n,r);var a=Ya;if(a&&n){var l=vr(a).hoistableScripts,h=Wa(n),d=l.get(h);d||(d=a.querySelector(Nl(h)),d||(n=I({src:n,async:!0,type:"module"},r),(r=Mn.get(h))&&tm(n,r),d=a.createElement("script"),et(d),zt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Q_(n,r,a,l){var h=(h=yn.current)?Pc(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Xa(a.href),a=vr(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Xa(a.href);var d=vr(h).hoistableStyles,v=d.get(n);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,v),(d=h.querySelector(Dl(n)))&&!d._p&&(v.instance=d,v.state.loading=5),Mn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(n,a),d||ES(h,n,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Wa(a),a=vr(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Xa(n){return'href="'+st(n)+'"'}function Dl(n){return'link[rel="stylesheet"]['+n+"]"}function $_(n){return I({},n,{"data-precedence":n.precedence,precedence:null})}function ES(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),zt(r,"link",a),et(r),n.head.appendChild(r))}function Wa(n){return'[src="'+st(n)+'"]'}function Nl(n){return"script[async]"+n}function Y_(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+st(a.href)+'"]');if(l)return r.instance=l,et(l),l;var h=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),et(l),zt(l,"style",h),kc(l,a.precedence,n),r.instance=l;case"stylesheet":h=Xa(a.href);var d=n.querySelector(Dl(h));if(d)return r.state.loading|=4,r.instance=d,et(d),d;l=$_(a),(h=Mn.get(h))&&em(l,h),d=(n.ownerDocument||n).createElement("link"),et(d);var v=d;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),zt(d,"link",l),r.state.loading|=4,kc(d,a.precedence,n),r.instance=d;case"script":return d=Wa(a.src),(h=n.querySelector(Nl(d)))?(r.instance=h,et(h),h):(l=a,(h=Mn.get(d))&&(l=I({},a),tm(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),et(h),zt(h,"link",l),n.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,kc(l,a.precedence,n));return r.instance}function kc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function em(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function tm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Uc=null;function X_(n,r,a){if(Uc===null){var l=new Map,h=Uc=new Map;h.set(a,l)}else h=Uc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var d=a[h];if(!(d[yr]||d[Nt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=n+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function W_(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function TS(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Z_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var xl=null;function wS(){}function bS(n,r,a){if(xl===null)throw Error(s(475));var l=xl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Xa(a.href),d=n.querySelector(Dl(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=jc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,et(d);return}d=n.ownerDocument||n,a=$_(a),(h=Mn.get(h))&&em(a,h),d=d.createElement("link"),et(d);var v=d;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),zt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=jc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function SS(){if(xl===null)throw Error(s(475));var n=xl;return n.stylesheets&&n.count===0&&nm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&nm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function jc(){if(this.count--,this.count===0){if(this.stylesheets)nm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var zc=null;function nm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,zc=new Map,r.forEach(AS,n),zc=null,jc.call(n))}function AS(n,r){if(!(r.state.loading&4)){var a=zc.get(n);if(a)var l=a.get(null);else{a=new Map,zc.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=jc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),r.state.loading|=4}}var Ol={$$typeof:N,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function RS(n,r,a,l,h,d,v,T){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.hiddenUpdates=fa(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function J_(n,r,a,l,h,d,v,T,C,U,X,te){return n=new RS(n,r,a,v,T,C,U,te),r=1,d===!0&&(r|=24),d=xn(3,null,null,r),n.current=d,d.stateNode=n,r=Vf(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},md(d),n}function ev(n){return n?(n=Da,n):Da}function tv(n,r,a,l,h,d){h=ev(h),l.context===null?l.context=h:l.pendingContext=h,l=Or(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Mr(n,l,r),a!==null&&(nn(a,n,r),gl(a,n,r))}function nv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function im(n,r){nv(n,r),(n=n.alternate)&&nv(n,r)}function iv(n){if(n.tag===13){var r=Ar(n,67108864);r!==null&&nn(r,n,67108864),im(n,67108864)}}var Bc=!0;function CS(n,r,a,l){var h=S.T;S.T=null;var d=le.p;try{le.p=2,rm(n,r,a,l)}finally{le.p=d,S.T=h}}function IS(n,r,a,l){var h=S.T;S.T=null;var d=le.p;try{le.p=8,rm(n,r,a,l)}finally{le.p=d,S.T=h}}function rm(n,r,a,l){if(Bc){var h=sm(l);if(h===null)Kd(n,r,l,qc,a),sv(n,l);else if(NS(h,n,r,a,l))l.stopPropagation();else if(sv(n,l),r&4&&-1<DS.indexOf(n)){for(;h!==null;){var d=Si(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Un(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-Zt(v);T.entanglements[1]|=C,v&=~C}fi(d),(nt&6)===0&&(Ac=sn()+500,Rl(0))}}break;case 13:T=Ar(d,2),T!==null&&nn(T,d,2),Ic(),im(d,2)}if(d=sm(l),d===null&&Kd(n,r,l,qc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Kd(n,r,l,null,a)}}function sm(n){return n=ya(n),am(n)}var qc=null;function am(n){if(qc=null,n=jn(n),n!==null){var r=pe(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=He(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return qc=n,null}function rv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cu()){case Et:return 2;case Dt:return 8;case wi:case Iu:return 32;case Vo:return 268435456;default:return 32}default:return 32}}var om=!1,zr=null,Br=null,qr=null,Ml=new Map,Vl=new Map,Hr=[],DS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sv(n,r){switch(n){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Ml.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(r.pointerId)}}function Ll(n,r,a,l,h,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Si(r),r!==null&&iv(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),n)}function NS(n,r,a,l,h){switch(r){case"focusin":return zr=Ll(zr,n,r,a,l,h),!0;case"dragenter":return Br=Ll(Br,n,r,a,l,h),!0;case"mouseover":return qr=Ll(qr,n,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ml.set(d,Ll(Ml.get(d)||null,n,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Vl.set(d,Ll(Vl.get(d)||null,n,r,a,l,h)),!0}return!1}function av(n){var r=jn(n.target);if(r!==null){var a=pe(r);if(a!==null){if(r=a.tag,r===13){if(r=He(a),r!==null){n.blockedOn=r,pr(n.priority,function(){if(a.tag===13){var l=gn(),h=Ar(a,l);h!==null&&nn(h,a,l),im(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Hc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=sm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Tn=l,a.target.dispatchEvent(l),Tn=null}else return r=Si(a),r!==null&&iv(r),n.blockedOn=a,!1;r.shift()}return!0}function ov(n,r,a){Hc(n)&&a.delete(r)}function xS(){om=!1,zr!==null&&Hc(zr)&&(zr=null),Br!==null&&Hc(Br)&&(Br=null),qr!==null&&Hc(qr)&&(qr=null),Ml.forEach(ov),Vl.forEach(ov)}function Fc(n,r){n.blockedOn===r&&(n.blockedOn=null,om||(om=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,xS)))}var Gc=null;function lv(n){Gc!==n&&(Gc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Gc===n&&(Gc=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],h=n[r+2];if(typeof l!="function"){if(am(l||a)===null)continue;break}var d=Si(a);d!==null&&(n.splice(r,3),r-=3,Xf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Pl(n){function r(C){return Fc(C,n)}zr!==null&&Fc(zr,n),Br!==null&&Fc(Br,n),qr!==null&&Fc(qr,n),Ml.forEach(r),Vl.forEach(r);for(var a=0;a<Hr.length;a++){var l=Hr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Hr.length&&(a=Hr[0],a.blockedOn===null);)av(a),a.blockedOn===null&&Hr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Tt]||null;if(typeof d=="function")v||lv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Tt]||null)T=v.formAction;else if(am(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),lv(a)}}}function lm(n){this._internalRoot=n}Kc.prototype.render=lm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=gn();tv(a,l,n,r,null,null)},Kc.prototype.unmount=lm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;n.tag===0&&Ka(),tv(n.current,2,null,n,null,null),Ic(),r[bi]=null}};function Kc(n){this._internalRoot=n}Kc.prototype.unstable_scheduleHydration=function(n){if(n){var r=Mu();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Hr.length&&r!==0&&r<Hr[a].priority;a++);Hr.splice(a,0,n),a===0&&av(n)}};var uv=e.version;if(uv!=="19.0.0")throw Error(s(527,uv,"19.0.0"));le.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=ne(r),n=n!==null?me(n):null,n=n===null?null:n.stateNode,n};var OS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:jn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{cr=Qc.inject(OS),Ft=Qc}catch{}}return Ul.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",h=Ry,d=Cy,v=Iy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=J_(n,1,!1,null,null,a,l,h,d,v,T,null),n[bi]=r.current,Gd(n.nodeType===8?n.parentNode:n),new lm(r)},Ul.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,h="",d=Ry,v=Cy,T=Iy,C=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),r=J_(n,1,!0,r,a??null,l,h,d,v,T,C,U),r.context=ev(null),a=r.current,l=gn(),h=Or(l),h.callback=null,Mr(a,h,l),r.current.lanes=l,ut(r,l),fi(r),n[bi]=r.current,Gd(n),new Kc(r)},Ul.version="19.0.0",Ul}var vv;function BS(){if(vv)return hm.exports;vv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),hm.exports=zS(),hm.exports}var qS=BS();const HS=ag(qS);var jl={},Ev;function FS(){if(Ev)return jl;Ev=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.parse=f,jl.serialize=p;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,N){const x=new u,K=A.length;if(K<2)return x;const q=(N==null?void 0:N.decode)||E;let F=0;do{const $=A.indexOf("=",F);if($===-1)break;const Z=A.indexOf(";",F),ae=Z===-1?K:Z;if($>ae){F=A.lastIndexOf(";",$-1)+1;continue}const re=m(A,F,$),fe=g(A,$,re),O=A.slice(re,fe);if(x[O]===void 0){let R=m(A,$+1,ae),S=g(A,ae,R);const I=q(A.slice(R,S));x[O]=I}F=ae+1}while(F<K);return x}function m(A,N,x){do{const K=A.charCodeAt(N);if(K!==32&&K!==9)return N}while(++N<x);return x}function g(A,N,x){for(;N>x;){const K=A.charCodeAt(--N);if(K!==32&&K!==9)return N+1}return x}function p(A,N,x){const K=(x==null?void 0:x.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const q=K(N);if(!e.test(q))throw new TypeError(`argument val is invalid: ${N}`);let F=A+"="+q;if(!x)return F;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);F+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);F+="; Domain="+x.domain}if(x.path){if(!s.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);F+="; Path="+x.path}if(x.expires){if(!b(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);F+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(F+="; HttpOnly"),x.secure&&(F+="; Secure"),x.partitioned&&(F+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return F}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function b(A){return o.call(A)==="[object Date]"}return jl}FS();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Tv="popstate";function GS(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Dm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Jl(o)}return QS(e,t,null,i)}function Je(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function $n(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KS(){return Math.random().toString(36).substring(2,10)}function wv(i,e){return{usr:i.state,key:i.key,idx:e}}function Dm(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Eo(e):e,state:t,key:e&&e.key||s||KS()}}function Jl({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Eo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function QS(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,p=E();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let q=E(),F=q==null?null:q-p;p=q,g&&g({action:m,location:K.location,delta:F})}function A(q,F){m="PUSH";let $=Dm(K.location,q,F);p=E()+1;let Z=wv($,p),ae=K.createHref($);try{f.pushState(Z,"",ae)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(ae)}u&&g&&g({action:m,location:K.location,delta:1})}function N(q,F){m="REPLACE";let $=Dm(K.location,q,F);p=E();let Z=wv($,p),ae=K.createHref($);f.replaceState(Z,"",ae),u&&g&&g({action:m,location:K.location,delta:0})}function x(q){let F=o.location.origin!=="null"?o.location.origin:o.location.href,$=typeof q=="string"?q:Jl(q);return $=$.replace(/ $/,"%20"),Je(F,`No window.location.(origin|href) available to create URL for href: ${$}`),new URL($,F)}let K={get action(){return m},get location(){return i(o,f)},listen(q){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Tv,b),g=q,()=>{o.removeEventListener(Tv,b),g=null}},createHref(q){return e(o,q)},createURL:x,encodeLocation(q){let F=x(q);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:A,replace:N,go(q){return f.go(q)}};return K}function oE(i,e,t="/"){return $S(i,e,t,!1)}function $S(i,e,t,s){let o=typeof e=="string"?Eo(e):e,u=is(o.pathname||"/",t);if(u==null)return null;let f=lE(i);YS(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=aA(u);m=rA(f[g],p,s)}return m}function lE(i,e=[],t=[],s=""){let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(Je(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let p=Ji([s,g.relativePath]),E=t.concat(g);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),lE(u.children,e,E,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:nA(p,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let g of uE(u.path))o(u,f,g)}),e}function uE(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=uE(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function YS(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:iA(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var XS=/^:[\w-]+$/,WS=3,ZS=2,JS=1,eA=10,tA=-2,bv=i=>i==="*";function nA(i,e){let t=i.split("/"),s=t.length;return t.some(bv)&&(s+=tA),e&&(s+=ZS),t.filter(o=>!bv(o)).reduce((o,u)=>o+(XS.test(u)?WS:u===""?JS:eA),s)}function iA(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function rA(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=vh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),A=g.route;if(!b&&p&&t&&!s[s.length-1].route.index&&(b=vh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:Ji([u,b.pathname]),pathnameBase:cA(Ji([u,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(u=Ji([u,b.pathnameBase]))}return f}function vh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=sA(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:b},A)=>{if(E==="*"){let x=m[A]||"";f=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const N=m[A];return b&&!N?p[E]=void 0:p[E]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:i}}function sA(i,e=!1,t=!0){$n(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function aA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function is(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function oA(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?Eo(i):i;return{pathname:t?t.startsWith("/")?t:lA(t,e):e,search:hA(s),hash:fA(o)}}function lA(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function gm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uA(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function lg(i){let e=uA(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function ug(i,e,t,s=!1){let o;typeof i=="string"?o=Eo(i):(o={...i},Je(!o.pathname||!o.pathname.includes("?"),gm("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),gm("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),gm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=t;else{let b=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),b-=1;o.pathname=A.join("/")}m=b>=0?e[b]:"/"}let g=oA(o,m),p=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var Ji=i=>i.join("/").replace(/\/\/+/g,"/"),cA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),hA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,fA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function dA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var cE=["POST","PUT","PATCH","DELETE"];new Set(cE);var mA=["GET",...cE];new Set(mA);var To=k.createContext(null);To.displayName="DataRouter";var Hh=k.createContext(null);Hh.displayName="DataRouterState";var hE=k.createContext({isTransitioning:!1});hE.displayName="ViewTransition";var gA=k.createContext(new Map);gA.displayName="Fetchers";var pA=k.createContext(null);pA.displayName="Await";var Xn=k.createContext(null);Xn.displayName="Navigation";var cu=k.createContext(null);cu.displayName="Location";var vi=k.createContext({outlet:null,matches:[],isDataRoute:!1});vi.displayName="Route";var cg=k.createContext(null);cg.displayName="RouteError";function yA(i,{relative:e}={}){Je(wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=k.useContext(Xn),{hash:o,pathname:u,search:f}=hu(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:Ji([t,u])),s.createHref({pathname:m,search:f,hash:o})}function wo(){return k.useContext(cu)!=null}function cs(){return Je(wo(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(cu).location}var fE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dE(i){k.useContext(Xn).static||k.useLayoutEffect(i)}function bo(){let{isDataRoute:i}=k.useContext(vi);return i?NA():_A()}function _A(){Je(wo(),"useNavigate() may be used only in the context of a <Router> component.");let i=k.useContext(To),{basename:e,navigator:t}=k.useContext(Xn),{matches:s}=k.useContext(vi),{pathname:o}=cs(),u=JSON.stringify(lg(s)),f=k.useRef(!1);return dE(()=>{f.current=!0}),k.useCallback((g,p={})=>{if($n(f.current,fE),!f.current)return;if(typeof g=="number"){t.go(g);return}let E=ug(g,JSON.parse(u),o,p.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ji([e,E.pathname])),(p.replace?t.replace:t.push)(E,p.state,p)},[e,t,u,o,i])}k.createContext(null);function hu(i,{relative:e}={}){let{matches:t}=k.useContext(vi),{pathname:s}=cs(),o=JSON.stringify(lg(t));return k.useMemo(()=>ug(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function vA(i,e){return mE(i,e)}function mE(i,e,t,s){var $;Je(wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=k.useContext(Xn),{matches:f}=k.useContext(vi),m=f[f.length-1],g=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let Z=b&&b.path||"";gE(p,!b||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let A=cs(),N;if(e){let Z=typeof e=="string"?Eo(e):e;Je(E==="/"||(($=Z.pathname)==null?void 0:$.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),N=Z}else N=A;let x=N.pathname||"/",K=x;if(E!=="/"){let Z=E.replace(/^\//,"").split("/");K="/"+x.replace(/^\//,"").split("/").slice(Z.length).join("/")}let q=!u&&t&&t.matches&&t.matches.length>0?t.matches:oE(i,{pathname:K});$n(b||q!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),$n(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=SA(q&&q.map(Z=>Object.assign({},Z,{params:Object.assign({},g,Z.params),pathname:Ji([E,o.encodeLocation?o.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?E:Ji([E,o.encodeLocation?o.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),f,t,s);return e&&F?k.createElement(cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},F):F}function EA(){let i=DA(),e=dA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),t?k.createElement("pre",{style:o},t):null,f)}var TA=k.createElement(EA,null),wA=class extends k.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?k.createElement(vi.Provider,{value:this.props.routeContext},k.createElement(cg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bA({routeContext:i,match:e,children:t}){let s=k.useContext(To);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(vi.Provider,{value:i},t)}function SA(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t==null?void 0:t.errors;if(u!=null){let g=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);Je(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(t)for(let g=0;g<o.length;g++){let p=o[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:E,errors:b}=t,A=p.route.loader&&!E.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||A){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,p,E)=>{let b,A=!1,N=null,x=null;t&&(b=u&&p.route.id?u[p.route.id]:void 0,N=p.route.errorElement||TA,f&&(m<0&&E===0?(gE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,x=null):m===E&&(A=!0,x=p.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,E+1)),q=()=>{let F;return b?F=N:A?F=x:p.route.Component?F=k.createElement(p.route.Component,null):p.route.element?F=p.route.element:F=g,k.createElement(bA,{match:p,routeContext:{outlet:g,matches:K,isDataRoute:t!=null},children:F})};return t&&(p.route.ErrorBoundary||p.route.errorElement||E===0)?k.createElement(wA,{location:t.location,revalidation:t.revalidation,component:N,error:b,children:q(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):q()},null)}function hg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AA(i){let e=k.useContext(To);return Je(e,hg(i)),e}function RA(i){let e=k.useContext(Hh);return Je(e,hg(i)),e}function CA(i){let e=k.useContext(vi);return Je(e,hg(i)),e}function fg(i){let e=CA(i),t=e.matches[e.matches.length-1];return Je(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function IA(){return fg("useRouteId")}function DA(){var s;let i=k.useContext(cg),e=RA("useRouteError"),t=fg("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function NA(){let{router:i}=AA("useNavigate"),e=fg("useNavigate"),t=k.useRef(!1);return dE(()=>{t.current=!0}),k.useCallback(async(o,u={})=>{$n(t.current,fE),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Sv={};function gE(i,e,t){!e&&!Sv[i]&&(Sv[i]=!0,$n(!1,t))}k.memo(xA);function xA({routes:i,future:e,state:t}){return mE(i,void 0,t,e)}function OA({to:i,replace:e,state:t,relative:s}){Je(wo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=k.useContext(Xn);$n(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=k.useContext(vi),{pathname:f}=cs(),m=bo(),g=ug(i,lg(u),f,s==="path"),p=JSON.stringify(g);return k.useEffect(()=>{m(JSON.parse(p),{replace:e,state:t,relative:s})},[m,p,s,e,t]),null}function Ks(i){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MA({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){Je(!wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof t=="string"&&(t=Eo(t));let{pathname:g="/",search:p="",hash:E="",state:b=null,key:A="default"}=t,N=k.useMemo(()=>{let x=is(g,f);return x==null?null:{location:{pathname:x,search:p,hash:E,state:b,key:A},navigationType:s}},[f,g,p,E,b,A,s]);return $n(N!=null,`<Router basename="${f}"> is not able to match the URL "${g}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:k.createElement(Xn.Provider,{value:m},k.createElement(cu.Provider,{children:e,value:N}))}function VA({children:i,location:e}){return vA(Nm(i),e)}function Nm(i,e=[]){let t=[];return k.Children.forEach(i,(s,o)=>{if(!k.isValidElement(s))return;let u=[...e,o];if(s.type===k.Fragment){t.push.apply(t,Nm(s.props.children,u));return}Je(s.type===Ks,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Nm(s.props.children,u)),t.push(f)}),t}var ah="get",oh="application/x-www-form-urlencoded";function Fh(i){return i!=null&&typeof i.tagName=="string"}function LA(i){return Fh(i)&&i.tagName.toLowerCase()==="button"}function PA(i){return Fh(i)&&i.tagName.toLowerCase()==="form"}function kA(i){return Fh(i)&&i.tagName.toLowerCase()==="input"}function UA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function jA(i,e){return i.button===0&&(!e||e==="_self")&&!UA(i)}var $c=null;function zA(){if($c===null)try{new FormData(document.createElement("form"),0),$c=!1}catch{$c=!0}return $c}var BA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pm(i){return i!=null&&!BA.has(i)?($n(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oh}"`),null):i}function qA(i,e){let t,s,o,u,f;if(PA(i)){let m=i.getAttribute("action");s=m?is(m,e):null,t=i.getAttribute("method")||ah,o=pm(i.getAttribute("enctype"))||oh,u=new FormData(i)}else if(LA(i)||kA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?is(g,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||ah,o=pm(i.getAttribute("formenctype"))||pm(m.getAttribute("enctype"))||oh,u=new FormData(m,i),!zA()){let{name:p,type:E,value:b}=i;if(E==="image"){let A=p?`${p}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else p&&u.append(p,b)}}else{if(Fh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ah,s=null,o=oh,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:f}}function dg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function HA(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function GA(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await HA(u,t);return f.links?f.links():[]}return[]}));return YA(s.flat(1).filter(FA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Av(i,e,t,s,o,u){let f=(g,p)=>t[p]?g.route.id!==t[p].route.id:!0,m=(g,p)=>{var E;return t[p].pathname!==g.pathname||((E=t[p].route.path)==null?void 0:E.endsWith("*"))&&t[p].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,p)=>f(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{var b;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function KA(i,e,{includeHydrateFallback:t}={}){return QA(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function QA(i){return[...new Set(i)]}function $A(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function YA(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify($A(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function XA(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function WA(){let i=k.useContext(To);return dg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function ZA(){let i=k.useContext(Hh);return dg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var mg=k.createContext(void 0);mg.displayName="FrameworkContext";function pE(){let i=k.useContext(mg);return dg(i,"You must render this element inside a <HydratedRouter> element"),i}function JA(i,e){let t=k.useContext(mg),[s,o]=k.useState(!1),[u,f]=k.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:b}=e,A=k.useRef(null);k.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let K=F=>{F.forEach($=>{f($.isIntersecting)})},q=new IntersectionObserver(K,{threshold:.5});return A.current&&q.observe(A.current),()=>{q.disconnect()}}},[i]),k.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let N=()=>{o(!0)},x=()=>{o(!1),f(!1)};return t?i!=="intent"?[u,A,{}]:[u,A,{onFocus:zl(m,N),onBlur:zl(g,x),onMouseEnter:zl(p,N),onMouseLeave:zl(E,x),onTouchStart:zl(b,N)}]:[!1,A,{}]}function zl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function eR({page:i,...e}){let{router:t}=WA(),s=k.useMemo(()=>oE(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?k.createElement(nR,{page:i,matches:s,...e}):null}function tR(i){let{manifest:e,routeModules:t}=pE(),[s,o]=k.useState([]);return k.useEffect(()=>{let u=!1;return GA(i,e,t).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,t]),s}function nR({page:i,matches:e,...t}){let s=cs(),{manifest:o,routeModules:u}=pE(),{loaderData:f,matches:m}=ZA(),g=k.useMemo(()=>Av(i,e,m,o,s,"data"),[i,e,m,o,s]),p=k.useMemo(()=>Av(i,e,m,o,s,"assets"),[i,e,m,o,s]),E=k.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let N=new Set,x=!1;if(e.forEach(q=>{var $;let F=o.routes[q.route.id];!F||!F.hasLoader||(!g.some(Z=>Z.route.id===q.route.id)&&q.route.id in f&&(($=u[q.route.id])!=null&&$.shouldRevalidate)||F.hasClientLoader?x=!0:N.add(q.route.id))}),N.size===0)return[];let K=XA(i);return x&&N.size>0&&K.searchParams.set("_routes",e.filter(q=>N.has(q.route.id)).map(q=>q.route.id).join(",")),[K.pathname+K.search]},[f,s,o,g,e,i,u]),b=k.useMemo(()=>KA(p,o),[p,o]),A=tR(p);return k.createElement(k.Fragment,null,E.map(N=>k.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),b.map(N=>k.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),A.map(({key:N,link:x})=>k.createElement("link",{key:N,...x})))}function iR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var yE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yE&&(window.__reactRouterVersion="7.2.0")}catch{}function rR({basename:i,children:e,window:t}){let s=k.useRef();s.current==null&&(s.current=GS({window:t,v5Compat:!0}));let o=s.current,[u,f]=k.useState({action:o.action,location:o.location}),m=k.useCallback(g=>{k.startTransition(()=>f(g))},[f]);return k.useLayoutEffect(()=>o.listen(m),[o,m]),k.createElement(MA,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var _E=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vn=k.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:p,preventScrollReset:E,viewTransition:b,...A},N){let{basename:x}=k.useContext(Xn),K=typeof p=="string"&&_E.test(p),q,F=!1;if(typeof p=="string"&&K&&(q=p,yE))try{let S=new URL(window.location.href),I=p.startsWith("//")?new URL(S.protocol+p):new URL(p),M=is(I.pathname,x);I.origin===S.origin&&M!=null?p=M+I.search+I.hash:F=!0}catch{$n(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=yA(p,{relative:o}),[Z,ae,re]=JA(s,A),fe=lR(p,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:b});function O(S){e&&e(S),S.defaultPrevented||fe(S)}let R=k.createElement("a",{...A,...re,href:q||$,onClick:F||u?e:O,ref:iR(N,ae),target:g,"data-discover":!K&&t==="render"?"true":void 0});return Z&&!K?k.createElement(k.Fragment,null,R,k.createElement(eR,{page:$})):R});Vn.displayName="Link";var sR=k.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...p},E){let b=hu(f,{relative:p.relative}),A=cs(),N=k.useContext(Hh),{navigator:x,basename:K}=k.useContext(Xn),q=N!=null&&dR(b)&&m===!0,F=x.encodeLocation?x.encodeLocation(b).pathname:b.pathname,$=A.pathname,Z=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||($=$.toLowerCase(),Z=Z?Z.toLowerCase():null,F=F.toLowerCase()),Z&&K&&(Z=is(Z,K)||Z);const ae=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let re=$===F||!o&&$.startsWith(F)&&$.charAt(ae)==="/",fe=Z!=null&&(Z===F||!o&&Z.startsWith(F)&&Z.charAt(F.length)==="/"),O={isActive:re,isPending:fe,isTransitioning:q},R=re?e:void 0,S;typeof s=="function"?S=s(O):S=[s,re?"active":null,fe?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(O):u;return k.createElement(Vn,{...p,"aria-current":R,className:S,ref:E,style:I,to:f,viewTransition:m},typeof g=="function"?g(O):g)});sR.displayName="NavLink";var aR=k.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:f=ah,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:b,...A},N)=>{let x=hR(),K=fR(m,{relative:p}),q=f.toLowerCase()==="get"?"get":"post",F=typeof m=="string"&&_E.test(m),$=Z=>{if(g&&g(Z),Z.defaultPrevented)return;Z.preventDefault();let ae=Z.nativeEvent.submitter,re=(ae==null?void 0:ae.getAttribute("formmethod"))||f;x(ae||Z.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:b})};return k.createElement("form",{ref:N,method:q,action:K,onSubmit:s?g:$,...A,"data-discover":!F&&i==="render"?"true":void 0})});aR.displayName="Form";function oR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vE(i){let e=k.useContext(To);return Je(e,oR(i)),e}function lR(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=bo(),g=cs(),p=hu(i,{relative:u});return k.useCallback(E=>{if(jA(E,e)){E.preventDefault();let b=t!==void 0?t:Jl(g)===Jl(p);m(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,p,t,s,e,i,o,u,f])}var uR=0,cR=()=>`__${String(++uR)}__`;function hR(){let{router:i}=vE("useSubmit"),{basename:e}=k.useContext(Xn),t=IA();return k.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:g,body:p}=qA(s,e);if(o.navigate===!1){let E=o.fetcherKey||cR();await i.fetch(E,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function fR(i,{relative:e}={}){let{basename:t}=k.useContext(Xn),s=k.useContext(vi);Je(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...hu(i||".",{relative:e})},f=cs();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Ji([t,u.pathname])),Jl(u)}function dR(i,e={}){let t=k.useContext(hE);Je(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=vE("useViewTransitionState"),o=hu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=is(t.currentLocation.pathname,s)||t.currentLocation.pathname,f=is(t.nextLocation.pathname,s)||t.nextLocation.pathname;return vh(o.pathname,f)!=null||vh(o.pathname,u)!=null}new TextEncoder;var mR=aE();const gR=()=>{};var Rv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},pR=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],f=i[t++],m=i[t++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[t++],f=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},TE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,g=o+2<i.length,p=g?i[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let A=(m&15)<<2|p>>6,N=p&63;g||(N=64,f||(A=64)),s.push(t[E],t[b],t[A],t[N])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(EE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):pR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const p=o<i.length?t[i.charAt(o)]:64;++o;const b=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||p==null||b==null)throw new yR;const A=u<<2|m>>4;if(s.push(A),p!==64){const N=m<<4&240|p>>2;if(s.push(N),b!==64){const x=p<<6&192|b;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class yR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _R=function(i){const e=EE(i);return TE.encodeByteArray(e,!0)},Eh=function(i){return _R(i).replace(/\./g,"")},wE=function(i){try{return TE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=()=>vR().__FIREBASE_DEFAULTS__,TR=()=>{if(typeof process>"u"||typeof Rv>"u")return;const i=Rv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},wR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&wE(i[1]);return e&&JSON.parse(e)},Gh=()=>{try{return gR()||ER()||TR()||wR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},bE=i=>{var e,t;return(t=(e=Gh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},bR=i=>{const e=bE(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},SE=()=>{var i;return(i=Gh())===null||i===void 0?void 0:i.config},AE=i=>{var e;return(e=Gh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Eh(JSON.stringify(t)),Eh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function CR(){var i;const e=(i=Gh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function NR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xR(){const i=Xt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function OR(){return!CR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MR(){try{return typeof indexedDB=="object"}catch{return!1}}function VR(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="FirebaseError";class or extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=LR,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?PR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new or(o,m,s)}}function PR(i,e){return i.replace(kR,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const kR=/\{\$([^}]+)}/g;function UR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Zs(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Cv(u)&&Cv(f)){if(!Zs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Cv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Bl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function ql(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function jR(i,e){const t=new zR(i,e);return t.subscribe.bind(t)}class zR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");BR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=ym),o.error===void 0&&(o.error=ym),o.complete===void 0&&(o.complete=ym);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BR(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function ym(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(i){return i&&i._delegate?i._delegate:i}class Js{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new SR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FR(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:HR(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HR(i){return i===Qs?void 0:i}function FR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new qR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(xe||(xe={}));const KR={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},QR=xe.INFO,$R={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},YR=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=$R[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gg{constructor(e){this.name=e,this._logLevel=QR,this._logHandler=YR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const XR=(i,e)=>e.some(t=>i instanceof t);let Iv,Dv;function WR(){return Iv||(Iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZR(){return Dv||(Dv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RE=new WeakMap,xm=new WeakMap,CE=new WeakMap,_m=new WeakMap,pg=new WeakMap;function JR(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{t(Wr(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&RE.set(t,i)}).catch(()=>{}),pg.set(e,i),e}function e1(i){if(xm.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{t(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});xm.set(i,e)}let Om={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return xm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||CE.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function t1(i){Om=i(Om)}function n1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(vm(this),e,...t);return CE.set(s,e.sort?e.sort():[e]),Wr(s)}:ZR().includes(i)?function(...e){return i.apply(vm(this),e),Wr(RE.get(this))}:function(...e){return Wr(i.apply(vm(this),e))}}function i1(i){return typeof i=="function"?n1(i):(i instanceof IDBTransaction&&e1(i),XR(i,WR())?new Proxy(i,Om):i)}function Wr(i){if(i instanceof IDBRequest)return JR(i);if(_m.has(i))return _m.get(i);const e=i1(i);return e!==i&&(_m.set(i,e),pg.set(e,i)),e}const vm=i=>pg.get(i);function r1(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=Wr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Wr(f.result),g.oldVersion,g.newVersion,Wr(f.transaction),g)}),t&&f.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const s1=["get","getKey","getAll","getAllKeys","count"],a1=["put","add","delete","clear"],Em=new Map;function Nv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Em.get(e))return Em.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=a1.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||s1.includes(t)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[t](...m),o&&g.done]))[0]};return Em.set(e,u),u}t1(i=>({...i,get:(e,t,s)=>Nv(e,t)||i.get(e,t,s),has:(e,t)=>!!Nv(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(l1(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function l1(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mm="@firebase/app",xv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new gg("@firebase/app"),u1="@firebase/app-compat",c1="@firebase/analytics-compat",h1="@firebase/analytics",f1="@firebase/app-check-compat",d1="@firebase/app-check",m1="@firebase/auth",g1="@firebase/auth-compat",p1="@firebase/database",y1="@firebase/data-connect",_1="@firebase/database-compat",v1="@firebase/functions",E1="@firebase/functions-compat",T1="@firebase/installations",w1="@firebase/installations-compat",b1="@firebase/messaging",S1="@firebase/messaging-compat",A1="@firebase/performance",R1="@firebase/performance-compat",C1="@firebase/remote-config",I1="@firebase/remote-config-compat",D1="@firebase/storage",N1="@firebase/storage-compat",x1="@firebase/firestore",O1="@firebase/vertexai",M1="@firebase/firestore-compat",V1="firebase",L1="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="[DEFAULT]",P1={[Mm]:"fire-core",[u1]:"fire-core-compat",[h1]:"fire-analytics",[c1]:"fire-analytics-compat",[d1]:"fire-app-check",[f1]:"fire-app-check-compat",[m1]:"fire-auth",[g1]:"fire-auth-compat",[p1]:"fire-rtdb",[y1]:"fire-data-connect",[_1]:"fire-rtdb-compat",[v1]:"fire-fn",[E1]:"fire-fn-compat",[T1]:"fire-iid",[w1]:"fire-iid-compat",[b1]:"fire-fcm",[S1]:"fire-fcm-compat",[A1]:"fire-perf",[R1]:"fire-perf-compat",[C1]:"fire-rc",[I1]:"fire-rc-compat",[D1]:"fire-gcs",[N1]:"fire-gcs-compat",[x1]:"fire-fst",[M1]:"fire-fst-compat",[O1]:"fire-vertex","fire-js":"fire-js",[V1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Map,k1=new Map,Lm=new Map;function Ov(i,e){try{i.container.addComponent(e)}catch(t){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function co(i){const e=i.name;if(Lm.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;Lm.set(e,i);for(const t of Th.values())Ov(t,i);for(const t of k1.values())Ov(t,i);return!0}function yg(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function pn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new fu("app","Firebase",U1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=L1;function IE(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Vm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Zr.create("bad-app-name",{appName:String(o)});if(t||(t=SE()),!t)throw Zr.create("no-options");const u=Th.get(o);if(u){if(Zs(t,u.options)&&Zs(s,u.config))return u;throw Zr.create("duplicate-app",{appName:o})}const f=new GR(o);for(const g of Lm.values())f.addComponent(g);const m=new j1(t,s,f);return Th.set(o,m),m}function DE(i=Vm){const e=Th.get(i);if(!e&&i===Vm&&SE())return IE();if(!e)throw Zr.create("no-app",{appName:i});return e}function Jr(i,e,t){var s;let o=(s=P1[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(m.join(" "));return}co(new Js(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="firebase-heartbeat-database",B1=1,eu="firebase-heartbeat-store";let Tm=null;function NE(){return Tm||(Tm=r1(z1,B1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(eu)}catch(t){console.warn(t)}}}}).catch(i=>{throw Zr.create("idb-open",{originalErrorMessage:i.message})})),Tm}async function q1(i){try{const t=(await NE()).transaction(eu),s=await t.objectStore(eu).get(xE(i));return await t.done,s}catch(e){if(e instanceof or)nr.warn(e.message);else{const t=Zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nr.warn(t.message)}}}async function Mv(i,e){try{const s=(await NE()).transaction(eu,"readwrite");await s.objectStore(eu).put(e,xE(i)),await s.done}catch(t){if(t instanceof or)nr.warn(t.message);else{const s=Zr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});nr.warn(s.message)}}}function xE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=1024,F1=30;class G1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Q1(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Vv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>F1){const f=$1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){nr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Vv(),{heartbeatsToSend:s,unsentEntries:o}=K1(this._heartbeatsCache.heartbeats),u=Eh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return nr.warn(t),""}}}function Vv(){return new Date().toISOString().substring(0,10)}function K1(i,e=H1){const t=[];let s=i.slice();for(const o of i){const u=t.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Lv(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Lv(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class Q1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MR()?VR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await q1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Mv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Mv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Lv(i){return Eh(JSON.stringify({version:2,heartbeats:i})).length}function $1(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(i){co(new Js("platform-logger",e=>new o1(e),"PRIVATE")),co(new Js("heartbeat",e=>new G1(e),"PRIVATE")),Jr(Mm,xv,i),Jr(Mm,xv,"esm2017"),Jr("fire-js","")}Y1("");function _g(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function OE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X1=OE,ME=new fu("auth","Firebase",OE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new gg("@firebase/auth");function W1(i,...e){wh.logLevel<=xe.WARN&&wh.warn(`Auth (${So}): ${i}`,...e)}function lh(i,...e){wh.logLevel<=xe.ERROR&&wh.error(`Auth (${So}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(i,...e){throw Eg(i,...e)}function Kn(i,...e){return Eg(i,...e)}function vg(i,e,t){const s=Object.assign(Object.assign({},X1()),{[e]:t});return new fu("auth","Firebase",s).create(e,{appName:i.name})}function er(i){return vg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Z1(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&kn(i,"argument-error"),vg(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Eg(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return ME.create(i,...e)}function ve(i,e,...t){if(!i)throw Eg(e,...t)}function Xi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw lh(e),new Error(e)}function ir(i,e){i||Xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function J1(){return Pv()==="http:"||Pv()==="https:"}function Pv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(J1()||DR()||"connection"in navigator)?navigator.onLine:!0}function tC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ir(t>e,"Short delay should be less than long delay!"),this.isMobile=RR()||NR()}get(){return eC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(i,e){ir(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=new mu(3e4,6e4);function hs(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function fs(i,e,t,s,o={}){return LE(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=du(Object.assign({key:i.config.apiKey},f)).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const p=Object.assign({method:e,headers:g},u);return IR()||(p.referrerPolicy="no-referrer"),VE.fetch()(PE(i,i.config.apiHost,t,m),p)})}async function LE(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},nC),e);try{const o=new sC(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Yc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(i,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Yc(i,"email-already-in-use",f);if(g==="USER_DISABLED")throw Yc(i,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw vg(i,E,p);kn(i,E)}}catch(o){if(o instanceof or)throw o;kn(i,"network-request-failed",{message:String(o)})}}async function gu(i,e,t,s,o={}){const u=await fs(i,e,t,s,o);return"mfaPendingCredential"in u&&kn(i,"multi-factor-auth-required",{_serverResponse:u}),u}function PE(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?Tg(i.config,o):`${i.config.apiScheme}://${o}`}function rC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Kn(this.auth,"network-request-failed")),iC.get())})}}function Yc(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Kn(i,e,s);return o.customData._tokenResponse=t,o}function kv(i){return i!==void 0&&i.enterprise!==void 0}class aC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return rC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oC(i,e){return fs(i,"GET","/v2/recaptchaConfig",hs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(i,e){return fs(i,"POST","/v1/accounts:delete",e)}async function kE(i,e){return fs(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uC(i,e=!1){const t=rn(i),s=await t.getIdToken(e),o=wg(s);ve(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Kl(wm(o.auth_time)),issuedAtTime:Kl(wm(o.iat)),expirationTime:Kl(wm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function wm(i){return Number(i)*1e3}function wg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return lh("JWT malformed, contained fewer than 3 sections"),null;try{const o=wE(t);return o?JSON.parse(o):(lh("Failed to decode base64 JWT payload"),null)}catch(o){return lh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Uv(i){const e=wg(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof or&&cC(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function cC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await tu(i,kE(t,{idToken:s}));ve(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?UE(u.providerUserInfo):[],m=dC(i.providerData,f),g=i.isAnonymous,p=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=g?p:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new km(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,b)}async function fC(i){const e=rn(i);await bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dC(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function UE(i){return i.map(e=>{var{providerId:t}=e,s=_g(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC(i,e){const t=await LE(i,{},async()=>{const s=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=PE(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",VE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function gC(i,e){return fs(i,"POST","/v2/accounts:revokeToken",hs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Uv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const t=Uv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await mC(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,f=new ro;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Wi{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=_g(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new km(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await tu(this,this.stsTokenManager.getToken(this.auth,e));return ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return uC(this,e)}reload(){return fC(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Wi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pn(this.auth.app))return Promise.reject(er(this.auth));const e=await this.getIdToken();return await tu(this,lC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,f,m,g,p,E;const b=(s=t.displayName)!==null&&s!==void 0?s:void 0,A=(o=t.email)!==null&&o!==void 0?o:void 0,N=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,x=(f=t.photoURL)!==null&&f!==void 0?f:void 0,K=(m=t.tenantId)!==null&&m!==void 0?m:void 0,q=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,F=(p=t.createdAt)!==null&&p!==void 0?p:void 0,$=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Z,emailVerified:ae,isAnonymous:re,providerData:fe,stsTokenManager:O}=t;ve(Z&&O,e,"internal-error");const R=ro.fromJSON(this.name,O);ve(typeof Z=="string",e,"internal-error"),Gr(b,e.name),Gr(A,e.name),ve(typeof ae=="boolean",e,"internal-error"),ve(typeof re=="boolean",e,"internal-error"),Gr(N,e.name),Gr(x,e.name),Gr(K,e.name),Gr(q,e.name),Gr(F,e.name),Gr($,e.name);const S=new Wi({uid:Z,auth:e,email:A,emailVerified:ae,displayName:b,isAnonymous:re,photoURL:x,phoneNumber:N,tenantId:K,stsTokenManager:R,createdAt:F,lastLoginAt:$});return fe&&Array.isArray(fe)&&(S.providerData=fe.map(I=>Object.assign({},I))),q&&(S._redirectEventId=q),S}static async _fromIdTokenResponse(e,t,s=!1){const o=new ro;o.updateFromServerResponse(t);const u=new Wi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await bh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?UE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new ro;m.updateFromIdToken(s);const g=new Wi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new km(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=new Map;function Zi(i){ir(i instanceof Function,"Expected a class definition");let e=jv.get(i);return e?(ir(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,jv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}jE.type="NONE";const zv=jE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(i,e,t){return`firebase:${i}:${e}:${t}`}class so{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=uh(this.userKey,o.apiKey,u),this.fullPersistenceKey=uh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Wi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new so(Zi(zv),e,s);const o=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Zi(zv);const f=uh(s,e.config.apiKey,e.name);let m=null;for(const p of t)try{const E=await p._get(f);if(E){const b=Wi._fromJSON(e,E);p!==u&&(m=b),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new so(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(t.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new so(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GE(e))return"Blackberry";if(KE(e))return"Webos";if(BE(e))return"Safari";if((e.includes("chrome/")||qE(e))&&!e.includes("edge/"))return"Chrome";if(FE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function zE(i=Xt()){return/firefox\//i.test(i)}function BE(i=Xt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qE(i=Xt()){return/crios\//i.test(i)}function HE(i=Xt()){return/iemobile/i.test(i)}function FE(i=Xt()){return/android/i.test(i)}function GE(i=Xt()){return/blackberry/i.test(i)}function KE(i=Xt()){return/webos/i.test(i)}function bg(i=Xt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function pC(i=Xt()){var e;return bg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yC(){return xR()&&document.documentMode===10}function QE(i=Xt()){return bg(i)||FE(i)||KE(i)||GE(i)||/windows phone/i.test(i)||HE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(i,e=[]){let t;switch(i){case"Browser":t=Bv(Xt());break;case"Worker":t=`${Bv(Xt())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${So}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(i,e={}){return fs(i,"GET","/v2/passwordPolicy",hs(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=6;class TC{constructor(e){var t,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=f.minPasswordLength)!==null&&t!==void 0?t:EC,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,f,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qv(this),this.idTokenSubscription=new qv(this),this.beforeStateQueue=new _C(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ME,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zi(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await so.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await kE(this,{idToken:e}),s=await Wi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(pn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pn(this.app))return Promise.reject(er(this));const t=e?rn(e):null;return t&&ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pn(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pn(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vC(this),t=new TC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await gC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zi(e)||this._popupRedirectResolver;ve(t,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[Zi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(t);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$E(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&W1(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ds(i){return rn(i)}class qv{constructor(e){this.auth=e,this.observer=null,this.addObserver=jR(t=>this.observer=t)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bC(i){Kh=i}function YE(i){return Kh.loadJS(i)}function SC(){return Kh.recaptchaEnterpriseScript}function AC(){return Kh.gapiScript}function RC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class CC{constructor(){this.enterprise=new IC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class IC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const DC="recaptcha-enterprise",XE="NO_RECAPTCHA";class NC{constructor(e){this.type=DC,this.auth=ds(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{oC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new aC(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,f(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;kv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{f(p)}).catch(()=>{f(XE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!t&&kv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=SC();g.length!==0&&(g+=m),YE(g).then(()=>{o(m,u,f)}).catch(p=>{f(p)})}}).catch(m=>{f(m)})})}}async function Hv(i,e,t,s=!1,o=!1){const u=new NC(i);let f;if(o)f=XE;else try{f=await u.verify(t)}catch{f=await u.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Um(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Hv(i,e,t,t==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Hv(i,e,t,t==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(i,e){const t=yg(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Zs(u,e??{}))return o;kn(o,"already-initialized")}return t.initialize({options:e})}function OC(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Zi);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function MC(i,e,t){const s=ds(i);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=WE(e),{host:f,port:m}=VC(e),g=m===null?"":`:${m}`,p={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Zs(p,s.config.emulator)&&Zs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,LC()}function WE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function VC(i){const e=WE(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Fv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Fv(f)}}}function Fv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function LC(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,t){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}async function PC(i,e){return fs(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(i,e){return gu(i,"POST","/v1/accounts:signInWithPassword",hs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(i,e){return gu(i,"POST","/v1/accounts:signInWithEmailLink",hs(i,e))}async function jC(i,e){return gu(i,"POST","/v1/accounts:signInWithEmailLink",hs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends Sg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new nu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new nu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(e,t,"signInWithPassword",kC);case"emailLink":return UC(e,{email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(e,s,"signUpPassword",PC);case"emailLink":return jC(e,{idToken:t,email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(i,e){return gu(i,"POST","/v1/accounts:signInWithIdp",hs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="http://localhost";class ea extends Sg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):kn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=_g(t,["providerId","signInMethod"]);if(!s||!o)return null;const f=new ea(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return ao(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,ao(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ao(e,t)}buildRequest(){const e={requestUri:zC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=du(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qC(i){const e=Bl(ql(i)).link,t=e?Bl(ql(e)).deep_link_id:null,s=Bl(ql(i)).deep_link_id;return(s?Bl(ql(s)).link:null)||s||t||e||i}class Ag{constructor(e){var t,s,o,u,f,m;const g=Bl(ql(e)),p=(t=g.apiKey)!==null&&t!==void 0?t:null,E=(s=g.oobCode)!==null&&s!==void 0?s:null,b=BC((o=g.mode)!==null&&o!==void 0?o:null);ve(p&&E&&b,"argument-error"),this.apiKey=p,this.operation=b,this.code=E,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=g.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=g.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=qC(e);try{return new Ag(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.providerId=Ao.PROVIDER_ID}static credential(e,t){return nu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Ag.parseLink(t);return ve(s,"argument-error"),nu._fromEmailAndCode(e,s.code,s.tenantId)}}Ao.PROVIDER_ID="password";Ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends Rg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends pu{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ea._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return $i.credential(t,s)}catch{return null}}}$i.GOOGLE_SIGN_IN_METHOD="google.com";$i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends pu{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.GITHUB_SIGN_IN_METHOD="github.com";Qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends pu{constructor(){super("twitter.com")}static credential(e,t){return ea._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return $r.credential(t,s)}catch{return null}}}$r.TWITTER_SIGN_IN_METHOD="twitter.com";$r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(i,e){return gu(i,"POST","/v1/accounts:signUp",hs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Wi._fromIdTokenResponse(e,s,o),f=Gv(s);return new ta({user:u,providerId:f,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Gv(s);return new ta({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Gv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends or{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Sh(e,t,s,o)}}function ZE(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(i,u,e,s):u})}async function FC(i,e,t=!1){const s=await tu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return ta._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(i,e,t=!1){const{auth:s}=i;if(pn(s.app))return Promise.reject(er(s));const o="reauthenticate";try{const u=await tu(i,ZE(s,o,e,i),t);ve(u.idToken,s,"internal-error");const f=wg(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(i.uid===m,s,"user-mismatch"),ta._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&kn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JE(i,e,t=!1){if(pn(i.app))return Promise.reject(er(i));const s="signIn",o=await ZE(i,s,e),u=await ta._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function KC(i,e){return JE(ds(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eT(i){const e=ds(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function QC(i,e,t){if(pn(i.app))return Promise.reject(er(i));const s=ds(i),f=await Um(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HC).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&eT(i),g}),m=await ta._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function $C(i,e,t){return pn(i.app)?Promise.reject(er(i)):KC(rn(i),Ao.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&eT(i),s})}function YC(i,e,t,s){return rn(i).onIdTokenChanged(e,t,s)}function XC(i,e,t){return rn(i).beforeAuthStateChanged(e,t)}function WC(i,e,t,s){return rn(i).onAuthStateChanged(e,t,s)}function ZC(i){return rn(i).signOut()}const Ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=1e3,eI=10;class nT extends tT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!t&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);yC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,eI):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},JC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}nT.type="LOCAL";const iT=nT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT extends tT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rT.type="SESSION";const sT=rT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Qh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async p=>p(t.origin,u)),g=await tI(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const p=Cg("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const A=b;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return window}function iI(i){mi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}async function rI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function aI(){return aT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="firebaseLocalStorageDb",oI=1,Rh="firebaseLocalStorage",lT="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $h(i,e){return i.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function lI(){const i=indexedDB.deleteDatabase(oT);return new yu(i).toPromise()}function jm(){const i=indexedDB.open(oT,oI);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Rh,{keyPath:lT})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Rh)?e(s):(s.close(),await lI(),e(await jm()))})})}async function Kv(i,e,t){const s=$h(i,!0).put({[lT]:e,value:t});return new yu(s).toPromise()}async function uI(i,e){const t=$h(i,!1).get(e),s=await new yu(t).toPromise();return s===void 0?null:s.value}function Qv(i,e){const t=$h(i,!0).delete(e);return new yu(t).toPromise()}const cI=800,hI=3;class uT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>hI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(aI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await rI(),!this.activeServiceWorker)return;this.sender=new nI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jm();return await Kv(e,Ah,"1"),await Qv(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Kv(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>uI(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Qv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=$h(o,!1).getAll();return new yu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uT.type="LOCAL";const fI=uT;new mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(i,e){return e?Zi(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig extends Sg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ao(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function dI(i){return JE(i.auth,new Ig(i),i.bypassAuthState)}function mI(i){const{auth:e,user:t}=i;return ve(t,e,"internal-error"),GC(t,new Ig(i),i.bypassAuthState)}async function gI(i){const{auth:e,user:t}=i;return ve(t,e,"internal-error"),FC(t,new Ig(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dI;case"linkViaPopup":case"linkViaRedirect":return gI;case"reauthViaPopup":case"reauthViaRedirect":return mI;default:kn(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=new mu(2e3,1e4);async function fT(i,e,t){if(pn(i.app))return Promise.reject(Kn(i,"operation-not-supported-in-this-environment"));const s=ds(i);Z1(i,e,Rg);const o=cT(s,t);return new $s(s,"signInViaPopup",e,o).executeNotNull()}class $s extends hT{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,$s.currentPopupAction&&$s.currentPopupAction.cancel(),$s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const e=Cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pI.get())};e()}}$s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="pendingRedirect",ch=new Map;class _I extends hT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const s=await vI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vI(i,e){const t=wI(e),s=TI(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function EI(i,e){ch.set(i._key(),e)}function TI(i){return Zi(i._redirectPersistence)}function wI(i){return uh(yI,i.config.apiKey,i.name)}async function bI(i,e,t=!1){if(pn(i.app))return Promise.reject(er(i));const s=ds(i),o=cT(s,e),f=await new _I(s,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=10*60*1e3;class AI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!dT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Kn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SI&&this.cachedEventUids.clear(),this.cachedEventUids.has($v(e))}saveEventToCache(e){this.cachedEventUids.add($v(e)),this.lastProcessedEventTime=Date.now()}}function $v(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function dT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(i,e={}){return fs(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DI=/^https?/;async function NI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await CI(i);for(const t of e)try{if(xI(t))return}catch{}kn(i,"unauthorized-domain")}function xI(i){const e=Pm(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===s}if(!DI.test(t))return!1;if(II.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=new mu(3e4,6e4);function Yv(){const i=mi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function MI(i){return new Promise((e,t)=>{var s,o,u;function f(){Yv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yv(),t(Kn(i,"network-request-failed"))},timeout:OI.get()})}if(!((o=(s=mi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=mi().gapi)===null||u===void 0)&&u.load)f();else{const m=RC("iframefcb");return mi()[m]=()=>{gapi.load?f():t(Kn(i,"network-request-failed"))},YE(`${AC()}?onload=${m}`).catch(g=>t(g))}}).catch(e=>{throw hh=null,e})}let hh=null;function VI(i){return hh=hh||MI(i),hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=new mu(5e3,15e3),PI="__/auth/iframe",kI="emulator/auth/iframe",UI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zI(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Tg(e,kI):`https://${i.config.authDomain}/${PI}`,s={apiKey:e.apiKey,appName:i.name,v:So},o=jI.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${du(s).slice(1)}`}async function BI(i){const e=await VI(i),t=mi().gapi;return ve(t,i,"internal-error"),e.open({where:document.body,url:zI(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Kn(i,"network-request-failed"),m=mi().setTimeout(()=>{u(f)},LI.get());function g(){mi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HI=500,FI=600,GI="_blank",KI="http://localhost";class Xv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QI(i,e,t,s=HI,o=FI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},qI),{width:s.toString(),height:o.toString(),top:u,left:f}),p=Xt().toLowerCase();t&&(m=qE(p)?GI:t),zE(p)&&(e=e||KI,g.scrollbars="yes");const E=Object.entries(g).reduce((A,[N,x])=>`${A}${N}=${x},`,"");if(pC(p)&&m!=="_self")return $I(e||"",m),new Xv(null);const b=window.open(e||"",m,E);ve(b,i,"popup-blocked");try{b.focus()}catch{}return new Xv(b)}function $I(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="__/auth/handler",XI="emulator/auth/handler",WI=encodeURIComponent("fac");async function Wv(i,e,t,s,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:So,eventId:o};if(e instanceof Rg){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",UR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof pu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await i._getAppCheckToken(),p=g?`#${WI}=${encodeURIComponent(g)}`:"";return`${ZI(i)}?${du(m).slice(1)}${p}`}function ZI({config:i}){return i.emulator?Tg(i,XI):`https://${i.authDomain}/${YI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="webStorageSupport";class JI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sT,this._completeRedirectFn=bI,this._overrideRedirectResult=EI}async _openPopup(e,t,s,o){var u;ir((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Wv(e,t,s,Pm(),o);return QI(e,f,Cg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await Wv(e,t,s,Pm(),o);return iI(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(ir(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await BI(e),s=new AI(e);return t.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(bm,{type:bm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[bm];f!==void 0&&t(!!f),kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=NI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return QE()||BE()||bg()}}const e2=JI;var Zv="@firebase/auth",Jv="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function i2(i){co(new Js("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$E(i)},p=new wC(s,o,u,g);return OC(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),co(new Js("auth-internal",e=>{const t=ds(e.getProvider("auth").getImmediate());return(s=>new t2(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jr(Zv,Jv,n2(i)),Jr(Zv,Jv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=5*60,s2=AE("authIdTokenMaxAge")||r2;let e0=null;const a2=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>s2)return;const o=t==null?void 0:t.token;e0!==o&&(e0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function o2(i=DE()){const e=yg(i,"auth");if(e.isInitialized())return e.getImmediate();const t=xC(i,{popupRedirectResolver:e2,persistence:[fI,iT,sT]}),s=AE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=a2(u.toString());XC(t,f,()=>f(t.currentUser)),YC(t,m=>f(m))}}const o=bE("auth");return o&&MC(t,`http://${o}`),t}function l2(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}bC({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Kn("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",l2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});i2("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function u2(i,e,t,s){function o(u){return u instanceof t?u:new t(function(f){f(u)})}return new(t||(t=Promise))(function(u,f){function m(E){try{p(s.next(E))}catch(b){f(b)}}function g(E){try{p(s.throw(E))}catch(b){f(b)}}function p(E){E.done?u(E.value):o(E.value).then(m,g)}p((s=s.apply(i,[])).next())})}function c2(i,e){var t={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,o,u,f;return f={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(p){return function(E){return g([p,E])}}function g(p){if(s)throw new TypeError("Generator is already executing.");for(;t;)try{if(s=1,o&&(u=p[0]&2?o.return:p[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,p[1])).done)return u;switch(o=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,o=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(u=t.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){t.label=p[1];break}if(p[0]===6&&t.label<u[1]){t.label=u[1],u=p;break}if(u&&t.label<u[2]){t.label=u[2],t.ops.push(p);break}u[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(i,t)}catch(E){p=[6,E],o=0}finally{s=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var io=function(){return io=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},io.apply(this,arguments)},mT=function(i){return{loading:i==null,value:i}},h2=function(){return function(i,e){switch(e.type){case"error":return io(io({},i),{error:e.error,loading:!1,value:void 0});case"reset":return mT(e.defaultValue);case"value":return io(io({},i),{error:void 0,loading:!1,value:e.value});default:return i}}},f2=function(i){var e=i?i():void 0,t=k.useReducer(h2(),mT(e)),s=t[0],o=t[1],u=k.useCallback(function(){var g=i?i():void 0;o({type:"reset",defaultValue:g})},[i]),f=k.useCallback(function(g){o({type:"error",error:g})},[]),m=k.useCallback(function(g){o({type:"value",value:g})},[]);return k.useMemo(function(){return{error:s.error,loading:s.loading,reset:u,setError:f,setValue:m,value:s.value}},[s.error,s.loading,u,f,m,s.value])},_u=function(i,e){var t=f2(function(){return i.currentUser}),s=t.error,o=t.loading,u=t.setError,f=t.setValue,m=t.value;return k.useEffect(function(){var g=WC(i,function(p){return u2(void 0,void 0,void 0,function(){var E;return c2(this,function(b){switch(b.label){case 0:return[3,4];case 1:return b.trys.push([1,3,,4]),[4,e.onUserChanged(p)];case 2:return b.sent(),[3,4];case 3:return E=b.sent(),u(E),[3,4];case 4:return f(p),[2]}})})},u);return function(){g()}},[i]),[m,o,s]},d2="firebase",m2="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr(d2,m2,"app");var t0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var es,gT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function S(){}S.prototype=R.prototype,O.D=R.prototype,O.prototype=new S,O.prototype.constructor=O,O.C=function(I,M,z){for(var D=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)D[vt-2]=arguments[vt];return R.prototype[M].apply(I,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,S){S||(S=0);var I=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)I[M]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(M=0;16>M;++M)I[M]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=O.g[0],S=O.g[1],M=O.g[2];var z=O.g[3],D=R+(z^S&(M^z))+I[0]+3614090360&4294967295;R=S+(D<<7&4294967295|D>>>25),D=z+(M^R&(S^M))+I[1]+3905402710&4294967295,z=R+(D<<12&4294967295|D>>>20),D=M+(S^z&(R^S))+I[2]+606105819&4294967295,M=z+(D<<17&4294967295|D>>>15),D=S+(R^M&(z^R))+I[3]+3250441966&4294967295,S=M+(D<<22&4294967295|D>>>10),D=R+(z^S&(M^z))+I[4]+4118548399&4294967295,R=S+(D<<7&4294967295|D>>>25),D=z+(M^R&(S^M))+I[5]+1200080426&4294967295,z=R+(D<<12&4294967295|D>>>20),D=M+(S^z&(R^S))+I[6]+2821735955&4294967295,M=z+(D<<17&4294967295|D>>>15),D=S+(R^M&(z^R))+I[7]+4249261313&4294967295,S=M+(D<<22&4294967295|D>>>10),D=R+(z^S&(M^z))+I[8]+1770035416&4294967295,R=S+(D<<7&4294967295|D>>>25),D=z+(M^R&(S^M))+I[9]+2336552879&4294967295,z=R+(D<<12&4294967295|D>>>20),D=M+(S^z&(R^S))+I[10]+4294925233&4294967295,M=z+(D<<17&4294967295|D>>>15),D=S+(R^M&(z^R))+I[11]+2304563134&4294967295,S=M+(D<<22&4294967295|D>>>10),D=R+(z^S&(M^z))+I[12]+1804603682&4294967295,R=S+(D<<7&4294967295|D>>>25),D=z+(M^R&(S^M))+I[13]+4254626195&4294967295,z=R+(D<<12&4294967295|D>>>20),D=M+(S^z&(R^S))+I[14]+2792965006&4294967295,M=z+(D<<17&4294967295|D>>>15),D=S+(R^M&(z^R))+I[15]+1236535329&4294967295,S=M+(D<<22&4294967295|D>>>10),D=R+(M^z&(S^M))+I[1]+4129170786&4294967295,R=S+(D<<5&4294967295|D>>>27),D=z+(S^M&(R^S))+I[6]+3225465664&4294967295,z=R+(D<<9&4294967295|D>>>23),D=M+(R^S&(z^R))+I[11]+643717713&4294967295,M=z+(D<<14&4294967295|D>>>18),D=S+(z^R&(M^z))+I[0]+3921069994&4294967295,S=M+(D<<20&4294967295|D>>>12),D=R+(M^z&(S^M))+I[5]+3593408605&4294967295,R=S+(D<<5&4294967295|D>>>27),D=z+(S^M&(R^S))+I[10]+38016083&4294967295,z=R+(D<<9&4294967295|D>>>23),D=M+(R^S&(z^R))+I[15]+3634488961&4294967295,M=z+(D<<14&4294967295|D>>>18),D=S+(z^R&(M^z))+I[4]+3889429448&4294967295,S=M+(D<<20&4294967295|D>>>12),D=R+(M^z&(S^M))+I[9]+568446438&4294967295,R=S+(D<<5&4294967295|D>>>27),D=z+(S^M&(R^S))+I[14]+3275163606&4294967295,z=R+(D<<9&4294967295|D>>>23),D=M+(R^S&(z^R))+I[3]+4107603335&4294967295,M=z+(D<<14&4294967295|D>>>18),D=S+(z^R&(M^z))+I[8]+1163531501&4294967295,S=M+(D<<20&4294967295|D>>>12),D=R+(M^z&(S^M))+I[13]+2850285829&4294967295,R=S+(D<<5&4294967295|D>>>27),D=z+(S^M&(R^S))+I[2]+4243563512&4294967295,z=R+(D<<9&4294967295|D>>>23),D=M+(R^S&(z^R))+I[7]+1735328473&4294967295,M=z+(D<<14&4294967295|D>>>18),D=S+(z^R&(M^z))+I[12]+2368359562&4294967295,S=M+(D<<20&4294967295|D>>>12),D=R+(S^M^z)+I[5]+4294588738&4294967295,R=S+(D<<4&4294967295|D>>>28),D=z+(R^S^M)+I[8]+2272392833&4294967295,z=R+(D<<11&4294967295|D>>>21),D=M+(z^R^S)+I[11]+1839030562&4294967295,M=z+(D<<16&4294967295|D>>>16),D=S+(M^z^R)+I[14]+4259657740&4294967295,S=M+(D<<23&4294967295|D>>>9),D=R+(S^M^z)+I[1]+2763975236&4294967295,R=S+(D<<4&4294967295|D>>>28),D=z+(R^S^M)+I[4]+1272893353&4294967295,z=R+(D<<11&4294967295|D>>>21),D=M+(z^R^S)+I[7]+4139469664&4294967295,M=z+(D<<16&4294967295|D>>>16),D=S+(M^z^R)+I[10]+3200236656&4294967295,S=M+(D<<23&4294967295|D>>>9),D=R+(S^M^z)+I[13]+681279174&4294967295,R=S+(D<<4&4294967295|D>>>28),D=z+(R^S^M)+I[0]+3936430074&4294967295,z=R+(D<<11&4294967295|D>>>21),D=M+(z^R^S)+I[3]+3572445317&4294967295,M=z+(D<<16&4294967295|D>>>16),D=S+(M^z^R)+I[6]+76029189&4294967295,S=M+(D<<23&4294967295|D>>>9),D=R+(S^M^z)+I[9]+3654602809&4294967295,R=S+(D<<4&4294967295|D>>>28),D=z+(R^S^M)+I[12]+3873151461&4294967295,z=R+(D<<11&4294967295|D>>>21),D=M+(z^R^S)+I[15]+530742520&4294967295,M=z+(D<<16&4294967295|D>>>16),D=S+(M^z^R)+I[2]+3299628645&4294967295,S=M+(D<<23&4294967295|D>>>9),D=R+(M^(S|~z))+I[0]+4096336452&4294967295,R=S+(D<<6&4294967295|D>>>26),D=z+(S^(R|~M))+I[7]+1126891415&4294967295,z=R+(D<<10&4294967295|D>>>22),D=M+(R^(z|~S))+I[14]+2878612391&4294967295,M=z+(D<<15&4294967295|D>>>17),D=S+(z^(M|~R))+I[5]+4237533241&4294967295,S=M+(D<<21&4294967295|D>>>11),D=R+(M^(S|~z))+I[12]+1700485571&4294967295,R=S+(D<<6&4294967295|D>>>26),D=z+(S^(R|~M))+I[3]+2399980690&4294967295,z=R+(D<<10&4294967295|D>>>22),D=M+(R^(z|~S))+I[10]+4293915773&4294967295,M=z+(D<<15&4294967295|D>>>17),D=S+(z^(M|~R))+I[1]+2240044497&4294967295,S=M+(D<<21&4294967295|D>>>11),D=R+(M^(S|~z))+I[8]+1873313359&4294967295,R=S+(D<<6&4294967295|D>>>26),D=z+(S^(R|~M))+I[15]+4264355552&4294967295,z=R+(D<<10&4294967295|D>>>22),D=M+(R^(z|~S))+I[6]+2734768916&4294967295,M=z+(D<<15&4294967295|D>>>17),D=S+(z^(M|~R))+I[13]+1309151649&4294967295,S=M+(D<<21&4294967295|D>>>11),D=R+(M^(S|~z))+I[4]+4149444226&4294967295,R=S+(D<<6&4294967295|D>>>26),D=z+(S^(R|~M))+I[11]+3174756917&4294967295,z=R+(D<<10&4294967295|D>>>22),D=M+(R^(z|~S))+I[2]+718787259&4294967295,M=z+(D<<15&4294967295|D>>>17),D=S+(z^(M|~R))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+z&4294967295}s.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var S=R-this.blockSize,I=this.B,M=this.h,z=0;z<R;){if(M==0)for(;z<=S;)o(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<R;)if(I[M++]=O.charCodeAt(z++),M==this.blockSize){o(this,I),M=0;break}}else for(;z<R;)if(I[M++]=O[z++],M==this.blockSize){o(this,I),M=0;break}}this.h=M,this.o+=R},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var S=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=S&255,S/=256;for(this.u(O),O=Array(16),R=S=0;4>R;++R)for(var I=0;32>I;I+=8)O[S++]=this.g[R]>>>I&255;return O};function u(O,R){var S=m;return Object.prototype.hasOwnProperty.call(S,O)?S[O]:S[O]=R(O)}function f(O,R){this.h=R;for(var S=[],I=!0,M=O.length-1;0<=M;M--){var z=O[M]|0;I&&z==R||(S[M]=z,I=!1)}this.g=S}var m={};function g(O){return-128<=O&&128>O?u(O,function(R){return new f([R|0],0>R?-1:0)}):new f([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return q(p(-O));for(var R=[],S=1,I=0;O>=S;I++)R[I]=O/S|0,S*=4294967296;return new f(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return q(E(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=p(Math.pow(R,8)),I=b,M=0;M<O.length;M+=8){var z=Math.min(8,O.length-M),D=parseInt(O.substring(M,M+z),R);8>z?(z=p(Math.pow(R,z)),I=I.j(z).add(p(D))):(I=I.j(S),I=I.add(p(D)))}return I}var b=g(0),A=g(1),N=g(16777216);i=f.prototype,i.m=function(){if(K(this))return-q(this).m();for(var O=0,R=1,S=0;S<this.g.length;S++){var I=this.i(S);O+=(0<=I?I:4294967296+I)*R,R*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(x(this))return"0";if(K(this))return"-"+q(this).toString(O);for(var R=p(Math.pow(O,6)),S=this,I="";;){var M=ae(S,R).g;S=F(S,M.j(R));var z=((0<S.g.length?S.g[0]:S.h)>>>0).toString(O);if(S=M,x(S))return z+I;for(;6>z.length;)z="0"+z;I=z+I}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function x(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function K(O){return O.h==-1}i.l=function(O){return O=F(this,O),K(O)?-1:x(O)?0:1};function q(O){for(var R=O.g.length,S=[],I=0;I<R;I++)S[I]=~O.g[I];return new f(S,~O.h).add(A)}i.abs=function(){return K(this)?q(this):this},i.add=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],I=0,M=0;M<=R;M++){var z=I+(this.i(M)&65535)+(O.i(M)&65535),D=(z>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);I=D>>>16,z&=65535,D&=65535,S[M]=D<<16|z}return new f(S,S[S.length-1]&-2147483648?-1:0)};function F(O,R){return O.add(q(R))}i.j=function(O){if(x(this)||x(O))return b;if(K(this))return K(O)?q(this).j(q(O)):q(q(this).j(O));if(K(O))return q(this.j(q(O)));if(0>this.l(N)&&0>O.l(N))return p(this.m()*O.m());for(var R=this.g.length+O.g.length,S=[],I=0;I<2*R;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var M=0;M<O.g.length;M++){var z=this.i(I)>>>16,D=this.i(I)&65535,vt=O.i(M)>>>16,ft=O.i(M)&65535;S[2*I+2*M]+=D*ft,$(S,2*I+2*M),S[2*I+2*M+1]+=z*ft,$(S,2*I+2*M+1),S[2*I+2*M+1]+=D*vt,$(S,2*I+2*M+1),S[2*I+2*M+2]+=z*vt,$(S,2*I+2*M+2)}for(I=0;I<R;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=R;I<2*R;I++)S[I]=0;return new f(S,0)};function $(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function Z(O,R){this.g=O,this.h=R}function ae(O,R){if(x(R))throw Error("division by zero");if(x(O))return new Z(b,b);if(K(O))return R=ae(q(O),R),new Z(q(R.g),q(R.h));if(K(R))return R=ae(O,q(R)),new Z(q(R.g),R.h);if(30<O.g.length){if(K(O)||K(R))throw Error("slowDivide_ only works with positive integers.");for(var S=A,I=R;0>=I.l(O);)S=re(S),I=re(I);var M=fe(S,1),z=fe(I,1);for(I=fe(I,2),S=fe(S,2);!x(I);){var D=z.add(I);0>=D.l(O)&&(M=M.add(S),z=D),I=fe(I,1),S=fe(S,1)}return R=F(O,M.j(R)),new Z(M,R)}for(M=b;0<=O.l(R);){for(S=Math.max(1,Math.floor(O.m()/R.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),z=p(S),D=z.j(R);K(D)||0<D.l(O);)S-=I,z=p(S),D=z.j(R);x(z)&&(z=A),M=M.add(z),O=F(O,D)}return new Z(M,O)}i.A=function(O){return ae(this,O).h},i.and=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],I=0;I<R;I++)S[I]=this.i(I)&O.i(I);return new f(S,this.h&O.h)},i.or=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],I=0;I<R;I++)S[I]=this.i(I)|O.i(I);return new f(S,this.h|O.h)},i.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],I=0;I<R;I++)S[I]=this.i(I)^O.i(I);return new f(S,this.h^O.h)};function re(O){for(var R=O.g.length+1,S=[],I=0;I<R;I++)S[I]=O.i(I)<<1|O.i(I-1)>>>31;return new f(S,O.h)}function fe(O,R){var S=R>>5;R%=32;for(var I=O.g.length-S,M=[],z=0;z<I;z++)M[z]=0<R?O.i(z+S)>>>R|O.i(z+S+1)<<32-R:O.i(z+S);return new f(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,gT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,es=f}).apply(typeof t0<"u"?t0:typeof self<"u"?self:typeof window<"u"?window:{});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pT,Hl,yT,fh,zm,_T,vT,ET;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xc=="object"&&Xc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var B=c[w];if(!(B in _))break e;_=_[B]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,B={next:function(){if(!w&&_<c.length){var Q=_++;return{value:y(Q,c[Q]),done:!1}}return w=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function b(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,w),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,A.apply(null,arguments)}function N(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function x(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,B,Q){for(var ie=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ie[Le-2]=arguments[Le];return y.prototype[B].apply(w,ie)}}function K(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function q(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(g(w)){const B=c.length||0,Q=w.length||0;c.length=B+Q;for(let ie=0;ie<Q;ie++)c[B+ie]=w[ie]}else c.push(w)}}class F{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function $(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ae(c){return ae[" "](c),c}ae[" "]=function(){};var re=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function fe(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function O(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,y){let _,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(_ in w)c[_]=w[_];for(let Q=0;Q<S.length;Q++)_=S[Q],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function M(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function z(c){m.setTimeout(()=>{throw c},0)}function D(){var c=He;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class vt{constructor(){this.h=this.g=null}add(y,_){const w=ft.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var ft=new F(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,pe=!1,He=new vt,V=()=>{const c=m.Promise.resolve(void 0);Ee=()=>{c.then(ne)}};var ne=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){z(_)}var y=ft;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ce(c,y){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(re){e:{try{ae(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}x(Ce,oe);var Ae={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var dt="closure_listenable_"+(1e6*Math.random()|0),je=0;function rt(c,y,_,w,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=B,this.key=++je,this.da=this.fa=!1}function Ke(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Wt(c){this.src=c,this.g={},this.h=0}Wt.prototype.add=function(c,y,_,w,B){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var ie=yn(c,y,w,B);return-1<ie?(y=c[ie],_||(y.fa=!1)):(y=new rt(y,this.src,Q,!!w,B),y.fa=_,c.push(y)),y};function Ei(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],B=Array.prototype.indexOf.call(w,y,void 0),Q;(Q=0<=B)&&Array.prototype.splice.call(w,B,1),Q&&(Ke(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function yn(c,y,_,w){for(var B=0;B<c.length;++B){var Q=c[B];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==w)return B}return-1}var lr="closure_lm_"+(1e6*Math.random()|0),ur={};function Ti(c,y,_,w,B){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Ti(c,y[Q],_,w,B);return null}return _=Cu(_),c&&c[dt]?c.K(y,_,p(w)?!!w.capture:!1,B):Oo(c,y,_,!1,w,B)}function Oo(c,y,_,w,B,Q){if(!y)throw Error("Invalid event type");var ie=p(B)?!!B.capture:!!B,Le=Mo(c);if(Le||(c[lr]=Le=new Wt(c)),_=Le.add(y,_,w,ie,Q),_.proxy)return _;if(w=la(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)le||(B=ie),B===void 0&&(B=!1),c.addEventListener(y.toString(),w,B);else if(c.attachEvent)c.attachEvent(ca(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function la(){function c(_){return y.call(c.src,c.listener,_)}const y=hf;return c}function ua(c,y,_,w,B){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)ua(c,y[Q],_,w,B);else w=p(w)?!!w.capture:!!w,_=Cu(_),c&&c[dt]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],_=yn(Q,_,w,B),-1<_&&(Ke(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=Mo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=yn(y,_,w,B)),(_=-1<c?y[c]:null)&&ms(_))}function ms(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[dt])Ei(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(ca(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=Mo(y))?(Ei(_,c),_.h==0&&(_.src=null,y[lr]=null)):Ke(c)}}}function ca(c){return c in ur?ur[c]:ur[c]="on"+c}function hf(c,y){if(c.da)c=!0;else{y=new Ce(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&ms(c),c=_.call(w,y)}return c}function Mo(c){return c=c[lr],c instanceof Wt?c:null}var sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cu(c){return typeof c=="function"?c:(c[sn]||(c[sn]=function(y){return c.handleEvent(y)}),c[sn])}function Et(){me.call(this),this.i=new Wt(this),this.M=this,this.F=null}x(Et,me),Et.prototype[dt]=!0,Et.prototype.removeEventListener=function(c,y,_,w){ua(this,c,y,_,w)};function Dt(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new oe(y,c);else if(y instanceof oe)y.target=y.target||c;else{var B=y;y=new oe(w,c),I(y,B)}if(B=!0,_)for(var Q=_.length-1;0<=Q;Q--){var ie=y.g=_[Q];B=wi(ie,w,!0,y)&&B}if(ie=y.g=c,B=wi(ie,w,!0,y)&&B,B=wi(ie,w,!1,y)&&B,_)for(Q=0;Q<_.length;Q++)ie=y.g=_[Q],B=wi(ie,w,!1,y)&&B}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)Ke(_[w]);delete c.g[y],c.h--}}this.F=null},Et.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},Et.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function wi(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,Q=0;Q<y.length;++Q){var ie=y[Q];if(ie&&!ie.da&&ie.capture==_){var Le=ie.listener,wt=ie.ha||ie.src;ie.fa&&Ei(c.i,ie),B=Le.call(wt,w)!==!1&&B}}return B&&!w.defaultPrevented}function Iu(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Vo(c){c.g=Iu(()=>{c.g=null,c.i&&(c.i=!1,Vo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ff extends me{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Vo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(c){me.call(this),this.h=c,this.g={}}x(gs,me);var cr=[];function Ft(c){fe(c.g,function(y,_){this.g.hasOwnProperty(_)&&ms(y)},c),c.g={}}gs.prototype.N=function(){gs.aa.N.call(this),Ft(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lo=m.JSON.stringify,Wn=m.JSON.parse,Zt=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Po(){}Po.prototype.h=null;function Du(c){return c.h||(c.h=c.i())}function Nu(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hr(){oe.call(this,"d")}x(hr,oe);function Un(){oe.call(this,"c")}x(Un,oe);var _n={},fr=null;function ha(){return fr=fr||new Et}_n.La="serverreachability";function ko(c){oe.call(this,_n.La,c)}x(ko,oe);function dr(c){const y=ha();Dt(y,new ko(y))}_n.STAT_EVENT="statevent";function fa(c,y){oe.call(this,_n.STAT_EVENT,c),this.stat=y}x(fa,oe);function ut(c){const y=ha();Dt(y,new fa(y,c))}_n.Ma="timingevent";function xu(c,y){oe.call(this,_n.Ma,c),this.size=y}x(xu,oe);function mr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function gr(){this.g=!0}gr.prototype.xa=function(){this.g=!1};function Ou(c,y,_,w,B,Q){c.info(function(){if(c.g)if(Q)for(var ie="",Le=Q.split("&"),wt=0;wt<Le.length;wt++){var Pe=Le[wt].split("=");if(1<Pe.length){var Ot=Pe[0];Pe=Pe[1];var bt=Ot.split("_");ie=2<=bt.length&&bt[1]=="type"?ie+(Ot+"="+Pe+"&"):ie+(Ot+"=redacted&")}}else ie=null;else ie=Q;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+y+`
`+_+`
`+ie})}function Mu(c,y,_,w,B,Q,ie){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+y+`
`+_+`
`+Q+" "+ie})}function pr(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Nt(c,_)+(w?" "+w:"")})}function Jn(c,y){c.info(function(){return"TIMEOUT: "+y})}gr.prototype.info=function(){};function Nt(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var B=w[1];if(Array.isArray(B)&&!(1>B.length)){var Q=B[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ie=1;ie<B.length;ie++)B[ie]=""}}}}return Lo(_)}catch{return y}}var Tt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ps;function da(){}x(da,Po),da.prototype.g=function(){return new XMLHttpRequest},da.prototype.i=function(){return{}},ps=new da;function ei(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new gs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Uo}function Uo(){this.i=null,this.g="",this.h=!1}var yr={},ys={};function jn(c,y,_){c.L=1,c.v=Es(st(y)),c.m=_,c.P=!0,Si(c,null)}function Si(c,y){c.F=Date.now(),et(c),c.A=st(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Ci(_.i,"t",w),c.C=0,_=c.j.J,c.h=new Uo,c.g=Qu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new ff(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(cr[0]=B.toString()),B=cr);for(var Q=0;Q<B.length;Q++){var ie=Ti(_,B[Q],w||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),dr(),Ou(c.i,c.u,c.A,c.l,c.R,c.m)}ei.prototype.ca=function(c){c=c.target;const y=this.M;y&&bn(c)==3?y.j():this.Y(c)},ei.prototype.Y=function(c){try{if(c==this.g)e:{const bt=bn(this.g);var y=this.g.Ba();const xi=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||ju(this.g)))){this.J||bt!=4||y==7||(y==8||0>=xi?dr(3):dr(2)),ma(this);var _=this.g.Z();this.X=_;t:if(_r(this)){var w=ju(this.g);c="";var B=w.length,Q=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),un(this);var ie="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(Q&&y==B-1)});w.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,Mu(this.i,this.u,this.A,this.l,this.R,bt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,wt=this.g;if((Le=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Le)){var Pe=Le;break t}}Pe=null}if(_=Pe)pr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cn(this,_);else{this.o=!1,this.s=3,ut(12),an(this),un(this);break e}}if(this.P){_=!0;let kt;for(;!this.J&&this.C<ie.length;)if(kt=vr(this,ie),kt==ys){bt==4&&(this.s=4,ut(14),_=!1),pr(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==yr){this.s=4,ut(15),pr(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else pr(this.i,this.l,kt,null),cn(this,kt);if(_r(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||ie.length!=0||this.h.h||(this.s=1,ut(16),_=!1),this.o=this.o&&_,!_)pr(this.i,this.l,ie,"[Invalid Chunked Response]"),an(this),un(this);else if(0<ie.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Cs(Ot),Ot.M=!0,ut(11))}}else pr(this.i,this.l,ie,null),cn(this,ie);bt==4&&an(this),this.o&&!this.J&&(bt==4?Fu(this.j,this):(this.o=!1,et(this)))}else _f(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),an(this),un(this)}}}catch{}finally{}};function _r(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function vr(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?ys:(_=Number(y.substring(_,w)),isNaN(_)?yr:(w+=1,w+_>y.length?ys:(y=y.slice(w,w+_),c.C=w+_,y)))}ei.prototype.cancel=function(){this.J=!0,an(this)};function et(c){c.S=Date.now()+c.I,jo(c,c.I)}function jo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mr(A(c.ba,c),y)}function ma(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ei.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Jn(this.i,this.A),this.L!=2&&(dr(),ut(17)),an(this),this.s=2,un(this)):jo(this,this.S-c)};function un(c){c.j.G==0||c.J||Fu(c.j,c)}function an(c){ma(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ft(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function cn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Er(_.h,c))){if(!c.K&&Er(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Sa(_),wa(_);else break e;Xo(_),ut(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=mr(A(_.Za,_),6e3));if(1>=Vu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ni(_,11)}else if((c.K||_.g==c)&&Sa(_),!$(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let Pe=B[y];if(_.T=Pe[0],Pe=Pe[1],_.G==2)if(Pe[0]=="c"){_.K=Pe[1],_.ia=Pe[2];const Ot=Pe[3];Ot!=null&&(_.la=Ot,_.j.info("VER="+_.la));const bt=Pe[4];bt!=null&&(_.Aa=bt,_.j.info("SVER="+_.Aa));const xi=Pe[5];xi!=null&&typeof xi=="number"&&0<xi&&(w=1.5*xi,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const kt=c.g;if(kt){const oi=kt.g?kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var Q=w.h;Q.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Tr(Q,Q.h),Q.h=null))}if(w.D){const Zo=kt.g?kt.g.getResponseHeader("X-HTTP-Session-Id"):null;Zo&&(w.ya=Zo,ze(w.I,w.D,Zo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var ie=c;if(w.qa=Ku(w,w.J?w.ia:null,w.W),ie.K){vn(w.h,ie);var Le=ie,wt=w.L;wt&&(Le.I=wt),Le.B&&(ma(Le),et(Le)),w.g=ie}else qu(w);0<_.i.length&&ba(_)}else Pe[0]!="stop"&&Pe[0]!="close"||Ni(_,7);else _.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Ni(_,7):$o(_):Pe[0]!="noop"&&_.l&&_.l.ta(Pe),_.v=0)}}dr(4)}catch{}}var df=class{constructor(c,y){this.g=c,this.map=y}};function zo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Vu(c){return c.h?1:c.g?c.g.size:0}function Er(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Tr(c,y){c.g?c.g.add(y):c.h=y}function vn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}zo.prototype.cancel=function(){if(this.i=Jt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Jt(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return K(c.i)}function Lu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function mf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function _s(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=mf(c),w=Lu(c),B=w.length,Q=0;Q<B;Q++)y.call(void 0,w[Q],_&&_[Q],c)}var qo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),B=null;if(0<=w){var Q=c[_].substring(0,w);B=c[_].substring(w+1)}else Q=c[_];y(Q,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Ai(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ai){this.h=c.h,wr(this,c.j),this.o=c.o,this.g=c.g,vs(this,c.s),this.l=c.l;var y=c.i,_=new ti;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),pa(this,_),this.m=c.m}else c&&(y=String(c).match(qo))?(this.h=!1,wr(this,y[1]||"",!0),this.o=br(y[2]||""),this.g=br(y[3]||"",!0),vs(this,y[4]),this.l=br(y[5]||"",!0),pa(this,y[6]||"",!0),this.m=br(y[7]||"")):(this.h=!1,this.i=new ti(null,this.h))}Ai.prototype.toString=function(){var c=[],y=this.j;y&&c.push(En(y,Ho,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(En(y,Ho,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(En(_,_.charAt(0)=="/"?Fo:Pu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",En(_,yf)),c.join("")};function st(c){return new Ai(c)}function wr(c,y,_){c.j=_?br(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function vs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function pa(c,y,_){y instanceof ti?(c.i=y,Go(c.i,c.h)):(_||(y=En(y,pf)),c.i=new ti(y,c.h))}function ze(c,y,_){c.i.set(y,_)}function Es(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function br(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function En(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,gf),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ho=/[#\/\?@]/g,Pu=/[#\?:]/g,Fo=/[#\?]/g,pf=/[#\?@]/g,yf=/#/g;function ti(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Tn(c){c.g||(c.g=new Map,c.h=0,c.i&&ga(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=ti.prototype,i.add=function(c,y){Tn(this),this.i=null,c=Ii(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function ya(c,y){Tn(c),y=Ii(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ri(c,y){return Tn(c),y=Ii(c,y),c.g.has(y)}i.forEach=function(c,y){Tn(this),this.g.forEach(function(_,w){_.forEach(function(B){c.call(y,B,w,this)},this)},this)},i.na=function(){Tn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const B=c[w];for(let Q=0;Q<B.length;Q++)_.push(y[w])}return _},i.V=function(c){Tn(this);let y=[];if(typeof c=="string")Ri(this,c)&&(y=y.concat(this.g.get(Ii(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Tn(this),this.i=null,c=Ii(this,c),Ri(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ci(c,y,_){ya(c,y),0<_.length&&(c.i=null,c.g.set(Ii(c,y),K(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const Q=encodeURIComponent(String(w)),ie=this.V(w);for(w=0;w<ie.length;w++){var B=Q;ie[w]!==""&&(B+="="+encodeURIComponent(String(ie[w]))),c.push(B)}}return this.i=c.join("&")};function Ii(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Go(c,y){y&&!c.j&&(Tn(c),c.i=null,c.g.forEach(function(_,w){var B=w.toLowerCase();w!=B&&(ya(this,w),Ci(this,B,_))},c)),c.j=y}function ku(c,y){const _=new gr;if(m.Image){const w=new Image;w.onload=N(wn,_,"TestLoadImage: loaded",!0,y,w),w.onerror=N(wn,_,"TestLoadImage: error",!1,y,w),w.onabort=N(wn,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=N(wn,_,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Ts(c,y){const _=new gr,w=new AbortController,B=setTimeout(()=>{w.abort(),wn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(Q=>{clearTimeout(B),Q.ok?wn(_,"TestPingServer: ok",!0,y):wn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),wn(_,"TestPingServer: error",!1,y)})}function wn(c,y,_,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(_)}catch{}}function ws(){this.g=new Zt}function ni(c,y,_){const w=_||"";try{_s(c,function(B,Q){let ie=B;p(B)&&(ie=Lo(B)),y.push(w+Q+"="+encodeURIComponent(ie))})}catch(B){throw y.push(w+"type="+encodeURIComponent("_badmap")),B}}function Sr(c){this.l=c.Ub||null,this.j=c.eb||!1}x(Sr,Po),Sr.prototype.g=function(){return new Di(this.l,this.j)},Sr.prototype.i=function(c){return function(){return c}}({});function Di(c,y){Et.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Di,Et),i=Di.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ri(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ko(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ko(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ii(this):ri(this),this.readyState==3&&Ko(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ii(this))},i.Qa=function(c){this.g&&(this.response=c,ii(this))},i.ga=function(){this.g&&ii(this)};function ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ri(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Qo(c){let y="";return fe(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function xt(c,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=Qo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):ze(c,y,_))}function Fe(c){Et.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Fe,Et);var _a=/^https?$/i,bs=["POST","PUT"];i=Fe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ps.g(),this.v=this.o?Du(this.o):Du(ps),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Uu(this,Q);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)_.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())_.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(bs,y,void 0))||w||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ie]of _)this.g.setRequestHeader(Q,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ss(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Uu(this,Q)}};function Uu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,va(c),si(c)}function va(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Dt(this,"complete"),Dt(this,"abort"),si(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),Fe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ea(this):this.bb())},i.bb=function(){Ea(this)};function Ea(c){if(c.h&&typeof f<"u"&&(!c.v[1]||bn(c)!=4||c.Z()!=2)){if(c.u&&bn(c)==4)Iu(c.Ea,0,c);else if(Dt(c,"readystatechange"),bn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=ie===0){var B=String(c.D).match(qo)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),w=!_a.test(B?B.toLowerCase():"")}_=w}if(_)Dt(c,"complete"),Dt(c,"success");else{c.m=6;try{var Q=2<bn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",va(c)}}finally{si(c)}}}}function si(c,y){if(c.g){Ss(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Dt(c,"ready");try{_.onreadystatechange=w}catch{}}}function Ss(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function bn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Wn(y)}};function ju(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function _f(c){const y={};c=(c.g&&2<=bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if($(c[w]))continue;var _=M(c[w]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[B]||[];y[B]=Q,Q.push(_)}O(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function As(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ta(c){this.Aa=0,this.i=[],this.j=new gr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=As("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=As("baseRetryDelayMs",5e3,c),this.cb=As("retryDelaySeedMs",1e4,c),this.Wa=As("forwardChannelMaxRetries",2,c),this.wa=As("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new zo(c&&c.concurrentRequestLimit),this.Da=new ws,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ta.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,w){ut(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Ku(this,null,this.W),ba(this)};function $o(c){if(zu(c),c.G==3){var y=c.U++,_=st(c.I);if(ze(_,"SID",c.K),ze(_,"RID",y),ze(_,"TYPE","terminate"),Rs(c,_),y=new ei(c,c.j,y),y.L=2,y.v=Es(st(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Qu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),et(y)}Gu(c)}function wa(c){c.g&&(Cs(c),c.g.cancel(),c.g=null)}function zu(c){wa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Sa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ba(c){if(!Bo(c.h)&&!c.s){c.s=!0;var y=c.Ga;Ee||V(),pe||(Ee(),pe=!0),He.add(y,c),c.B=0}}function vf(c,y){return Vu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mr(A(c.Ga,c,y),Wo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new ei(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=R(Q),I(Q,this.S)):Q=this.S),this.m!==null||this.O||(B.H=Q,Q=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Bu(this,B,y),_=st(this.I),ze(_,"RID",c),ze(_,"CVER",22),this.D&&ze(_,"X-HTTP-Session-Id",this.D),Rs(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(Qo(Q)))+"&"+y:this.m&&xt(_,this.m,Q)),Tr(this.h,B),this.Ua&&ze(_,"TYPE","init"),this.P?(ze(_,"$req",y),ze(_,"SID","null"),B.T=!0,jn(B,_,null)):jn(B,_,y),this.G=2}}else this.G==3&&(c?Yo(this,c):this.i.length==0||Bo(this.h)||Yo(this))};function Yo(c,y){var _;y?_=y.l:_=c.U++;const w=st(c.I);ze(w,"SID",c.K),ze(w,"RID",_),ze(w,"AID",c.T),Rs(c,w),c.m&&c.o&&xt(w,c.m,c.o),_=new ei(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Bu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Tr(c.h,_),jn(_,w,y)}function Rs(c,y){c.H&&fe(c.H,function(_,w){ze(y,w,_)}),c.l&&_s({},function(_,w){ze(y,w,_)})}function Bu(c,y,_){_=Math.min(c.i.length,_);var w=c.l?A(c.l.Na,c.l,c):null;e:{var B=c.i;let Q=-1;for(;;){const ie=["count="+_];Q==-1?0<_?(Q=B[0].g,ie.push("ofs="+Q)):Q=0:ie.push("ofs="+Q);let Le=!0;for(let wt=0;wt<_;wt++){let Pe=B[wt].g;const Ot=B[wt].map;if(Pe-=Q,0>Pe)Q=Math.max(0,B[wt].g-100),Le=!1;else try{ni(Ot,ie,"req"+Pe+"_")}catch{w&&w(Ot)}}if(Le){w=ie.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,w}function qu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Ee||V(),pe||(Ee(),pe=!0),He.add(y,c),c.v=0}}function Xo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mr(A(c.Fa,c),Wo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mr(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),wa(this),Hu(this))};function Cs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Hu(c){c.g=new ei(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=st(c.qa);ze(y,"RID","rpc"),ze(y,"SID",c.K),ze(y,"AID",c.T),ze(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(y,"TO",c.ja),ze(y,"TYPE","xmlhttp"),Rs(c,y),c.m&&c.o&&xt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Es(st(y)),_.m=null,_.P=!0,Si(_,c)}i.Za=function(){this.C!=null&&(this.C=null,wa(this),Xo(this),ut(19))};function Sa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Fu(c,y){var _=null;if(c.g==y){Sa(c),Cs(c),c.g=null;var w=2}else if(Er(c.h,y))_=y.D,vn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;w=ha(),Dt(w,new xu(w,_)),ba(c)}else qu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(w==1&&vf(c,y)||w==2&&Xo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function Wo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Ni(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),w=c.Xa;const B=!w;w=new Ai(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||wr(w,"https"),Es(w),B?ku(w.toString(),_):Ts(w.toString(),_)}else ut(2);c.G=0,c.l&&c.l.sa(y),Gu(c),zu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Gu(c){if(c.G=0,c.ka=[],c.l){const y=Jt(c.h);(y.length!=0||c.i.length!=0)&&(q(c.ka,y),q(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function Ku(c,y,_){var w=_ instanceof Ai?st(_):new Ai(_);if(w.g!="")y&&(w.g=y+"."+w.g),vs(w,w.s);else{var B=m.location;w=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var Q=new Ai(null);w&&wr(Q,w),y&&(Q.g=y),B&&vs(Q,B),_&&(Q.l=_),w=Q}return _=c.D,y=c.ya,_&&y&&ze(w,_,y),ze(w,"VER",c.la),Rs(c,w),w}function Qu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Fe(new Sr({eb:_})):new Fe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function $u(){}i=$u.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Aa(){}Aa.prototype.g=function(c,y){return new en(c,y)};function en(c,y){Et.call(this),this.g=new Ta(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!$(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!$(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ai(this)}x(en,Et),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){$o(this.g)},en.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Lo(c),c=_);y.i.push(new df(y.Ya++,c)),y.G==3&&ba(y)},en.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,en.aa.N.call(this)};function Yu(c){hr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}x(Yu,hr);function Xu(){Un.call(this),this.status=1}x(Xu,Un);function ai(c){this.g=c}x(ai,$u),ai.prototype.ua=function(){Dt(this.g,"a")},ai.prototype.ta=function(c){Dt(this.g,new Yu(c))},ai.prototype.sa=function(c){Dt(this.g,new Xu)},ai.prototype.ra=function(){Dt(this.g,"b")},Aa.prototype.createWebChannel=Aa.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,ET=function(){return new Aa},vT=function(){return ha()},_T=_n,zm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tt.NO_ERROR=0,Tt.TIMEOUT=8,Tt.HTTP_ERROR=6,fh=Tt,bi.COMPLETE="complete",yT=bi,Nu.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Hl=Nu,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,pT=Fe}).apply(typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{});const n0="@firebase/firestore",i0="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new gg("@firebase/firestore");function Ja(){return na.logLevel}function ue(i,...e){if(na.logLevel<=xe.DEBUG){const t=e.map(Dg);na.debug(`Firestore (${Ro}): ${i}`,...t)}}function rr(i,...e){if(na.logLevel<=xe.ERROR){const t=e.map(Dg);na.error(`Firestore (${Ro}): ${i}`,...t)}}function ho(i,...e){if(na.logLevel<=xe.WARN){const t=e.map(Dg);na.warn(`Firestore (${Ro}): ${i}`,...t)}}function Dg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i="Unexpected state"){const e=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: `+i;throw rr(e),new Error(e)}function Ge(i,e){i||Te()}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends or{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class g2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($t.UNAUTHENTICATED))}shutdown(){}}class p2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class y2{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let u=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ts,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ts)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string"),new TT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new $t(e)}}class _2{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class v2{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new _2(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class E2{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,pn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new r0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string"),this.R=t.token,new r0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=T2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function fo(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=-62135596800,a0=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*a0);return new Ct(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<s0)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/a0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-s0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Ct(0,0))}static max(){return new we(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="__name__";class di{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(),s===void 0?s=e.length-t:s>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return di.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof di?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=di.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=di.isNumericId(e),o=di.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?di.extractNumericId(e).compare(di.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return es.fromString(e.substring(4,e.length-2))}}class Ze extends di{construct(e,t,s){return new Ze(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Ze(t)}static emptyPath(){return new Ze([])}}const w2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends di{construct(e,t,s){return new qt(e,t,s)}static isValidIdentifier(e){return w2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===o0}static keyField(){return new qt([o0])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(t)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Ze.fromString(e))}static fromName(e){return new ye(Ze.fromString(e).popFirst(5))}static empty(){return new ye(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=-1;function b2(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new Ct(t+1,0):new Ct(t,s));return new rs(o,ye.empty(),e)}function S2(i){return new rs(i.readTime,i.key,iu)}class rs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new rs(we.min(),ye.empty(),iu)}static max(){return new rs(we.max(),ye.empty(),iu)}}function A2(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(i.documentKey,e.documentKey),t!==0?t:Ve(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==R2)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):J.reject(t)}static resolve(e){return new J((t,s)=>{t(e)})}static reject(e){return new J((t,s)=>{s(e)})}static waitFor(e){return new J((t,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&t()},g=>s(g))}),f=!0,u===o&&t()})}static or(e){let t=J.resolve(!1);for(const s of e)t=t.next(o=>o?J.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new J((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;t(e[p]).next(E=>{f[p]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,t){return new J((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function I2(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Io(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Yh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng=-1;function Xh(i){return i==null}function Ch(i){return i===0&&1/i==-1/0}function D2(i){return typeof i=="number"&&Number.isInteger(i)&&!Ch(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="";function N2(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=l0(e)),e=x2(i.get(t),e);return l0(e)}function x2(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case bT:t+="";break;default:t+=u}}return t}function l0(i){return i+bT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ra(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function ST(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||Bt.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}}class Wc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Bt.RED,this.left=o??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Bt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Bt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Bt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new c0(this.data.getIterator())}getIteratorFrom(e){return new c0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new It(this.comparator);return t.data=e,t}}class c0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new Fn([])}unionWith(e){let t=new It(qt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new AT("Invalid base64 string: "+u):u}}(e);return new Ht(t)}static fromUint8Array(e){const t=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ht(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const O2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(i){if(Ge(!!i),typeof i=="string"){let e=0;const t=O2.exec(i);if(Ge(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ht(i.seconds),nanos:ht(i.nanos)}}function ht(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function as(i){return typeof i=="string"?Ht.fromBase64String(i):Ht.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="server_timestamp",CT="__type__",IT="__previous_value__",DT="__local_write_time__";function xg(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[CT])===null||t===void 0?void 0:t.stringValue)===RT}function Wh(i){const e=i.mapValue.fields[IT];return xg(e)?Wh(e):e}function ru(i){const e=ss(i.mapValue.fields[DT].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,t,s,o,u,f,m,g,p){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p}}const Ih="(default)";class su{constructor(e,t){this.projectId=e,this.database=t||Ih}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===Ih}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="__type__",V2="__max__",Zc={mapValue:{}},xT="__vector__",Dh="value";function os(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?xg(i)?4:P2(i)?9007199254740991:L2(i)?10:11:Te()}function _i(i,e){if(i===e)return!0;const t=os(i);if(t!==os(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ru(i).isEqual(ru(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ss(o.timestampValue),m=ss(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return as(o.bytesValue).isEqual(as(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return ht(o.geoPointValue.latitude)===ht(u.geoPointValue.latitude)&&ht(o.geoPointValue.longitude)===ht(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ht(o.integerValue)===ht(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ht(o.doubleValue),m=ht(u.doubleValue);return f===m?Ch(f)===Ch(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return fo(i.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(u0(f)!==u0(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!_i(f[g],m[g])))return!1;return!0}(i,e);default:return Te()}}function au(i,e){return(i.values||[]).find(t=>_i(t,e))!==void 0}function mo(i,e){if(i===e)return 0;const t=os(i),s=os(e);if(t!==s)return Ve(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=ht(u.integerValue||u.doubleValue),g=ht(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return h0(i.timestampValue,e.timestampValue);case 4:return h0(ru(i),ru(e));case 5:return Ve(i.stringValue,e.stringValue);case 6:return function(u,f){const m=as(u),g=as(f);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Ve(m[p],g[p]);if(E!==0)return E}return Ve(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ve(ht(u.latitude),ht(f.latitude));return m!==0?m:Ve(ht(u.longitude),ht(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return f0(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,g,p,E;const b=u.fields||{},A=f.fields||{},N=(m=b[Dh])===null||m===void 0?void 0:m.arrayValue,x=(g=A[Dh])===null||g===void 0?void 0:g.arrayValue,K=Ve(((p=N==null?void 0:N.values)===null||p===void 0?void 0:p.length)||0,((E=x==null?void 0:x.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:f0(N,x)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Zc.mapValue&&f===Zc.mapValue)return 0;if(u===Zc.mapValue)return 1;if(f===Zc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const A=Ve(g[b],E[b]);if(A!==0)return A;const N=mo(m[g[b]],p[E[b]]);if(N!==0)return N}return Ve(g.length,E.length)}(i.mapValue,e.mapValue);default:throw Te()}}function h0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const t=ss(i),s=ss(e),o=Ve(t.seconds,s.seconds);return o!==0?o:Ve(t.nanos,s.nanos)}function f0(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=mo(t[o],s[o]);if(u)return u}return Ve(t.length,s.length)}function go(i){return Bm(i)}function Bm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=ss(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return as(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ye.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Bm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Bm(t.fields[f])}`;return o+"}"}(i.mapValue):Te()}function dh(i){switch(os(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wh(i);return e?16+dh(e):16;case 5:return 2*i.stringValue.length;case 6:return as(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+dh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ra(s.fields,(u,f)=>{o+=u.length+dh(f)}),o}(i.mapValue);default:throw Te()}}function d0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function qm(i){return!!i&&"integerValue"in i}function Og(i){return!!i&&"arrayValue"in i}function m0(i){return!!i&&"nullValue"in i}function g0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function mh(i){return!!i&&"mapValue"in i}function L2(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[NT])===null||t===void 0?void 0:t.stringValue)===xT}function Ql(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ra(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Ql(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ql(i.arrayValue.values[t]);return e}return Object.assign({},i)}function P2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===V2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!mh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(t)}setAll(e){let t=qt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=m.popLast()}f?s[m.lastSegment()]=Ql(f):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());mh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];mh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ra(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Ln(Ql(this.value))}}function OT(i){const e=[];return ra(i.fields,(t,s)=>{const o=new qt([t]);if(mh(s)){const u=OT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,t,s,o,u,f,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Yt(e,0,we.min(),we.min(),we.min(),Ln.empty(),0)}static newFoundDocument(e,t,s,o){return new Yt(e,1,t,we.min(),s,o,0)}static newNoDocument(e,t){return new Yt(e,2,t,we.min(),we.min(),Ln.empty(),0)}static newUnknownDocument(e,t){return new Yt(e,3,t,we.min(),we.min(),Ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t){this.position=e,this.inclusive=t}}function p0(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),t.key):s=mo(f,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function y0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!_i(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t="asc"){this.field=e,this.dir=t}}function k2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{}class _t extends MT{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new j2(e,t,s):t==="array-contains"?new q2(e,s):t==="in"?new H2(e,s):t==="not-in"?new F2(e,s):t==="array-contains-any"?new G2(e,s):new _t(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new z2(e,s):new B2(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(mo(t,this.value)):t!==null&&os(this.value)===os(t)&&this.matchesComparison(mo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends MT{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Yn(e,t)}matches(e){return VT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function VT(i){return i.op==="and"}function LT(i){return U2(i)&&VT(i)}function U2(i){for(const e of i.filters)if(e instanceof Yn)return!1;return!0}function Hm(i){if(i instanceof _t)return i.field.canonicalString()+i.op.toString()+go(i.value);if(LT(i))return i.filters.map(e=>Hm(e)).join(",");{const e=i.filters.map(t=>Hm(t)).join(",");return`${i.op}(${e})`}}function PT(i,e){return i instanceof _t?function(s,o){return o instanceof _t&&s.op===o.op&&s.field.isEqual(o.field)&&_i(s.value,o.value)}(i,e):i instanceof Yn?function(s,o){return o instanceof Yn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&PT(f,o.filters[m]),!0):!1}(i,e):void Te()}function kT(i){return i instanceof _t?function(t){return`${t.field.canonicalString()} ${t.op} ${go(t.value)}`}(i):i instanceof Yn?function(t){return t.op.toString()+" {"+t.getFilters().map(kT).join(" ,")+"}"}(i):"Filter"}class j2 extends _t{constructor(e,t,s){super(e,t,s),this.key=ye.fromName(s.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class z2 extends _t{constructor(e,t){super(e,"in",t),this.keys=UT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class B2 extends _t{constructor(e,t){super(e,"not-in",t),this.keys=UT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function UT(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ye.fromName(s.referenceValue))}class q2 extends _t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Og(t)&&au(t.arrayValue,this.value)}}class H2 extends _t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&au(this.value.arrayValue,t)}}class F2 extends _t{constructor(e,t){super(e,"not-in",t)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!au(this.value.arrayValue,t)}}class G2 extends _t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Og(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>au(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,t=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function _0(i,e=null,t=[],s=[],o=null,u=null,f=null){return new K2(i,e,t,s,o,u,f)}function Mg(i){const e=Se(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Hm(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Xh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>go(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>go(s)).join(",")),e.le=t}return e.le}function Vg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!k2(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!PT(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!y0(i.startAt,e.startAt)&&y0(i.endAt,e.endAt)}function Fm(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,t=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Q2(i,e,t,s,o,u,f,m){return new vu(i,e,t,s,o,u,f,m)}function jT(i){return new vu(i)}function v0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function zT(i){return i.collectionGroup!==null}function $l(i){const e=Se(i);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new It(qt.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new xh(u,s))}),t.has(qt.keyField().canonicalString())||e.he.push(new xh(qt.keyField(),s))}return e.he}function gi(i){const e=Se(i);return e.Pe||(e.Pe=$2(e,$l(i))),e.Pe}function $2(i,e){if(i.limitType==="F")return _0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new xh(o.field,u)});const t=i.endAt?new Nh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Nh(i.startAt.position,i.startAt.inclusive):null;return _0(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Gm(i,e){const t=i.filters.concat([e]);return new vu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Km(i,e,t){return new vu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Zh(i,e){return Vg(gi(i),gi(e))&&i.limitType===e.limitType}function BT(i){return`${Mg(gi(i))}|lt:${i.limitType}`}function eo(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>kT(o)).join(", ")}]`),Xh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>go(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>go(o)).join(",")),`Target(${s})`}(gi(i))}; limitType=${i.limitType})`}function Jh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of $l(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,g){const p=p0(f,m,g);return f.inclusive?p<=0:p<0}(s.startAt,$l(s),o)||s.endAt&&!function(f,m,g){const p=p0(f,m,g);return f.inclusive?p>=0:p>0}(s.endAt,$l(s),o))}(i,e)}function Y2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function qT(i){return(e,t)=>{let s=!1;for(const o of $l(i)){const u=X2(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function X2(i,e,t){const s=i.field.isKeyField()?ye.comparator(e.key,t.key):function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?mo(g,p):Te()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return ST(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=new it(ye.comparator);function sr(){return W2}const HT=new it(ye.comparator);function Fl(...i){let e=HT;for(const t of i)e=e.insert(t.key,t);return e}function FT(i){let e=HT;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ys(){return Yl()}function GT(){return Yl()}function Yl(){return new sa(i=>i.toString(),(i,e)=>i.isEqual(e))}const Z2=new it(ye.comparator),J2=new It(ye.comparator);function Oe(...i){let e=J2;for(const t of i)e=e.add(t);return e}const eD=new It(Ve);function tD(){return eD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ch(e)?"-0":e}}function KT(i){return{integerValue:""+i}}function nD(i,e){return D2(e)?KT(e):Lg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(){this._=void 0}}function iD(i,e,t){return i instanceof Oh?function(o,u){const f={fields:{[CT]:{stringValue:RT},[DT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&xg(u)&&(u=Wh(u)),u&&(f.fields[IT]=u),{mapValue:f}}(t,e):i instanceof ou?$T(i,e):i instanceof lu?YT(i,e):function(o,u){const f=QT(o,u),m=E0(f)+E0(o.Ie);return qm(f)&&qm(o.Ie)?KT(m):Lg(o.serializer,m)}(i,e)}function rD(i,e,t){return i instanceof ou?$T(i,e):i instanceof lu?YT(i,e):t}function QT(i,e){return i instanceof Mh?function(s){return qm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Oh extends ef{}class ou extends ef{constructor(e){super(),this.elements=e}}function $T(i,e){const t=XT(e);for(const s of i.elements)t.some(o=>_i(o,s))||t.push(s);return{arrayValue:{values:t}}}class lu extends ef{constructor(e){super(),this.elements=e}}function YT(i,e){let t=XT(e);for(const s of i.elements)t=t.filter(o=>!_i(o,s));return{arrayValue:{values:t}}}class Mh extends ef{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function E0(i){return ht(i.integerValue||i.doubleValue)}function XT(i){return Og(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function sD(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof ou&&o instanceof ou||s instanceof lu&&o instanceof lu?fo(s.elements,o.elements,_i):s instanceof Mh&&o instanceof Mh?_i(s.Ie,o.Ie):s instanceof Oh&&o instanceof Oh}(i.transform,e.transform)}class aD{constructor(e,t){this.version=e,this.transformResults=t}}class tr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class tf{}function WT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new JT(i.key,tr.none()):new Eu(i.key,i.data,tr.none());{const t=i.data,s=Ln.empty();let o=new It(qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=t.field(u);f===null&&u.length>1&&(u=u.popLast(),f=t.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new aa(i.key,s,new Fn(o.toArray()),tr.none())}}function oD(i,e,t){i instanceof Eu?function(o,u,f){const m=o.value.clone(),g=w0(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,t):i instanceof aa?function(o,u,f){if(!gh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=w0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(ZT(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,e,t):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,t)}function Xl(i,e,t,s){return i instanceof Eu?function(u,f,m,g){if(!gh(u.precondition,f))return m;const p=u.value.clone(),E=b0(u.fieldTransforms,g,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null}(i,e,t,s):i instanceof aa?function(u,f,m,g){if(!gh(u.precondition,f))return m;const p=b0(u.fieldTransforms,g,f),E=f.data;return E.setAll(ZT(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(i,e,t,s):function(u,f,m){return gh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,t)}function lD(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=QT(s.transform,o||null);u!=null&&(t===null&&(t=Ln.empty()),t.set(s.field,u))}return t||null}function T0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&fo(s,o,(u,f)=>sD(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Eu extends tf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class aa extends tf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ZT(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function w0(i,e,t){const s=new Map;Ge(i.length===t.length);for(let o=0;o<t.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,rD(f,m,t[o]))}return s}function b0(i,e,t){const s=new Map;for(const o of i){const u=o.transform,f=t.data.field(o.field);s.set(o.field,iD(u,f,e))}return s}class JT extends tf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uD extends tf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&oD(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Xl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Xl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=GT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=t.has(o.key)?null:m;const g=WT(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Oe())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,(t,s)=>T0(t,s))&&fo(this.baseMutations,e.baseMutations,(t,s)=>T0(t,s))}}class Pg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ge(e.mutations.length===s.length);let o=function(){return Z2}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Pg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Ue;function dD(i){switch(i){case ee.OK:return Te();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te()}}function ew(i){if(i===void 0)return rr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case yt.OK:return ee.OK;case yt.CANCELLED:return ee.CANCELLED;case yt.UNKNOWN:return ee.UNKNOWN;case yt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case yt.INTERNAL:return ee.INTERNAL;case yt.UNAVAILABLE:return ee.UNAVAILABLE;case yt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case yt.NOT_FOUND:return ee.NOT_FOUND;case yt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case yt.ABORTED:return ee.ABORTED;case yt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case yt.DATA_LOSS:return ee.DATA_LOSS;default:return Te()}}(Ue=yt||(yt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=new es([4294967295,4294967295],0);function S0(i){const e=mD().encode(i),t=new gT;return t.update(e),new Uint8Array(t.digest())}function A0(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new es([t,s],0),new es([o,u],0)]}class kg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Gl(`Invalid padding: ${t}`);if(s<0)throw new Gl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=es.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(es.fromNumber(s)));return o.compare(gD)===1&&(o=new es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=S0(e),[s,o]=A0(t);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new kg(u,o,t);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const t=S0(e),[s,o]=A0(t);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new nf(we.min(),o,new it(Ve),sr(),Oe())}}class Tu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Tu(s,t,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class tw{constructor(e,t){this.targetId=e,this.ge=t}}class nw{constructor(e,t,s=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class R0{constructor(){this.pe=0,this.ye=C0(),this.we=Ht.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Oe(),t=Oe(),s=Oe();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new Tu(this.we,this.be,e,t,s)}Me(){this.Se=!1,this.ye=C0()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ge(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class pD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=sr(),this.$e=Jc(),this.Ke=Jc(),this.Ue=new it(Ve)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(Fm(u))if(s===0){const f=new ye(u.path);this.ze(t,f,Yt.newNoDocument(f,we.min()))}else Ge(s===1);else{const f=this.et(t);if(f!==s){const m=this.tt(e),g=m?this.nt(m,e,f):1;if(g!==0){this.Ye(t);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let f,m;try{f=as(s).toUint8Array()}catch(g){if(g instanceof AT)return ho("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new kg(f,o,u)}catch(g){return ho(g instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Fm(m.target)){const g=new ye(m.target.path);this._t(g).has(f)||this.ut(f,g)||this.ze(f,g,Yt.newNoDocument(g,e))}u.ve&&(t.set(f,u.Fe()),u.Me())}});let s=Oe();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const p=this.Xe(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new nf(e,t,this.Ue,this.Qe,s);return this.Qe=sr(),this.$e=Jc(),this.Ke=Jc(),this.Ue=new it(Ve),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new R0,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new It(Ve),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new It(Ve),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new R0),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Jc(){return new it(ye.comparator)}function C0(){return new it(ye.comparator)}const yD={asc:"ASCENDING",desc:"DESCENDING"},_D={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vD={and:"AND",or:"OR"};class ED{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qm(i,e){return i.useProto3Json||Xh(e)?e:{value:e}}function Vh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function TD(i,e){return Vh(i,e.toTimestamp())}function pi(i){return Ge(!!i),we.fromTimestamp(function(t){const s=ss(t);return new Ct(s.seconds,s.nanos)}(i))}function Ug(i,e){return $m(i,e).canonicalString()}function $m(i,e){const t=function(o){return new Ze(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function rw(i){const e=Ze.fromString(i);return Ge(uw(e)),e}function Ym(i,e){return Ug(i.databaseId,e.path)}function Sm(i,e){const t=rw(e);if(t.get(1)!==i.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ye(aw(t))}function sw(i,e){return Ug(i.databaseId,e)}function wD(i){const e=rw(i);return e.length===4?Ze.emptyPath():aw(e)}function Xm(i){return new Ze(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function aw(i){return Ge(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function I0(i,e,t){return{name:Ym(i,e),fields:t.value.mapValue.fields}}function bD(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(p,E){return p.useProto3Json?(Ge(E===void 0||typeof E=="string"),Ht.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Ht.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(p){const E=p.code===void 0?ee.UNKNOWN:ew(p.code);return new he(E,p.message||"")}(f);t=new nw(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Sm(i,s.document.name),u=pi(s.document.updateTime),f=s.document.createTime?pi(s.document.createTime):we.min(),m=new Ln({mapValue:{fields:s.document.fields}}),g=Yt.newFoundDocument(o,u,f,m),p=s.targetIds||[],E=s.removedTargetIds||[];t=new ph(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Sm(i,s.document),u=s.readTime?pi(s.readTime):we.min(),f=Yt.newNoDocument(o,u),m=s.removedTargetIds||[];t=new ph([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Sm(i,s.document),u=s.removedTargetIds||[];t=new ph([],u,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new fD(o,u),m=s.targetId;t=new tw(m,f)}}return t}function SD(i,e){let t;if(e instanceof Eu)t={update:I0(i,e.key,e.value)};else if(e instanceof JT)t={delete:Ym(i,e.key)};else if(e instanceof aa)t={update:I0(i,e.key,e.data),updateMask:MD(e.fieldMask)};else{if(!(e instanceof uD))return Te();t={verify:Ym(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Oh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ou)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof lu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Mh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Te()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:TD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te()}(i,e.precondition)),t}function AD(i,e){return i&&i.length>0?(Ge(e!==void 0),i.map(t=>function(o,u){let f=o.updateTime?pi(o.updateTime):pi(u);return f.isEqual(we.min())&&(f=pi(u)),new aD(f,o.transformResults||[])}(t,e))):[]}function RD(i,e){return{documents:[sw(i,e.path)]}}function CD(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=sw(i,o);const u=function(p){if(p.length!==0)return lw(Yn.create(p,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const f=function(p){if(p.length!==0)return p.map(E=>function(A){return{field:to(A.field),direction:ND(A.dir)}}(E))}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const m=Qm(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:o}}function ID(i){let e=wD(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ge(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(b){const A=ow(b);return A instanceof Yn&&LT(A)?A.getFilters():[A]}(t.where));let f=[];t.orderBy&&(f=function(b){return b.map(A=>function(x){return new xh(no(x.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(A))}(t.orderBy));let m=null;t.limit&&(m=function(b){let A;return A=typeof b=="object"?b.value:b,Xh(A)?null:A}(t.limit));let g=null;t.startAt&&(g=function(b){const A=!!b.before,N=b.values||[];return new Nh(N,A)}(t.startAt));let p=null;return t.endAt&&(p=function(b){const A=!b.before,N=b.values||[];return new Nh(N,A)}(t.endAt)),Q2(e,o,f,u,m,"F",g,p)}function DD(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ow(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=no(t.unaryFilter.field);return _t.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=no(t.unaryFilter.field);return _t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=no(t.unaryFilter.field);return _t.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=no(t.unaryFilter.field);return _t.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(i):i.fieldFilter!==void 0?function(t){return _t.create(no(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Yn.create(t.compositeFilter.filters.map(s=>ow(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(i):Te()}function ND(i){return yD[i]}function xD(i){return _D[i]}function OD(i){return vD[i]}function to(i){return{fieldPath:i.canonicalString()}}function no(i){return qt.fromServerFormat(i.fieldPath)}function lw(i){return i instanceof _t?function(t){if(t.op==="=="){if(g0(t.value))return{unaryFilter:{field:to(t.field),op:"IS_NAN"}};if(m0(t.value))return{unaryFilter:{field:to(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(g0(t.value))return{unaryFilter:{field:to(t.field),op:"IS_NOT_NAN"}};if(m0(t.value))return{unaryFilter:{field:to(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(t.field),op:xD(t.op),value:t.value}}}(i):i instanceof Yn?function(t){const s=t.getFilters().map(o=>lw(o));return s.length===1?s[0]:{compositeFilter:{op:OD(t.op),filters:s}}}(i):Te()}function MD(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function uw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,t,s,o,u=we.min(),f=we.min(),m=Ht.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.Tt=e}}function LD(i){const e=ID({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Km(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.Tn=new kD}addToCollectionParentIndex(e,t){return this.Tn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(rs.min())}updateCollectionGroup(e,t,s){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class kD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new It(Ze.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new It(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cw=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(cw,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new po(0)}static Un(){return new po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="LruGarbageCollector",UD=1048576;function x0([i,e],[t,s]){const o=Ve(i,t);return o===0?Ve(e,s):o}class jD{constructor(e){this.Hn=e,this.buffer=new It(x0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();x0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class zD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(N0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Io(t)?ue(N0,"Ignoring IndexedDB error during garbage collection: ",t):await Co(t)}await this.er(3e5)})}}class BD{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return J.resolve(Yh.ae);const s=new jD(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(D0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D0):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,f,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,t))).next(b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(p=Date.now(),Ja()<=xe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function qD(i,e){return new BD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.changes=new sa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?J.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Xl(s.mutation,o,Fn.empty(),Ct.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Oe()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Oe()){const o=Ys();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let f=Fl();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=Ys();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Oe()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{t.set(f,m)})})}computeViews(e,t,s,o){let u=sr();const f=Yl(),m=function(){return Yl()}();return t.forEach((g,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof aa)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),Xl(E.mutation,p,E.mutation.getFieldMask(),Ct.now())):f.set(p.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((p,E)=>f.set(p,E)),t.forEach((p,E)=>{var b;return m.set(p,new FD(E,(b=f.get(p))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,t){const s=Yl();let o=new it((f,m)=>f-m),u=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const m of f)m.keys().forEach(g=>{const p=t.get(g);if(p===null)return;let E=s.get(g)||Fn.empty();E=m.applyToLocalView(p,E),s.set(g,E);const b=(o.get(m.batchId)||Oe()).add(g);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,b=GT();E.forEach(A=>{if(!u.has(A)){const N=WT(t.get(A),s.get(A));N!==null&&b.set(A,N),u=u.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(e,p,b))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):J.resolve(Ys());let m=iu,g=u;return f.next(p=>J.forEach(p,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{g=g.insert(E,A)}))).next(()=>this.populateOverlays(e,p,u)).next(()=>this.computeViews(e,g,p,Oe())).next(E=>({batchId:m,changes:FT(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(s=>{let o=Fl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let f=Fl();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,g=>{const p=function(b,A){return new vu(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next(E=>{E.forEach((b,A)=>{f=f.insert(b,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(f=>{u.forEach((g,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,Yt.newInvalidDocument(E)))});let m=Fl();return f.forEach((g,p)=>{const E=u.get(g);E!==void 0&&Xl(E.mutation,p,Fn.empty(),Ct.now()),Jh(t,p)&&(m=m.insert(g,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return J.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:pi(o.createTime)}}(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:LD(o.bundledQuery),readTime:pi(o.readTime)}}(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this.overlays=new it(ye.comparator),this.Rr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ys();return J.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),J.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),J.resolve()}getOverlaysForCollection(e,t,s){const o=Ys(),u=t.length+1,f=new ye(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return J.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new it((p,E)=>p-E);const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>s){let E=u.get(p.largestBatchId);E===null&&(E=Ys(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=Ys(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,E)=>m.set(p,E)),!(m.size()>=o)););return J.resolve(m)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new hD(t,s));let u=this.Rr.get(t);u===void 0&&(u=Oe(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(){this.Vr=new It(Pt.mr),this.gr=new It(Pt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Pt(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Pt(e,t))}br(e,t){e.forEach(s=>this.removeReference(s,t))}Sr(e){const t=new ye(new Ze([])),s=new Pt(t,e),o=new Pt(t,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ye(new Ze([])),s=new Pt(t,e),o=new Pt(t,e+1);let u=Oe();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const t=new Pt(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ye.comparator(e.key,t.key)||Ve(e.Cr,t.Cr)}static pr(e,t){return Ve(e.Cr,t.Cr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new It(Pt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new cD(u,t,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Pt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,t){return J.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Ng:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Pt(t,0),o=new Pt(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new It(Ve);return t.forEach(o=>{const u=new Pt(o,0),f=new Pt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),J.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new Pt(new ye(u),0);let m=new It(Ve);return this.Mr.forEachWhile(g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Cr)),!0)},f),J.resolve(this.Br(m))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ge(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return J.forEach(t.mutations,o=>{const u=new Pt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Pt(t,0),o=this.Mr.firstAfterOrEqual(s);return J.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.kr=e,this.docs=function(){return new it(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return J.resolve(s?s.document.mutableCopy():Yt.newInvalidDocument(t))}getEntries(e,t){let s=sr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Yt.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=sr();const f=t.path,m=new ye(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||A2(S2(E),s)<=0||(o.has(E.key)||Jh(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Te()}qr(e,t){return J.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new WD(this)}getSize(e){return J.resolve(this.size)}}class WD extends HD{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),J.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.persistence=e,this.Qr=new sa(t=>Mg(t),Vg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Kr=new jg,this.targetCount=0,this.Ur=po.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),J.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new po(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.zn(t),J.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return J.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),J.resolve()}removeMatchingKeys(e,t,s){this.Kr.br(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return J.resolve(s)}containsKey(e,t){return J.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Yh(0),this.zr=!1,this.zr=!0,this.jr=new $D,this.referenceDelegate=e(this),this.Hr=new ZD(this),this.indexManager=new PD,this.remoteDocumentCache=function(o){return new XD(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new VD(t),this.Yr=new KD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new QD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new YD(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new JD(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return J.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class JD extends C2{constructor(e){super(),this.currentSequenceNumber=e}}class zg{constructor(e){this.persistence=e,this.ti=new jg,this.ni=null}static ri(e){return new zg(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),J.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),J.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,s=>{const o=ye.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,we.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return J.or([()=>J.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Lh{constructor(e,t){this.persistence=e,this.oi=new sa(s=>N2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=qD(this,t)}static ri(e,t){return new Lh(e,t)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return J.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?J.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,t).next(m=>{m||(s++,u.removeEntry(f,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),J.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=dh(e.data.value)),t}ar(e,t,s){return J.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Oe(),o=Oe();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Bg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return OR()?8:I2(Xt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new eN;return this._s(e,t,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,t,f,m.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(Ja()<=xe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",eo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(Ja()<=xe.DEBUG&&ue("QueryEngine","Query:",eo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ja()<=xe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",eo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(t))):J.resolve())}rs(e,t){if(v0(t))return J.resolve(null);let s=gi(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Km(t,null,"F"),s=gi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Oe(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const p=this.cs(t,m);return this.ls(t,p,f,g.readTime)?this.rs(e,Km(t,null,"F")):this.hs(e,p,t,g)}))})))}ss(e,t,s,o){return v0(t)||o.isEqual(we.min())?J.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(t,u);return this.ls(t,f,s,o)?J.resolve(null):(Ja()<=xe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),eo(t)),this.hs(e,f,t,b2(o,iu)).next(m=>m))})}cs(e,t){let s=new It(qT(e));return t.forEach((o,u)=>{Jh(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return Ja()<=xe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",eo(t)),this.ns.getDocumentsMatchingQuery(e,t,rs.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="LocalStore",nN=3e8;class iN{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new it(Ve),this.Is=new sa(u=>Mg(u),Vg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function rN(i,e,t,s){return new iN(i,e,t,s)}async function fw(i,e){const t=Se(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let g=Oe();for(const p of o){f.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return t.localDocuments.getDocuments(s,g).next(p=>({Rs:p,removedBatchIds:f,addedBatchIds:m}))})})}function sN(i,e){const t=Se(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(m,g,p,E){const b=p.batch,A=b.keys();let N=J.resolve();return A.forEach(x=>{N=N.next(()=>E.getEntry(g,x)).next(K=>{const q=p.docVersions.get(x);Ge(q!==null),K.version.compareTo(q)<0&&(b.applyToRemoteDocument(K,p),K.isValidDocument()&&(K.setReadTime(p.commitVersion),E.addEntry(K)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(g,b))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Oe();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function dw(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function aN(i,e){const t=Se(i),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const m=[];e.targetChanges.forEach((E,b)=>{const A=o.get(b);if(!A)return;m.push(t.Hr.removeMatchingKeys(u,E.removedDocuments,b).next(()=>t.Hr.addMatchingKeys(u,E.addedDocuments,b)));let N=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?N=N.withResumeToken(Ht.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,s)),o=o.insert(b,N),function(K,q,F){return K.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=nN?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(A,N,E)&&m.push(t.Hr.updateTargetData(u,N))});let g=sr(),p=Oe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(oN(u,f,e.documentUpdates).next(E=>{g=E.Vs,p=E.fs})),!s.isEqual(we.min())){const E=t.Hr.getLastRemoteSnapshotVersion(u).next(b=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,p)).next(()=>g)}).then(u=>(t.Ts=o,u))}function oN(i,e,t){let s=Oe(),o=Oe();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=sr();return t.forEach((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ue(qg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)}),{Vs:f,fs:o}})}function lN(i,e){const t=Se(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ng),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function uN(i,e){const t=Se(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):t.Hr.allocateTargetId(s).next(f=>(o=new Xr(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function Wm(i,e,t){const s=Se(i),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Io(f))throw f;ue(qg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function O0(i,e,t){const s=Se(i);let o=we.min(),u=Oe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,p,E){const b=Se(g),A=b.Is.get(E);return A!==void 0?J.resolve(b.Ts.get(A)):b.Hr.getTargetData(p,E)}(s,f,gi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,t?o:we.min(),t?u:Oe())).next(m=>(cN(s,Y2(e),m),{documents:m,gs:u})))}function cN(i,e,t){let s=i.Es.get(e)||we.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class M0{constructor(){this.activeTargetIds=tD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hN{constructor(){this.ho=new M0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new M0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="ConnectivityMonitor";class L0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(V0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(V0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh=null;function Zm(){return eh===null?eh=function(){return 268435456+Math.round(2147483648*Math.random())}():eh++,"0x"+eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="RestConnection",dN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Ih?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,t,s,o,u){const f=Zm(),m=this.So(e,t.toUriEncodedString());ue(Am,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,u),this.vo(e,m,g,s).then(p=>(ue(Am,`Received RPC '${e}' ${f}: `,p),p),p=>{throw ho(Am,`RPC '${e}' ${f} failed with error: `,p,"url: ",m,"request:",s),p})}Co(e,t,s,o,u,f){return this.bo(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ro}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,t){const s=dN[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class pN extends mN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=Zm();return new Promise((f,m)=>{const g=new pT;g.setWithCredentials(!0),g.listenOnce(yT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case fh.NO_ERROR:const E=g.getResponseJson();ue(Qt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case fh.TIMEOUT:ue(Qt,`RPC '${e}' ${u} timed out`),m(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case fh.HTTP_ERROR:const b=g.getStatus();if(ue(Qt,`RPC '${e}' ${u} failed with status:`,b,"response text:",g.getResponseText()),b>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const N=A==null?void 0:A.error;if(N&&N.status&&N.message){const x=function(q){const F=q.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(F)>=0?F:ee.UNKNOWN}(N.status);m(new he(x,N.message))}else m(new he(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ue(Qt,`RPC '${e}' ${u} completed.`)}});const p=JSON.stringify(o);ue(Qt,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",p,s,15)})}Wo(e,t,s){const o=Zm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=ET(),m=vT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ue(Qt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const b=f.createWebChannel(E,g);let A=!1,N=!1;const x=new gN({Fo:q=>{N?ue(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(A||(ue(Qt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),A=!0),ue(Qt,`RPC '${e}' stream ${o} sending:`,q),b.send(q))},Mo:()=>b.close()}),K=(q,F,$)=>{q.listen(F,Z=>{try{$(Z)}catch(ae){setTimeout(()=>{throw ae},0)}})};return K(b,Hl.EventType.OPEN,()=>{N||(ue(Qt,`RPC '${e}' stream ${o} transport opened.`),x.Qo())}),K(b,Hl.EventType.CLOSE,()=>{N||(N=!0,ue(Qt,`RPC '${e}' stream ${o} transport closed`),x.Ko())}),K(b,Hl.EventType.ERROR,q=>{N||(N=!0,ho(Qt,`RPC '${e}' stream ${o} transport errored:`,q),x.Ko(new he(ee.UNAVAILABLE,"The operation could not be completed")))}),K(b,Hl.EventType.MESSAGE,q=>{var F;if(!N){const $=q.data[0];Ge(!!$);const Z=$,ae=(Z==null?void 0:Z.error)||((F=Z[0])===null||F===void 0?void 0:F.error);if(ae){ue(Qt,`RPC '${e}' stream ${o} received error:`,ae);const re=ae.status;let fe=function(S){const I=yt[S];if(I!==void 0)return ew(I)}(re),O=ae.message;fe===void 0&&(fe=ee.INTERNAL,O="Unknown error status: "+re+" with message "+ae.message),N=!0,x.Ko(new he(fe,O)),b.close()}else ue(Qt,`RPC '${e}' stream ${o} received:`,$),x.Uo($)}}),K(m,_T.STAT_EVENT,q=>{q.stat===zm.PROXY?ue(Qt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===zm.NOPROXY&&ue(Qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.$o()},0),x}}function Rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(i){return new ED(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="PersistentStream";class gw{constructor(e,t,s,o,u,f,m,g){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new mw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(rr(t.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new he(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(P0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ue(P0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yN extends gw{constructor(e,t,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=bD(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?pi(f.readTime):we.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=Xm(this.serializer),t.addTarget=function(u,f){let m;const g=f.target;if(m=Fm(g)?{documents:RD(u,g)}:{query:CD(u,g).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=iw(u,f.resumeToken);const p=Qm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=Vh(u,f.snapshotVersion.toTimestamp());const p=Qm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const s=DD(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=Xm(this.serializer),t.removeTarget=e,this.I_(t)}}class _N extends gw{constructor(e,t,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=AD(e.writeResults,e.commitTime),s=pi(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=Xm(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>SD(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{}class EN extends vN{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(e,$m(t,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ee.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,$m(t,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(ee.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class TN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(rr(t),this.N_=!1):ue("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="RemoteStore";class wN{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{oa(this)&&(ue(ia,"Restarting streams for network reachability change."),await async function(g){const p=Se(g);p.W_.add(4),await wu(p),p.j_.set("Unknown"),p.W_.delete(4),await sf(p)}(this))})}),this.j_=new TN(s,o)}}async function sf(i){if(oa(i))for(const e of i.G_)await e(!0)}async function wu(i){for(const e of i.G_)await e(!1)}function pw(i,e){const t=Se(i);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Kg(t)?Gg(t):Do(t).c_()&&Fg(t,e))}function Hg(i,e){const t=Se(i),s=Do(t);t.U_.delete(e),s.c_()&&yw(t,e),t.U_.size===0&&(s.c_()?s.P_():oa(t)&&t.j_.set("Unknown"))}function Fg(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Do(i).y_(e)}function yw(i,e){i.H_.Ne(e),Do(i).w_(e)}function Gg(i){i.H_=new pD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Do(i).start(),i.j_.B_()}function Kg(i){return oa(i)&&!Do(i).u_()&&i.U_.size>0}function oa(i){return Se(i).W_.size===0}function _w(i){i.H_=void 0}async function bN(i){i.j_.set("Online")}async function SN(i){i.U_.forEach((e,t)=>{Fg(i,e)})}async function AN(i,e){_w(i),Kg(i)?(i.j_.q_(e),Gg(i)):i.j_.set("Unknown")}async function RN(i,e,t){if(i.j_.set("Online"),e instanceof nw&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(s){ue(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ph(i,s)}else if(e instanceof ph?i.H_.We(e):e instanceof tw?i.H_.Ze(e):i.H_.je(e),!t.isEqual(we.min()))try{const s=await dw(i.localStore);t.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.U_.get(p);E&&u.U_.set(p,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,p)=>{const E=u.U_.get(g);if(!E)return;u.U_.set(g,E.withResumeToken(Ht.EMPTY_BYTE_STRING,E.snapshotVersion)),yw(u,g);const b=new Xr(E.target,g,p,E.sequenceNumber);Fg(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){ue(ia,"Failed to raise snapshot:",s),await Ph(i,s)}}async function Ph(i,e,t){if(!Io(e))throw e;i.W_.add(1),await wu(i),i.j_.set("Offline"),t||(t=()=>dw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ue(ia,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await sf(i)})}function vw(i,e){return e().catch(t=>Ph(i,t,e))}async function af(i){const e=Se(i),t=ls(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Ng;for(;CN(e);)try{const o=await lN(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,IN(e,o)}catch(o){await Ph(e,o)}Ew(e)&&Tw(e)}function CN(i){return oa(i)&&i.K_.length<10}function IN(i,e){i.K_.push(e);const t=ls(i);t.c_()&&t.b_&&t.S_(e.mutations)}function Ew(i){return oa(i)&&!ls(i).u_()&&i.K_.length>0}function Tw(i){ls(i).start()}async function DN(i){ls(i).C_()}async function NN(i){const e=ls(i);for(const t of i.K_)e.S_(t.mutations)}async function xN(i,e,t){const s=i.K_.shift(),o=Pg.from(s,e,t);await vw(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await af(i)}async function ON(i,e){e&&ls(i).b_&&await async function(s,o){if(function(f){return dD(f)&&f!==ee.ABORTED}(o.code)){const u=s.K_.shift();ls(s).h_(),await vw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await af(s)}}(i,e),Ew(i)&&Tw(i)}async function k0(i,e){const t=Se(i);t.asyncQueue.verifyOperationInProgress(),ue(ia,"RemoteStore received new credentials");const s=oa(t);t.W_.add(3),await wu(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await sf(t)}async function MN(i,e){const t=Se(i);e?(t.W_.delete(2),await sf(t)):e||(t.W_.add(2),await wu(t),t.j_.set("Unknown"))}function Do(i){return i.J_||(i.J_=function(t,s,o){const u=Se(t);return u.M_(),new yN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:bN.bind(null,i),No:SN.bind(null,i),Lo:AN.bind(null,i),p_:RN.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Kg(i)?Gg(i):i.j_.set("Unknown")):(await i.J_.stop(),_w(i))})),i.J_}function ls(i){return i.Y_||(i.Y_=function(t,s,o){const u=Se(t);return u.M_(),new _N(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:DN.bind(null,i),Lo:ON.bind(null,i),D_:NN.bind(null,i),v_:xN.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await af(i)):(await i.Y_.stop(),i.K_.length>0&&(ue(ia,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const f=Date.now()+s,m=new Qg(e,t,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $g(i,e){if(rr("AsyncQueue",`${e}: ${i}`),Io(i))return new he(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{static emptySet(e){return new oo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ye.comparator(t.key,s.key):(t,s)=>ye.comparator(t.key,s.key),this.keyedMap=Fl(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof oo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new oo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(){this.Z_=new it(ye.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class yo{constructor(e,t,s,o,u,f,m,g,p){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,t,s,o,u){const f=[];return t.forEach(m=>{f.push({type:0,doc:m})}),new yo(e,t,oo.emptySet(t),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class LN{constructor(){this.queries=j0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Se(t),u=o.queries;o.queries=j0(),u.forEach((f,m)=>{for(const g of m.ta)g.onError(s)})})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function j0(){return new sa(i=>BT(i),Zh)}async function PN(i,e){const t=Se(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new VN,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const m=$g(f,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&Yg(t)}async function kN(i,e){const t=Se(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function UN(i,e){const t=Se(i);let s=!1;for(const o of e){const u=o.query,f=t.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Yg(t)}function jN(i,e,t){const s=Se(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function Yg(i){i.ia.forEach(e=>{e.next()})}var Jm,z0;(z0=Jm||(Jm={}))._a="default",z0.Cache="cache";class zN{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new yo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Jm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.key=e}}class bw{constructor(e){this.key=e}}class BN{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Oe(),this.mutatedKeys=Oe(),this.ya=qT(e),this.wa=new oo(this.ya)}get ba(){return this.fa}Sa(e,t){const s=t?t.Da:new U0,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const A=o.get(E),N=Jh(this.query,b)?b:null,x=!!A&&this.mutatedKeys.has(A.key),K=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let q=!1;A&&N?A.data.isEqual(N.data)?x!==K&&(s.track({type:3,doc:N}),q=!0):this.va(A,N)||(s.track({type:2,doc:N}),q=!0,(g&&this.ya(N,g)>0||p&&this.ya(N,p)<0)&&(m=!0)):!A&&N?(s.track({type:0,doc:N}),q=!0):A&&!N&&(s.track({type:1,doc:A}),q=!0,(g||p)&&(m=!0)),q&&(N?(f=f.add(N),u=K?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,b)=>function(N,x){const K=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return K(N)-K(x)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(s),o=o!=null&&o;const m=t&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,p=g!==this.ga;return this.ga=g,f.length!==0||p?{snapshot:new yo(this.query,e.wa,u,f,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new U0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Oe(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new bw(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new ww(s))}),t}Oa(e){this.fa=e.gs,this.pa=Oe();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return yo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Xg="SyncEngine";class qN{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class HN{constructor(e){this.key=e,this.Ba=!1}}class FN{constructor(e,t,s,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new sa(m=>BT(m),Zh),this.qa=new Map,this.Qa=new Set,this.$a=new it(ye.comparator),this.Ka=new Map,this.Ua=new jg,this.Wa={},this.Ga=new Map,this.za=po.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function GN(i,e,t=!0){const s=Dw(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await Sw(s,e,t,!0),o}async function KN(i,e){const t=Dw(i);await Sw(t,e,!0,!1)}async function Sw(i,e,t,s){const o=await uN(i.localStore,gi(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await QN(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&t&&pw(i.remoteStore,o),m}async function QN(i,e,t,s,o){i.Ha=(b,A,N)=>async function(K,q,F,$){let Z=q.view.Sa(F);Z.ls&&(Z=await O0(K.localStore,q.query,!1).then(({documents:O})=>q.view.Sa(O,Z)));const ae=$&&$.targetChanges.get(q.targetId),re=$&&$.targetMismatches.get(q.targetId)!=null,fe=q.view.applyChanges(Z,K.isPrimaryClient,ae,re);return q0(K,q.targetId,fe.Ma),fe.snapshot}(i,b,A,N);const u=await O0(i.localStore,e,!0),f=new BN(e,u.gs),m=f.Sa(u.documents),g=Tu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),p=f.applyChanges(m,i.isPrimaryClient,g);q0(i,t,p.Ma);const E=new qN(e,t,f);return i.ka.set(e,E),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),p.snapshot}async function $N(i,e,t){const s=Se(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Zh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Wm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Hg(s.remoteStore,o.targetId),eg(s,o.targetId)}).catch(Co)):(eg(s,o.targetId),await Wm(s.localStore,o.targetId,!0))}async function YN(i,e){const t=Se(i),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Hg(t.remoteStore,s.targetId))}async function XN(i,e,t){const s=ix(i);try{const o=await function(f,m){const g=Se(f),p=Ct.now(),E=m.reduce((N,x)=>N.add(x.key),Oe());let b,A;return g.persistence.runTransaction("Locally write mutations","readwrite",N=>{let x=sr(),K=Oe();return g.ds.getEntries(N,E).next(q=>{x=q,x.forEach((F,$)=>{$.isValidDocument()||(K=K.add(F))})}).next(()=>g.localDocuments.getOverlayedDocuments(N,x)).next(q=>{b=q;const F=[];for(const $ of m){const Z=lD($,b.get($.key).overlayedDocument);Z!=null&&F.push(new aa($.key,Z,OT(Z.value.mapValue),tr.exists(!0)))}return g.mutationQueue.addMutationBatch(N,p,F,m)}).next(q=>{A=q;const F=q.applyToLocalDocumentSet(b,K);return g.documentOverlayCache.saveOverlays(N,q.batchId,F)})}).then(()=>({batchId:A.batchId,changes:FT(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,g){let p=f.Wa[f.currentUser.toKey()];p||(p=new it(Ve)),p=p.insert(m,g),f.Wa[f.currentUser.toKey()]=p}(s,o.batchId,t),await bu(s,o.changes),await af(s.remoteStore)}catch(o){const u=$g(o,"Failed to persist write");t.reject(u)}}async function Aw(i,e){const t=Se(i);try{const s=await aN(t.localStore,e);e.targetChanges.forEach((o,u)=>{const f=t.Ka.get(u);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ge(f.Ba):o.removedDocuments.size>0&&(Ge(f.Ba),f.Ba=!1))}),await bu(t,s,e)}catch(s){await Co(s)}}function B0(i,e,t){const s=Se(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=Se(f);g.onlineState=m;let p=!1;g.queries.forEach((E,b)=>{for(const A of b.ta)A.sa(m)&&(p=!0)}),p&&Yg(g)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function WN(i,e,t){const s=Se(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),u=o&&o.key;if(u){let f=new it(ye.comparator);f=f.insert(u,Yt.newNoDocument(u,we.min()));const m=Oe().add(u),g=new nf(we.min(),new Map,new it(Ve),f,m);await Aw(s,g),s.$a=s.$a.remove(u),s.Ka.delete(e),Wg(s)}else await Wm(s.localStore,e,!1).then(()=>eg(s,e,t)).catch(Co)}async function ZN(i,e){const t=Se(i),s=e.batch.batchId;try{const o=await sN(t.localStore,e);Cw(t,s,null),Rw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await bu(t,o)}catch(o){await Co(o)}}async function JN(i,e,t){const s=Se(i);try{const o=await function(f,m){const g=Se(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next(b=>(Ge(b!==null),E=b.keys(),g.mutationQueue.removeMutationBatch(p,b))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E)).next(()=>g.localDocuments.getDocuments(p,E))})}(s.localStore,e);Cw(s,e,t),Rw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await bu(s,o)}catch(o){await Co(o)}}function Rw(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function Cw(i,e,t){const s=Se(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function eg(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),t&&i.La.Ja(s,t);i.qa.delete(e),i.isPrimaryClient&&i.Ua.Sr(e).forEach(s=>{i.Ua.containsKey(s)||Iw(i,s)})}function Iw(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(Hg(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ka.delete(t),Wg(i))}function q0(i,e,t){for(const s of t)s instanceof ww?(i.Ua.addReference(s.key,e),ex(i,s)):s instanceof bw?(ue(Xg,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,e),i.Ua.containsKey(s.key)||Iw(i,s.key)):Te()}function ex(i,e){const t=e.key,s=t.path.canonicalString();i.$a.get(t)||i.Qa.has(s)||(ue(Xg,"New document in limbo: "+t),i.Qa.add(s),Wg(i))}function Wg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new ye(Ze.fromString(e)),s=i.za.next();i.Ka.set(s,new HN(t)),i.$a=i.$a.insert(t,s),pw(i.remoteStore,new Xr(gi(jT(t.path)),s,"TargetPurposeLimboResolution",Yh.ae))}}async function bu(i,e,t){const s=Se(i),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,g)=>{f.push(s.Ha(g,e,t).then(p=>{var E;if((p||t)&&s.isPrimaryClient){const b=p?!p.fromCache:(E=t==null?void 0:t.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(p){o.push(p);const b=Bg.Yi(g.targetId,p);u.push(b)}}))}),await Promise.all(f),s.La.p_(o),await async function(g,p){const E=Se(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>J.forEach(p,A=>J.forEach(A.Hi,N=>E.persistence.referenceDelegate.addReference(b,A.targetId,N)).next(()=>J.forEach(A.Ji,N=>E.persistence.referenceDelegate.removeReference(b,A.targetId,N)))))}catch(b){if(!Io(b))throw b;ue(qg,"Failed to update sequence numbers: "+b)}for(const b of p){const A=b.targetId;if(!b.fromCache){const N=E.Ts.get(A),x=N.snapshotVersion,K=N.withLastLimboFreeSnapshotVersion(x);E.Ts=E.Ts.insert(A,K)}}}(s.localStore,u))}async function tx(i,e){const t=Se(i);if(!t.currentUser.isEqual(e)){ue(Xg,"User change. New user:",e.toKey());const s=await fw(t.localStore,e);t.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(g=>{g.reject(new he(ee.CANCELLED,f))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await bu(t,s.Rs)}}function nx(i,e){const t=Se(i),s=t.Ka.get(e);if(s&&s.Ba)return Oe().add(s.key);{let o=Oe();const u=t.qa.get(e);if(!u)return o;for(const f of u){const m=t.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function Dw(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Aw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WN.bind(null,e),e.La.p_=UN.bind(null,e.eventManager),e.La.Ja=jN.bind(null,e.eventManager),e}function ix(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JN.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return rN(this.persistence,new tN,e.initialUser,this.serializer)}Xa(e){return new hw(zg.ri,this.serializer)}Za(e){return new hN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class rx extends kh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ge(this.persistence.referenceDelegate instanceof Lh);const s=this.persistence.referenceDelegate.garbageCollector;return new zD(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new hw(s=>Lh.ri(s,t),this.serializer)}}class tg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>B0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=tx.bind(null,this.syncEngine),await MN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new LN}()}createDatastore(e){const t=rf(e.databaseInfo.databaseId),s=function(u){return new pN(u)}(e.databaseInfo);return function(u,f,m,g){return new EN(u,f,m,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,f,m){return new wN(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,t=>B0(this.syncEngine,t,0),function(){return L0.D()?new L0:new fN}())}createSyncEngine(e,t){return function(o,u,f,m,g,p,E){const b=new FN(o,u,f,m,g,p);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Se(o);ue(ia,"RemoteStore shutting down."),u.W_.add(5),await wu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}tg.provider={build:()=>new tg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="FirestoreClient";class ax{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=wT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ue(us,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ue(us,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=$g(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Cm(i,e){i.asyncQueue.verifyOperationInProgress(),ue(us,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await fw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function H0(i,e){i.asyncQueue.verifyOperationInProgress();const t=await ox(i);ue(us,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>k0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>k0(e.remoteStore,o)),i._onlineComponents=e}async function ox(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(us,"Using user provided OfflineComponentProvider");try{await Cm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ho("Error using user provided cache. Falling back to memory cache: "+t),await Cm(i,new kh)}}else ue(us,"Using default OfflineComponentProvider"),await Cm(i,new rx(void 0));return i._offlineComponents}async function Nw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(us,"Using user provided OnlineComponentProvider"),await H0(i,i._uninitializedComponentsProvider._online)):(ue(us,"Using default OnlineComponentProvider"),await H0(i,new tg))),i._onlineComponents}function lx(i){return Nw(i).then(e=>e.syncEngine)}async function ux(i){const e=await Nw(i),t=e.eventManager;return t.onListen=GN.bind(null,e.syncEngine),t.onUnlisten=$N.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=KN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=YN.bind(null,e.syncEngine),t}function cx(i,e,t={}){const s=new ts;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,p){const E=new sx({next:A=>{E.su(),f.enqueueAndForget(()=>kN(u,b)),A.fromCache&&g.source==="server"?p.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),b=new zN(m,E,{includeMetadataChanges:!0,Ta:!0});return PN(u,b)}(await ux(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(i,e,t){if(!t)throw new he(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function hx(i,e,t,s){if(e===!0&&s===!0)throw new he(ee.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function G0(i){if(!ye.isDocumentKey(i))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function K0(i){if(ye.isDocumentKey(i))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function of(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te()}function Uh(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=of(i);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="firestore.googleapis.com",Q0=!0;class $0{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Mw,this.ssl=Q0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Q0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UD)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new g2;switch(s.type){case"firstParty":return new v2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=F0.get(t);s&&(ue("ComponentProvider","Removing Datastore"),F0.delete(t),s.terminate())}(this),Promise.resolve()}}function fx(i,e,t,s={}){var o;const u=(i=Uh(i,lf))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${t}`;u.host!==Mw&&u.host!==m&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Zs(g,f)&&(i._setSettings(g),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=$t.MOCK_USER;else{p=AR(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(b)}i._authCredentials=new p2(new TT(p,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new No(this.firestore,e,this._query)}}class Pn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class ns extends No{constructor(e,t,s){super(e,t,jT(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new ye(e))}withConverter(e){return new ns(this.firestore,e,this._path)}}function lo(i,e,...t){if(i=rn(i),Ow("collection","path",e),i instanceof lf){const s=Ze.fromString(e,...t);return K0(s),new ns(i,null,s)}{if(!(i instanceof Pn||i instanceof ns))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ze.fromString(e,...t));return K0(s),new ns(i.firestore,null,s)}}function dx(i,e,...t){if(i=rn(i),arguments.length===1&&(e=wT.newId()),Ow("doc","path",e),i instanceof lf){const s=Ze.fromString(e,...t);return G0(s),new Pn(i,null,new ye(s))}{if(!(i instanceof Pn||i instanceof ns))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ze.fromString(e,...t));return G0(s),new Pn(i.firestore,i instanceof ns?i.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="AsyncQueue";class X0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new mw(this,"async_queue_retry"),this.bu=()=>{const s=Rm();s&&ue(Y0,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const t=Rm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Rm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ts;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Io(e))throw e;ue(Y0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw rr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Qg.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Zg extends lf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new X0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new X0(e),this._firestoreClient=void 0,await e}}}function mx(i,e){const t=typeof i=="object"?i:DE(),s=typeof i=="string"?i:Ih,o=yg(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=bR("firestore");u&&fx(o,...u)}return o}function Vw(i){if(i._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||gx(i),i._firestoreClient}function gx(i){var e,t,s;const o=i._freezeSettings(),u=function(m,g,p,E){return new M2(m,g,p,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,xw(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new ax(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _o(Ht.fromBase64String(e))}catch(t){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _o(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=/^__.*__$/;class yx{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new aa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Eu(e,this.data,t,this.fieldTransforms)}}function Pw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class tp{constructor(e,t,s,o,u,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new tp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return jh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Pw(this.Lu)&&px.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class _x{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||rf(e)}ju(e,t,s,o=!1){return new tp({Lu:e,methodName:t,zu:s,path:qt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kw(i){const e=i._freezeSettings(),t=rf(i._databaseId);return new _x(i._databaseId,!!e.ignoreUndefinedProperties,t)}function vx(i,e,t,s,o,u={}){const f=i.ju(u.merge||u.mergeFields?2:0,e,t,o);zw("Data must be an object, but it was:",f,s);const m=Uw(s,f);let g,p;if(u.merge)g=new Fn(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const A=Tx(e,b,t);if(!f.contains(A))throw new he(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);bx(E,A)||E.push(A)}g=new Fn(E),p=f.fieldTransforms.filter(b=>g.covers(b.field))}else g=null,p=f.fieldTransforms;return new yx(new Ln(m),g,p)}function Ex(i,e,t,s=!1){return np(t,i.ju(s?4:3,e))}function np(i,e){if(jw(i=rn(i)))return zw("Unsupported field value:",e,i),Uw(i,e);if(i instanceof Lw)return function(s,o){if(!Pw(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let g=np(m,o.Uu(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=rn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return nD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ct.fromDate(s);return{timestampValue:Vh(o.serializer,u)}}if(s instanceof Ct){const u=new Ct(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Vh(o.serializer,u)}}if(s instanceof Yr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof _o)return{bytesValue:iw(o.serializer,s._byteString)};if(s instanceof Pn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ug(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ep)return function(f,m){return{mapValue:{fields:{[NT]:{stringValue:xT},[Dh]:{arrayValue:{values:f.toArray().map(p=>{if(typeof p!="number")throw m.Wu("VectorValues must only contain numeric values.");return Lg(m.serializer,p)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${of(s)}`)}(i,e)}function Uw(i,e){const t={};return ST(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(i,(s,o)=>{const u=np(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function jw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ct||i instanceof Yr||i instanceof _o||i instanceof Pn||i instanceof Lw||i instanceof ep)}function zw(i,e,t){if(!jw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=of(t);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function Tx(i,e,t){if((e=rn(e))instanceof Jg)return e._internalPath;if(typeof e=="string")return Bw(i,e);throw jh("Field path arguments must be of type string or ",i,!1,void 0,t)}const wx=new RegExp("[~\\*/\\[\\]]");function Bw(i,e,t){if(e.search(wx)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Jg(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function jh(i,e,t,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new he(ee.INVALID_ARGUMENT,m+i+g)}function bx(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Sx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ip("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Sx extends qw{data(){return super.data()}}function ip(i,e){return typeof e=="string"?Bw(i,e):e instanceof Jg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rp{}class Rx extends rp{}function ng(i,e,...t){let s=[];e instanceof rp&&s.push(e),s=s.concat(t),function(u){const f=u.filter(g=>g instanceof Au).length,m=u.filter(g=>g instanceof Su).length;if(f>1||f>0&&m>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Su extends Rx{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Su(e,t,s)}_apply(e){const t=this._parse(e);return Fw(e._query,t),new No(e.firestore,e.converter,Gm(e._query,t))}_parse(e){const t=kw(e.firestore);return function(u,f,m,g,p,E,b){let A;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Z0(b,E);const x=[];for(const K of b)x.push(W0(g,u,K));A={arrayValue:{values:x}}}else A=W0(g,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Z0(b,E),A=Ex(m,f,b,E==="in"||E==="not-in");return _t.create(p,E,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Xs(i,e,t){const s=e,o=ip("where",i);return Su._create(o,s,t)}class Au extends rp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Au(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Yn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)Fw(f,g),f=Gm(f,g)}(e._query,t),new No(e.firestore,e.converter,Gm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Hw(...i){return i.forEach(e=>Cx("or",e)),Au._create("or",i)}function W0(i,e,t){if(typeof(t=rn(t))=="string"){if(t==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zT(e)&&t.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ze.fromString(t));if(!ye.isDocumentKey(s))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return d0(i,new ye(s))}if(t instanceof Pn)return d0(i,t._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${of(t)}.`)}function Z0(i,e){if(!Array.isArray(i)||i.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Fw(i,e){const t=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Cx(i,e){if(!(e instanceof Su||e instanceof Au))throw new he(ee.INVALID_ARGUMENT,`Function ${i}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class Ix{convertValue(e,t="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ra(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Dh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>ht(f.doubleValue));return new ep(u)}convertGeoPoint(e){return new Yr(ht(e.latitude),ht(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Wh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){const t=ss(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ze.fromString(e);Ge(uw(s));const o=new su(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(t)||rr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nx extends qw{constructor(e,t,s,o,u,f){super(e,t,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(ip("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class yh extends Nx{data(e={}){return super.data(e)}}class xx{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new th(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new yh(this._firestore,this._userDataWriter,s.key,s,new th(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const g=new yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new th(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new th(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:Ox(m.type),doc:g,oldIndex:p,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ox(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class Mx extends Ix{constructor(e){super(),this.firestore=e}convertBytes(e){return new _o(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,t)}}function Wl(i){i=Uh(i,No);const e=Uh(i.firestore,Zg),t=Vw(e),s=new Mx(e);return Ax(i._query),cx(t,i._query).then(o=>new xx(e,s,i,o))}function Vx(i,e){const t=Uh(i.firestore,Zg),s=dx(i),o=Dx(i.converter,e);return Lx(t,[vx(kw(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,tr.exists(!1))]).then(()=>s)}function Lx(i,e){return function(s,o){const u=new ts;return s.asyncQueue.enqueueAndForget(async()=>XN(await lx(s),o,u)),u.promise}(Vw(i),e)}(function(e,t=!0){(function(o){Ro=o})(So),co(new Js("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Zg(new y2(s.getProvider("auth-internal")),new E2(f,s.getProvider("app-check-internal")),function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(p.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Jr(n0,i0,e),Jr(n0,i0,"esm2017")})();const Gw="0123456789bcdefghjkmnpqrstuvwxyz";function Px(i){return Gw.charAt(i)}function nh(i){return i*Math.PI/180}function Kw(i,e=!1){let t;if(typeof i!="string")t="geohash must be a string";else if(i.length===0)t="geohash cannot be the empty string";else for(const s of i)Gw.indexOf(s)===-1&&(t="geohash cannot contain '"+s+"'");if(typeof t<"u"&&!e)throw new Error("Invalid geohash '"+i+"': "+t);return!t}function ig(i,e=!1){const t=[];if(!i)t.push("Coordinates must exist.");else if(typeof i.lat>"u")t.push("Latitude must exist on coordinates");else if(typeof i.lng>"u")t.push("Longitude must exist on coordinates");else{const s=i.lat,o=i.lng;typeof s!="number"||isNaN(s)?t.push("Latitude must be a number."):s<-90||s>90?t.push("Latitude must be within the range [-90, 90]."):typeof o!="number"||isNaN(o)?t.push("Longitude must be a number"):(o<-180||o>180)&&t.push("Longitude must be within the range [-180, 180]")}if(t.length>0&&!e)throw new Error("Invalid coordinates: "+t.join(" "));return!t}function kx(i,e,t="km"){ig(i),ig(e);const s=t.toLowerCase()==="miles"?3963:6371,o=nh(e.lat-i.lat),u=nh(e.lng-i.lng),f=nh(i.lat),m=nh(e.lat),g=Math.sin(o/2)*Math.sin(o/2)+Math.sin(u/2)*Math.sin(u/2)*Math.cos(f)*Math.cos(m),p=2*Math.atan2(Math.sqrt(g),Math.sqrt(1-g));return s*p}function Qw(i,e=10){if(ig(i),typeof e=="number"&&!isNaN(e)){if(e<=0)throw new Error("Precision must be greater than 0");if(e>22)throw new Error("Precision cannot be greater than 22");if(Math.round(e)!==e)throw new Error("Precision must be an integer")}else throw new Error("Precision must be a number");const t=[-90,90],s=[-180,180];let o="",u=0,f=0,m=1;for(;o.length<e;){const g=m?i.lng:i.lat,p=m?s:t,E=(p[0]+p[1])/2;g>E?(u=(u<<1)+1,p[0]=E):(u=(u<<1)+0,p[1]=E),m=!m,f<4?f++:(f=0,o+=Px(u),u=0)}return o}function $w(i,e=!1){let t;if(Object.prototype.toString.call(i)!=="[object Object]"?t="no document found":"g"in i?(t=Kw(i.g.geohash,!0)?t:"invalid geohash on object",t=ar(i.g.geopoint,!0)?t:"invalid location on object"):t="no `g` field found in object",typeof t<"u"&&!e)throw new Error("Invalid GeoFirestore object: "+t);return!t}function Yw(i,e=!1){let t;if(typeof i!="number"||isNaN(i)?t="limit must be a number":i<0&&(t="limit must be greater than or equal to 0"),typeof t<"u"&&!e)throw new Error(t);return!t}function ar(i,e=!1){let t;if(!i)t="GeoPoint must exist";else if(typeof i.latitude>"u")t="latitude must exist on GeoPoint";else if(typeof i.longitude>"u")t="longitude must exist on GeoPoint";else{const s=i.latitude,o=i.longitude;typeof s!="number"||isNaN(s)?t="latitude must be a number":s<-90||s>90?t="latitude must be within the range [-90, 90]":typeof o!="number"||isNaN(o)?t="longitude must be a number":(o<-180||o>180)&&(t="longitude must be within the range [-180, 180]")}if(typeof t<"u"&&!e)throw new Error("Invalid location: "+t);return!t}function zh(i,e=!1){if(typeof i!="object")throw new Error("QueryCriteria must be an object");if(typeof i.center>"u"&&typeof i.radius>"u")throw new Error("radius and/or center must be specified");if(e&&(typeof i.center>"u"||typeof i.radius>"u"))throw new Error("QueryCriteria for a new query must contain both a center and a radius");const t=Object.keys(i);for(const s of t)if(!["center","radius","limit"].includes(s))throw new Error("Unexpected attribute '"+s+"' found in query criteria");if(typeof i.center<"u"&&ar(i.center),typeof i.radius<"u"){if(typeof i.radius!="number"||isNaN(i.radius))throw new Error("radius must be a number");if(i.radius<0)throw new Error("radius must be greater than or equal to 0")}typeof i.limit<"u"&&Yw(i.limit)}const ih="0123456789bcdefghjkmnpqrstuvwxyz",Zl=5,Ux="coordinates",jx=.00669447819799,zx=6378137,Bx=40007860,qx=1e-12,Xw=22*Zl,Ww=110574;function Hx(i,e){const t=e/Ww,s=Math.min(90,i.latitude+t),o=Math.max(-90,i.latitude-t),u=Math.floor(Yx(e))*2,f=Math.floor(eE(e,s))*2-1,m=Math.floor(eE(e,o))*2-1;return Math.min(u,f,m,Xw)}function Fx(i,e){const t=e/Ww,s=Math.min(90,i.latitude+t),o=Math.max(-90,i.latitude-t),u=rg(e,s),f=rg(e,o),m=Math.max(u,f);return[Qi(i.latitude,i.longitude),Qi(i.latitude,Za(i.longitude-m)),Qi(i.latitude,Za(i.longitude+m)),Qi(s,i.longitude),Qi(s,Za(i.longitude-m)),Qi(s,Za(i.longitude+m)),Qi(o,i.longitude),Qi(o,Za(i.longitude-m)),Qi(o,Za(i.longitude+m))]}function Bh(i,e){return ar(i),ar(e),kx({lat:i.latitude,lng:i.longitude},{lat:e.latitude,lng:e.longitude})}function Gx(i,e){if($w(i,!0)){const t=e?Bh(i.g.geopoint,e):null;return{data:()=>i,distance:t}}return{data:()=>i,distance:null}}function Kx(i){if(typeof i!="number"||isNaN(i))throw new Error("Error: degrees must be a number");return i*Math.PI/180}function sp(i,e,t=!1){e=e||Ux;let s,o;if(e in i)o=i[e];else{const u=e.split(".");o=i;for(const f of u){if(!(f in o)){o=i.coordinates;break}o=o[f]}}if(o||(s="could not find GeoPoint"),o&&!ar(o,!0)&&(s="invalid GeoPoint"),s&&!t)throw new Error("Invalid GeoFirestore document: "+s);return o}function J0(i,e){const t=Gx(i.data(),e);return Object.assign({exists:i.exists,id:i.id},t)}function Zw(i,e){let t=Qx(e.center,e.radius*1e3).map(Wx);return t=t.filter((s,o)=>t.indexOf(s)===o),t.map(s=>{const o=Xx(s);return i.orderBy("g.geohash").startAt(o[0]).endAt(o[1])})}function Qx(i,e){ar(i);const t=Math.max(1,Hx(i,e)),s=Math.ceil(t/Zl),u=Fx(i,e).map(f=>$x(Qw({lat:f.latitude,lng:f.longitude},s),t));return u.filter((f,m)=>!u.some((g,p)=>m>p&&f[0]===g[0]&&f[1]===g[1]))}function $x(i,e){Kw(i);const t=Math.ceil(e/Zl);if(i.length<t)return[i,i+"~"];const s=i.substring(0,t),o=s.substring(0,s.length-1),u=ih.indexOf(s.charAt(s.length-1)),f=e-o.length*Zl,m=Zl-f,g=u>>m<<m,p=g+(1<<m);return p>31?[o+ih[g],o+"~"]:[o+ih[g],o+ih[p]]}function Yx(i){return Math.min(Jw(Bx/2/i),Xw)}function Jw(i){return Math.log(i)/Math.log(2)}function eE(i,e){const t=rg(i,e);return Math.abs(t)>1e-6?Math.max(1,Jw(360/t)):1}function rg(i,e){const t=Kx(e),s=Math.cos(t)*zx*Math.PI/180,o=1/Math.sqrt(1-jx*Math.sin(t)*Math.sin(t)),u=s*o;return u<qx?i>0?360:0:Math.min(360,i/u)}function Xx(i){const e=i.split(":");if(e.length!==2)throw new Error("Invalid internal state! Not a valid geohash query: "+i);return e}function Wx(i){if(i.length!==2)throw new Error("Not a valid geohash query: "+i);return i[0]+":"+i[1]}function Qi(i,e){const t={latitude:i,longitude:e};return ar(t),t}function Za(i){if(i<=180&&i>=-180)return i;const e=i+180;return e>0?e%360-180:180- -e%360}function Zx(i,e){if(Object.prototype.toString.call(i)!=="[object Object]")throw new Error("document must be an object");const t=sp(i,e);return ap(t,i)}function eb(i,e){if(Object.prototype.toString.call(i)!=="[object Object]")throw new Error("document must be an object");const t=e&&e.customKey,s=sp(i,t,e&&(e.merge||!!e.mergeFields));return s?ap(s,i):i}function tb(i,e){if(Object.prototype.toString.call(i)!=="[object Object]")throw new Error("document must be an object");const t=sp(i,e,!0);return t?ap(t,i):i}function ap(i,e){ar(i);const t=Qw({lat:i.latitude,lng:i.longitude});return Object.assign(Object.assign({},e),{g:{geopoint:i,geohash:t}})}class uf{constructor(e,t){this._querySnapshot=e,this._center=t,t&&ar(t),this._docs=e.docs.map(s=>J0(s,t))}get native(){return this._querySnapshot}get docs(){return this._docs}get size(){return this._docs.length}get empty(){return!this._docs.length}docChanges(){return(Array.isArray(this._querySnapshot.docChanges)?this._querySnapshot.docChanges:this._querySnapshot.docChanges()).map(t=>({doc:J0(t.doc,this._center),newIndex:t.newIndex,oldIndex:t.oldIndex,type:t.type}))}forEach(e,t){this.docs.forEach(e,t)}}function Jx(i,e,t={source:"default"}){const s=Object.prototype.toString.call(i.firestore.enablePersistence)==="[object Function]";if(e.center&&typeof e.radius=="number"){const o=Zw(i,e).map(u=>s?u.get(t):u.get());return Promise.all(o).then(u=>new eO(u,e).getGeoQuerySnapshot())}else return i=e.limit?i.limit(e.limit):i,(s?i.get(t):i.get()).then(u=>new uf(u))}class eO{constructor(e,t){if(this._queryCriteria=t,this._docs=new Map,zh(t),e.forEach(s=>{s.docs.forEach(o=>{const u=Bh(this._queryCriteria.center,o.data().g.geopoint);this._queryCriteria.radius>=u&&this._docs.set(o.id,o)})}),this._queryCriteria.limit&&this._docs.size>this._queryCriteria.limit){const s=Array.from(this._docs.values()).map(o=>({distance:Bh(this._queryCriteria.center,o.data().g.geopoint),id:o.id})).sort((o,u)=>o.distance-u.distance);for(let o=this._queryCriteria.limit;o<s.length;o++)this._docs.delete(s[o].id)}}getGeoQuerySnapshot(){const e=Array.from(this._docs.values());return new uf({docs:e,docChanges:()=>e.map((t,s)=>({doc:t,newIndex:s,oldIndex:-1,type:"added"}))},this._queryCriteria.center)}}function tO(i,e){return(t,s=()=>{})=>e.center&&typeof e.radius=="number"?new nO(Zw(i,e),e,t,s).unsubscribe():(i=e.limit?i.limit(e.limit):i,i.onSnapshot(o=>t(new uf(o)),s))}class nO{constructor(e,t,s,o=()=>{}){this._queries=e,this._queryCriteria=t,this._onNext=s,this._onError=o,this._docs=new Map,this._firstRoundResolved=!1,this._firstEmitted=!1,this._newValues=!1,this._subscriptions=[],this._queriesResolved=[],zh(t),this._queriesResolved=new Array(e.length).fill(0),e.forEach((u,f)=>{const m=u.onSnapshot(g=>this._processSnapshot(g,f),g=>this._error=g);this._subscriptions.push(m)}),this._interval=setInterval(()=>this._emit(),100)}unsubscribe(){return()=>{clearInterval(this._interval),this._subscriptions.forEach(e=>e())}}_next(){if(this._queryCriteria.limit&&this._docs.size>this._queryCriteria.limit){const o=Array.from(this._docs.values()).sort((u,f)=>u.distance-f.distance);for(let u=this._queryCriteria.limit;u<o.length;u++)if(o[u].emitted){const f={change:Object.assign({},o[u].change),distance:o[u].distance,emitted:o[u].emitted};f.change.type="removed",this._docs.set(f.change.doc.id,f)}else this._docs.delete(o[u].change.doc.id)}let e=0;const t=Array.from(this._docs.values()).map((o,u)=>{const f={type:o.change.type,doc:o.change.doc,oldIndex:o.emitted?o.change.newIndex:-1,newIndex:o.change.type!=="removed"?u-e:-1};return f.type==="removed"?(e--,this._docs.delete(f.doc.id)):this._docs.set(f.doc.id,{change:f,distance:o.distance,emitted:!0}),f}),s=t.reduce((o,u)=>(u.newIndex>=0?o.push(u.doc):this._docs.delete(u.doc.id),o),[]);this._firstEmitted=!0,this._onNext(new uf({docs:s,docChanges:()=>t.reduce((o,u)=>((u.oldIndex===-1||u.type!=="added")&&o.push(u),o),[])},this._queryCriteria.center))}_emit(){this._error?(this._onError(this._error),this.unsubscribe()()):this._newValues&&this._firstRoundResolved?(this._newValues=!1,this._next()):this._firstRoundResolved||(this._firstRoundResolved=this._queriesResolved.reduce((e,t)=>e+t,0)===this._queries.length)}_processSnapshot(e,t){const s=Array.isArray(e.docChanges)?e.docChanges:e.docChanges();this._firstRoundResolved||(this._queriesResolved[t]=1),s.length?s.forEach(o=>{const u=o.doc.data(),f=$w(u,!0)?u.g.geopoint:null,m=f?Bh(this._queryCriteria.center,f):null,g=o.doc.id,p=this._docs.get(g),E={change:{doc:o.doc,oldIndex:p&&this._firstEmitted?p.change.oldIndex:-1,newIndex:p&&this._firstEmitted?p.change.newIndex:-1,type:p&&this._firstEmitted?o.type:"added"},distance:m,emitted:this._firstEmitted?!!p:!1};if(this._queryCriteria.radius>=m){if(!p&&E.change.type==="removed")return;!p&&E.change.type==="modified"&&(E.change.type="added"),this._newValues=!0,this._docs.set(g,E)}else p?(E.change.type="removed",this._newValues=!0,this._docs.set(g,E)):!p&&!this._firstRoundResolved&&(this._newValues=!0)}):this._firstRoundResolved||(this._newValues=!0)}}class uo{constructor(e,t){if(this._query=e,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("Query must be an instance of a Firestore Query");this._isWeb=Object.prototype.toString.call(e.firestore.enablePersistence)==="[object Function]",t&&(typeof t.limit=="number"&&(this._limit=t.limit),t.center&&typeof t.radius=="number"&&(zh(t),this._center=t.center,this._radius=t.radius))}get native(){return this._query}get firestore(){return new op(this._query.firestore)}get onSnapshot(){return tO(this._query,this._queryCriteria)}get(e={source:"default"}){return Jx(this._query,this._queryCriteria,e)}limit(e){return Yw(e),this._limit=e,new uo(this._query,this._queryCriteria)}near(e){return zh(e,!0),this._center=e.center,this._radius=e.radius,new uo(this._query,this._queryCriteria)}where(e,t,s){return new uo(this._query.where(e,t,s),this._queryCriteria)}get _queryCriteria(){return{center:this._center,limit:this._limit,radius:this._radius}}}class iO{constructor(e,t){if(this._writeBatch=e,this._customKey=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("WriteBatch must be an instance of a Firestore WriteBatch")}get native(){return this._writeBatch}set(e,t,s={}){const o=e instanceof Gn?e._document:e;return s.customKey=s.customKey||this._customKey,this._writeBatch.set(o,eb(t,s),nb(s)),this}update(e,t,s=this._customKey){const o=e instanceof Gn?e._document:e;return this._writeBatch.update(o,tb(t,s)),this}delete(e){const t=e instanceof Gn?e._document:e;return this._writeBatch.delete(t),this}commit(){return this._writeBatch.commit()}}class op{constructor(e){if(this._firestore=e,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("Firestore must be an instance of Firestore")}get native(){return this._firestore}batch(e){return new iO(this._firestore.batch(),e)}collection(e,t){return new sg(this._firestore.collection(e),t)}collectionGroup(e){return new uo(this._firestore.collectionGroup(e))}doc(e){return new Gn(this._firestore.doc(e))}runTransaction(e){return this._firestore.runTransaction(e)}}function nb(i){const e=Object.assign({},i);return delete e.customKey,e}class qh{constructor(e){if(this._snapshot=e,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("DocumentSnapshot must be an instance of a Firestore DocumentSnapshot");this._isWeb=Object.prototype.toString.call(e.ref.firestore.enablePersistence)==="[object Function]"}get native(){return this._snapshot}get exists(){return this._snapshot.exists}get id(){return this._snapshot.id}get ref(){return new Gn(this._snapshot.ref)}data(e){return this._isWeb&&e?this._snapshot.data(e):this._snapshot.data()}get(e,t){return this._isWeb&&t?this._snapshot.get(e,t):this._snapshot.get(e)}isEqual(e){const t=e instanceof qh?e._snapshot:e;return this._snapshot.isEqual(t)}}class Gn{constructor(e){if(this._document=e,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("DocumentReference must be an instance of a Firestore DocumentReference");this._isWeb=Object.prototype.toString.call(e.firestore.enablePersistence)==="[object Function]"}get native(){return this._document}get id(){return this._document.id}get firestore(){return new op(this._document.firestore)}get onSnapshot(){return(e,t=()=>{})=>this._document.onSnapshot(o=>e(new qh(o)),o=>t(o))}get parent(){return new sg(this._document.parent)}get path(){return this._document.path}collection(e){return new sg(this._document.collection(e))}delete(){return this._document.delete().then(()=>null)}get(e={source:"default"}){return(this._isWeb?this._document.get(e):this._document.get()).then(s=>new qh(s))}isEqual(e){const t=e instanceof Gn?e._document:e;return this._document.isEqual(t)}set(e,t){return this._document.set(eb(e,t),nb(t)).then(()=>null)}update(e,t){return this._document.update(tb(e,t)).then(()=>null)}}class sg extends uo{constructor(e,t){super(e),this._collection=e,this._customKey=t}get native(){return this._collection}get id(){return this._collection.id}get parent(){return this._collection.parent?new Gn(this._collection.parent):null}get path(){return this._collection.path}add(e,t=this._customKey){return this._collection.add(Zx(e,t)).then(s=>new Gn(s))}doc(e){return e?new Gn(this._collection.doc(e)):new Gn(this._collection.doc())}}const rO={apiKey:"",authDomain:"",databaseURL:void 0,projectId:"",storageBucket:"",messagingSenderId:"",appId:""};let lp;try{lp=IE(rO)}catch(i){/already exists/.test(i.message)||console.error("Firebase initialization error",i.stack)}const Qn=o2(lp),Ws=mx(lp);new op(Ws);const cf=new $i;cf.addScope("https://www.googleapis.com/auth/contacts.readonly");cf.setCustomParameters({prompt:"select_account"});Qn.setPersistence(iT).catch(i=>{console.error("Error setting persistence:",i)});const tE=({children:i})=>{const[e,t]=_u(Qn);return t?P.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[P.jsx("div",{className:"w-12 h-12 border-4 border-t-transparent border-emerald-400 rounded-full animate-spin"}),";"]}):e?i:P.jsx(OA,{to:"/login"})},xo=()=>{const[i,e]=k.useState(!1),[t]=_u(Qn),s=bo(),o=()=>t?t.displayName?t.displayName:t.email.split("@")[0]:"",u=async()=>{try{await ZC(Qn),s("/login")}catch(f){console.error("Error signing out:",f)}console.log(t)};return P.jsxs("header",{className:"flex justify-between items-center text-black py-3 px-8 md:px-32 bg-white drop-shadow-md",children:[P.jsx("div",{className:"flex items-center gap-4",children:P.jsxs("a",{href:"/",className:"flex items-center hover:scale-105 transition-all",children:[P.jsx("img",{src:"./logo.svg",className:"w-12 ",alt:"logo"}),P.jsx("span",{className:"ml-3 text-2xl font-semibold text-black ",children:"Geonotes"})]})}),P.jsxs("nav",{className:"hidden lg:flex items-center gap-12 font-semibold text-base",children:[P.jsx(Vn,{to:"/notes",className:"p-3 hover:bg-[#00ffb4] hover:text-white rounded-md transition-all",children:"Notes"}),P.jsx(Vn,{to:"/webmap",className:"p-3 hover:bg-[#00ffb4] hover:text-white rounded-md transition-all",children:"Web Client"}),P.jsx("div",{className:"flex items-center space-x-4",children:t?P.jsxs(P.Fragment,{children:[P.jsx("span",{className:"text-gray-700",children:o()}),P.jsx("button",{onClick:u,className:"bg-emerald-400 text-white px-4 py-2 rounded-lg hover:bg-[#00ffb4] transition-colors",children:"Sign Out"})]}):P.jsx(Vn,{to:"/login",className:"bg-emerald-400 text-white px-4 py-2 rounded-lg hover:bg-[#00ffb4] transition-colors",children:"Login"})})]}),P.jsx("button",{className:"lg:hidden",onClick:()=>e(!i),children:P.jsx("i",{className:"bx bx-menu text-4xl cursor-pointer"})}),i&&P.jsx("div",{className:"lg:hidden absolute top-full left-0 w-full bg-white shadow-lg",children:P.jsxs("nav",{className:"flex flex-col",children:[P.jsx(Vn,{to:"/",className:"text-center p-4 border-b hover:bg-[#00ffb4] hover:text-white transition-all",onClick:()=>e(!1),children:"Home"}),P.jsx(Vn,{to:"/webmap",className:"text-center p-4 border-b hover:bg-[#00ffb4] hover:text-white transition-all",onClick:()=>e(!1),children:"Web Client"}),P.jsx("div",{className:"flex items-center space-x-4",children:t?P.jsxs(P.Fragment,{children:[P.jsx("span",{className:"text-gray-700",children:t.email}),P.jsx("button",{onClick:u,className:"bg-emerald-400 text-white px-4 py-2 rounded-lg hover:bg-[#00ffb4] transition-colors",children:"Sign Out"})]}):P.jsx(Vn,{to:"/login",className:"bg-emerald-400 text-white px-4 py-2 rounded-lg hover:bg-[#00ffb4] transition-colors",children:"Login"})})]})})]})};var Im,nE;function sO(){return nE||(nE=1,Im=function i(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var s,o,u;if(Array.isArray(e)){if(s=e.length,s!=t.length)return!1;for(o=s;o--!==0;)if(!i(e[o],t[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(u=Object.keys(e),s=u.length,s!==Object.keys(t).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,u[o]))return!1;for(o=s;o--!==0;){var f=u[o];if(!i(e[f],t[f]))return!1}return!0}return e!==e&&t!==t}),Im}var aO=sO();const oO=ag(aO);function yi(){return yi=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)({}).hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},yi.apply(null,arguments)}function vo(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.includes(s))continue;t[s]=i[s]}return t}function lO(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function uO(i){var e=lO(i,"string");return typeof e=="symbol"?e:e+""}const Yi={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"},cO="https://maps.googleapis.com/maps/api/js";class uu{static async load(e,t){var s;const o=e.libraries?e.libraries.split(","):[],u=this.serializeParams(e);this.listeners.push(t),(s=window.google)!=null&&(s=s.maps)!=null&&s.importLibrary?(this.serializedApiParams||(this.loadingStatus=Yi.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=u,this.initImportLibrary(e)),this.serializedApiParams&&this.serializedApiParams!==u&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");const f=["maps",...o];await Promise.all(f.map(m=>google.maps.importLibrary(m)))}static serializeParams(e){return[e.v,e.key,e.language,e.region,e.authReferrerPolicy,e.solutionChannel].join("/")}static initImportLibrary(e){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary){console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");return}let t=null;const s=()=>t||(t=new Promise((o,u)=>{var f;const m=document.createElement("script"),g=new URLSearchParams;for(const[p,E]of Object.entries(e)){const b=p.replace(/[A-Z]/g,A=>"_"+A[0].toLowerCase());g.set(b,String(E))}g.set("loading","async"),g.set("callback","__googleMapsCallback__"),m.async=!0,m.src=cO+"?"+g.toString(),m.nonce=((f=document.querySelector("script[nonce]"))==null?void 0:f.nonce)||"",m.onerror=()=>{this.loadingStatus=Yi.FAILED,this.notifyLoadingStatusListeners(),u(new Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=Yi.LOADED,this.notifyLoadingStatusListeners(),o()},window.gm_authFailure=()=>{this.loadingStatus=Yi.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=Yi.LOADING,this.notifyLoadingStatusListeners(),document.head.append(m)}),t);google.maps.importLibrary=o=>s().then(()=>google.maps.importLibrary(o))}static notifyLoadingStatusListeners(){for(const e of this.listeners)e(this.loadingStatus)}}uu.loadingStatus=Yi.NOT_LOADED;uu.serializedApiParams=void 0;uu.listeners=[];const hO=["onLoad","onError","apiKey","version","libraries"],fO=["children"],dO="GMP_visgl_rgmlibrary_v1_default",Ru=Rt.createContext(null);function mO(){const[i,e]=k.useState({});return{mapInstances:i,addMapInstance:(u,f="default")=>{e(m=>yi({},m,{[f]:u}))},removeMapInstance:(u="default")=>{e(f=>vo(f,[u].map(uO)))},clearMapInstances:()=>{e({})}}}function gO(i){const{onLoad:e,onError:t,apiKey:s,version:o,libraries:u=[]}=i,f=vo(i,hO),[m,g]=k.useState(uu.loadingStatus),[p,E]=k.useReducer((x,K)=>x[K.name]?x:yi({},x,{[K.name]:K.value}),{}),b=k.useMemo(()=>u==null?void 0:u.join(","),[u]),A=k.useMemo(()=>JSON.stringify(yi({apiKey:s,version:o},f)),[s,o,f]),N=k.useCallback(async x=>{var K;if(p[x])return p[x];if(!((K=google)!=null&&(K=K.maps)!=null&&K.importLibrary))throw new Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");const q=await window.google.maps.importLibrary(x);return E({name:x,value:q}),q},[p]);return k.useEffect(()=>{(async()=>{try{const x=yi({key:s},f);o&&(x.v=o),(b==null?void 0:b.length)>0&&(x.libraries=b),(x.channel===void 0||x.channel<0||x.channel>999)&&delete x.channel,x.solutionChannel===void 0?x.solutionChannel=dO:x.solutionChannel===""&&delete x.solutionChannel,await uu.load(x,K=>g(K));for(const K of["core","maps",...u])await N(K);e&&e()}catch(x){t?t(x):console.error("<ApiProvider> failed to load the Google Maps JavaScript API",x)}})()},[s,b,A]),{status:m,loadedLibraries:p,importLibrary:N}}const pO=i=>{const{children:e}=i,t=vo(i,fO),{mapInstances:s,addMapInstance:o,removeMapInstance:u,clearMapInstances:f}=mO(),{status:m,loadedLibraries:g,importLibrary:p}=gO(t),E=k.useMemo(()=>({mapInstances:s,addMapInstance:o,removeMapInstance:u,clearMapInstances:f,status:m,loadedLibraries:g,importLibrary:p}),[s,o,u,f,m,g,p]);return Rt.createElement(Ru.Provider,{value:E},e)};function yO(i,e){for(const t of TO){const s=e[t],o=ib[t];k.useEffect(()=>{if(!i||!s)return;const u=google.maps.event.addListener(i,o,f=>{s(_O(o,i,f))});return()=>u.remove()},[i,o,s])}}function _O(i,e,t){const s={type:i,map:e,detail:{},stoppable:!1,stop:()=>{}};if(vO.includes(i)){const u=s,f=e.getCenter(),m=e.getZoom(),g=e.getHeading()||0,p=e.getTilt()||0,E=e.getBounds();return(!f||!E||!Number.isFinite(m))&&console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),u.detail={center:(f==null?void 0:f.toJSON())||{lat:0,lng:0},zoom:m||0,heading:g,tilt:p,bounds:(E==null?void 0:E.toJSON())||{north:90,east:180,south:-90,west:-180}},u}else if(EO.includes(i)){var o;if(!t)throw new Error("[createEvent] mouse events must provide a srcEvent");const u=s;return u.domEvent=t.domEvent,u.stoppable=!0,u.stop=()=>t.stop(),u.detail={latLng:((o=t.latLng)==null?void 0:o.toJSON())||null,placeId:t.placeId},u}return s}const ib={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},vO=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],EO=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],TO=Object.keys(ib);function wO(i,e){const t=k.useRef(void 0);(!t.current||!oO(e,t.current))&&(t.current=e),k.useEffect(i,t.current)}const bO=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","headingInteractionEnabled","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","tiltInteractionEnabled","zoomControl","zoomControlOptions"]);function SO(i,e){const t={},s=Object.keys(e);for(const o of s)bO.has(o)&&(t[o]=e[o]);wO(()=>{i&&i.setOptions(t)},[t])}function rb(){var i;return((i=k.useContext(Ru))==null?void 0:i.status)||Yi.NOT_LOADED}function AO(i,e){const{viewport:t,viewState:s}=e,o=!!t;return k.useLayoutEffect(()=>{if(!i||!s)return;const{latitude:u,longitude:f,bearing:m,pitch:g,zoom:p}=s;i.moveCamera({center:{lat:u,lng:f},heading:m,tilt:g,zoom:p+1})},[i,s]),o}function RO(i){return!i||typeof i!="object"||!("lat"in i&&"lng"in i)?!1:Number.isFinite(i.lat)&&Number.isFinite(i.lng)}function sb(i){return RO(i)?i:i.toJSON()}function CO(i,e,t){const s=t.center?sb(t.center):null;let o=null,u=null;s&&Number.isFinite(s.lat)&&Number.isFinite(s.lng)&&(o=s.lat,u=s.lng);const f=Number.isFinite(t.zoom)?t.zoom:null,m=Number.isFinite(t.heading)?t.heading:null,g=Number.isFinite(t.tilt)?t.tilt:null;k.useLayoutEffect(()=>{if(!i)return;const p={};let E=!1;o!==null&&u!==null&&(e.current.center.lat!==o||e.current.center.lng!==u)&&(p.center={lat:o,lng:u},E=!0),f!==null&&e.current.zoom!==f&&(p.zoom=f,E=!0),m!==null&&e.current.heading!==m&&(p.heading=m,E=!0),g!==null&&e.current.tilt!==g&&(p.tilt=g,E=!0),E&&i.moveCamera(p)})}const IO=()=>{const i={position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"};return Rt.createElement("div",{style:i},Rt.createElement("h2",null,"Error: AuthFailure"),Rt.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",Rt.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."))};function DO(){const[i,e]=k.useState(null),t=k.useCallback(s=>e(s),[e]);return[i,t]}function ab(){return rb()===Yi.LOADED}function NO(){const[,i]=k.useReducer(e=>e+1,0);return i}function xO(i,e){const t=i.getCenter(),s=i.getZoom(),o=i.getHeading()||0,u=i.getTilt()||0,f=i.getBounds();(!t||!f||!Number.isFinite(s))&&console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(e.current,{center:(t==null?void 0:t.toJSON())||{lat:0,lng:0},zoom:s||0,heading:o,tilt:u})}function OO(i){const e=NO(),t=k.useRef({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return k.useEffect(()=>{if(!i)return;const s=google.maps.event.addListener(i,"bounds_changed",()=>{xO(i,t),e()});return()=>s.remove()},[i,e]),t}const MO=["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps","renderingType","colorScheme"],VO=["padding"];class _h{static has(e){return this.entries[e]&&this.entries[e].length>0}static pop(e){return this.entries[e]&&this.entries[e].pop()||null}static push(e,t){this.entries[e]||(this.entries[e]=[]),this.entries[e].push(t)}}_h.entries={};function LO(i,e){const t=ab(),[s,o]=k.useState(null),[u,f]=DO(),m=OO(s),{id:g,defaultBounds:p,defaultCenter:E,defaultZoom:b,defaultHeading:A,defaultTilt:N,reuseMaps:x,renderingType:K,colorScheme:q}=i,F=vo(i,MO),$=i.zoom!==void 0||i.defaultZoom!==void 0,Z=i.center!==void 0||i.defaultCenter!==void 0;!p&&(!$||!Z)&&console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!F.center&&E&&(F.center=E),!F.zoom&&Number.isFinite(b)&&(F.zoom=b),!F.heading&&Number.isFinite(A)&&(F.heading=A),!F.tilt&&Number.isFinite(N)&&(F.tilt=N);for(const re of Object.keys(F))F[re]===void 0&&delete F[re];const ae=k.useRef(void 0);return k.useEffect(()=>{if(!u||!t)return;const{addMapInstance:re,removeMapInstance:fe}=e,{mapId:O}=i,R=`${O||"default"}:${K||"default"}:${q||"LIGHT"}`;let S,I;if(x&&_h.has(R)?(I=_h.pop(R),S=I.getDiv(),u.appendChild(S),I.setOptions(F),setTimeout(()=>I.setCenter(I.getCenter()),0)):(S=document.createElement("div"),S.style.height="100%",u.appendChild(S),I=new google.maps.Map(S,yi({},F,K?{renderingType:K}:{},q?{colorScheme:q}:{}))),o(I),re(I,g),p){const{padding:M}=p,z=vo(p,VO);I.fitBounds(z,M)}else(!$||!Z)&&I.fitBounds({east:180,west:-180,south:-90,north:90});if(ae.current){const{mapId:M,cameraState:z}=ae.current;M!==O&&I.setOptions(z)}return()=>{ae.current={mapId:O,cameraState:m.current},S.remove(),x?_h.push(R,I):google.maps.event.clearInstanceListeners(I),o(null),fe(g)}},[u,t,g,i.mapId,i.renderingType,i.colorScheme]),[s,f,m]}const ob=Rt.createContext(null),lb=i=>{const{children:e,id:t,className:s,style:o}=i,u=k.useContext(Ru),f=rb();if(!u)throw new Error("<Map> can only be used inside an <ApiProvider> component.");const[m,g,p]=LO(i,u);CO(m,p,i),yO(m,i),SO(m,i);const E=AO(m,i),b=!!i.controlled;k.useEffect(()=>{if(m)return E&&m.setOptions({disableDefaultUI:!0}),(E||b)&&m.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{m.setOptions({gestureHandling:i.gestureHandling,keyboardShortcuts:i.keyboardShortcuts})}},[m,E,b,i.gestureHandling,i.keyboardShortcuts]);const A=i.center?sb(i.center):null;let N=null,x=null;A&&Number.isFinite(A.lat)&&Number.isFinite(A.lng)&&(N=A.lat,x=A.lng);const K=k.useMemo(()=>{var $,Z,ae,re,fe;return{center:{lat:($=N)!=null?$:0,lng:(Z=x)!=null?Z:0},zoom:(ae=i.zoom)!=null?ae:0,heading:(re=i.heading)!=null?re:0,tilt:(fe=i.tilt)!=null?fe:0}},[N,x,i.zoom,i.heading,i.tilt]);k.useLayoutEffect(()=>{if(!m||!b)return;m.moveCamera(K);const $=m.addListener("bounds_changed",()=>{m.moveCamera(K)});return()=>$.remove()},[m,b,K]);const q=k.useMemo(()=>yi({width:"100%",height:"100%",position:"relative",zIndex:E?-1:0},o),[o,E]),F=k.useMemo(()=>({map:m}),[m]);return f===Yi.AUTH_FAILURE?Rt.createElement("div",{style:yi({position:"relative"},s?{}:q),className:s},Rt.createElement(IO,null)):Rt.createElement("div",yi({ref:g,"data-testid":"map",style:s?void 0:q,className:s},t?{id:t}:{}),m?Rt.createElement(ob.Provider,{value:F},e):null)};lb.deckGLViewProps=!0;const iE=new Set;function PO(...i){const e=JSON.stringify(i);iE.has(e)||(iE.add(e),console.error(...i))}const ub=(i=null)=>{const e=k.useContext(Ru),{map:t}=k.useContext(ob)||{};if(e===null)return PO("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:s}=e;return i!==null?s[i]||null:t||s.default||null};function kO(i){const e=ab(),t=k.useContext(Ru);return k.useEffect(()=>{!e||!t||t.importLibrary(i)},[e,t,i]),(t==null?void 0:t.loadedLibraries[i])||null}function rh(i,e,t){k.useEffect(()=>{if(!i||!e||!t)return;const s=google.maps.event.addListener(i,e,t);return()=>s.remove()},[i,e,t])}function sh(i,e,t){k.useEffect(()=>{i&&(i[e]=t)},[i,e,t])}function rE(i,e,t){k.useEffect(()=>{if(!(!i||!e||!t))return i.addEventListener(e,t),()=>i.removeEventListener(e,t)},[i,e,t])}function UO(i){return i.nodeType===Node.ELEMENT_NODE}const jO=Rt.createContext(null),zO={BOTTOM:["50%","100%"]},BO=({children:i,styles:e,className:t,anchorPoint:s})=>{const[o,u]=s??zO.BOTTOM,f=`translate(50%, 100%) translate(-${o}, -${u})`;return Rt.createElement("div",{style:{transform:f}},Rt.createElement("div",{className:t,style:e},i))};function qO(i){const[e,t]=k.useState(null),[s,o]=k.useState(null),u=ub(),f=kO("marker"),{children:m,onClick:g,className:p,onMouseEnter:E,onMouseLeave:b,onDrag:A,onDragStart:N,onDragEnd:x,collisionBehavior:K,clickable:q,draggable:F,position:$,title:Z,zIndex:ae}=i,re=k.Children.count(m);return k.useEffect(()=>{if(!u||!f)return;const fe=new f.AdvancedMarkerElement;fe.map=u,t(fe);let O=null;return re>0&&(O=document.createElement("div"),O.isCustomMarker=!0,fe.content=O,o(O)),()=>{var R;fe.map=null,(R=O)==null||R.remove(),t(null),o(null)}},[u,f,re]),k.useEffect(()=>{!e||!e.content||re>0||(e.content.className=p||"")},[e,p,re]),sh(e,"position",$),sh(e,"title",Z??""),sh(e,"zIndex",ae),sh(e,"collisionBehavior",K),k.useEffect(()=>{e&&(F!==void 0?e.gmpDraggable=F:A||N||x?e.gmpDraggable=!0:e.gmpDraggable=!1)},[e,F,A,x,N]),k.useEffect(()=>{if(!e)return;const fe=q!==void 0||!!g||!!E||!!b;e.gmpClickable=fe,fe&&e!=null&&e.content&&UO(e.content)&&(e.content.style.pointerEvents="none",e.content.firstElementChild&&(e.content.firstElementChild.style.pointerEvents="all"))},[e,q,g,E,b]),rh(e,"click",g),rh(e,"drag",A),rh(e,"dragstart",N),rh(e,"dragend",x),rE(e==null?void 0:e.element,"mouseenter",E),rE(e==null?void 0:e.element,"mouseleave",b),[e,s]}const sE=k.forwardRef((i,e)=>{const{children:t,style:s,className:o,anchorPoint:u}=i,[f,m]=qO(i),g=k.useMemo(()=>f?{marker:f}:null,[f]);return k.useImperativeHandle(e,()=>f,[f]),m?Rt.createElement(jO.Provider,{value:g},mR.createPortal(Rt.createElement(BO,{anchorPoint:u,styles:s,className:o},t),m)):null}),HO=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"];function FO(i){const[e,t]=k.useState(null),s=ub(),{onClick:o,onDrag:u,onDragStart:f,onDragEnd:m,onMouseOver:g,onMouseOut:p}=i,E=vo(i,HO),{position:b,draggable:A}=E;return k.useEffect(()=>{if(!s){s===void 0&&console.error("<Marker> has to be inside a Map component.");return}const N=new google.maps.Marker(E);return N.setMap(s),t(N),()=>{N.setMap(null),t(null)}},[s]),k.useEffect(()=>{if(!e)return;const N=e,x=google.maps.event;return o&&x.addListener(N,"click",o),u&&x.addListener(N,"drag",u),f&&x.addListener(N,"dragstart",f),m&&x.addListener(N,"dragend",m),g&&x.addListener(N,"mouseover",g),p&&x.addListener(N,"mouseout",p),e.setDraggable(!!A),()=>{x.clearInstanceListeners(N)}},[e,A,o,u,f,m,g,p]),k.useEffect(()=>{e&&E&&e.setOptions(E)},[e,E]),k.useEffect(()=>{A||!b||!e||e.setPosition(b)},[A,b,e]),e}k.forwardRef((i,e)=>{const t=FO(i);return k.useImperativeHandle(e,()=>t,[t]),Rt.createElement(Rt.Fragment,null)});const GO=({noteLocation:i})=>{const[e]=_u(Qn),[t,s]=k.useState([]),[o,u]=k.useState(null),[f,m]=k.useState(null),[g,p]=k.useState(!1),[E,b]=k.useState(""),[A,N]=k.useState(""),x=()=>{const $=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEEAD","#D4A5A5","#9B5DE5","#F15BB5"];return $[Math.floor(Math.random()*$.length)]};k.useEffect(()=>{(async()=>{var Z,ae;if(e)try{const fe=(Z=(await Wl(lo(Ws,"users"))).docs.find(M=>M.id===e.uid))==null?void 0:Z.data(),O=((ae=fe==null?void 0:fe.friends)==null?void 0:ae.map(M=>M.uid))||[],R=ng(lo(Ws,"test-notes"),Hw(Xs("visibility","==","public"),Xs("uid","==",e.uid),...O.map(M=>Xs("uid","==",M)))),I=(await Wl(R)).docs.map(M=>({id:M.id,...M.data(),color:x()}));s(I)}catch(re){console.error("Error fetching notes:",re)}})()},[e]);const K=$=>{const Z=$.detail.latLng.lat,ae=$.detail.latLng.lng;m({lat:Z,lng:ae}),p(!0)},q=async()=>{if(!(!E.trim()||!A.trim()||!f))try{const $={title:E,text:A,location:new Yr(f.lat,f.lng),timestamp:new Date,uid:e.uid,visibility:"public"},ae={id:(await Vx(lo(Ws,"test-notes"),$)).id,...$,color:x()};s(re=>[...re,ae]),p(!1),b(""),N(""),m(null)}catch($){console.error("Error creating note:",$)}},F=i||{lat:28.946209,lng:77.724307};return e?P.jsx("div",{className:"flex flex-col",children:P.jsxs("div",{className:"relative",children:[P.jsxs(pO,{apiKey:"",onLoad:()=>console.log("Maps API has loaded."),children:[P.jsx(xo,{}),P.jsxs(lb,{className:"h-[92vh]",defaultZoom:13,defaultCenter:{lat:F.lat,lng:F.lng},mapId:"bd54733e09ef0083",onClick:K,onCameraChanged:$=>{console.log("Camera changed:",$.detail.center,"Zoom:",$.detail.zoom)},children:[t.map(($,Z)=>{const ae={lat:$.location instanceof Yr?$.location.latitude:$.location._lat,lng:$.location instanceof Yr?$.location.longitude:$.location._long};return P.jsx(sE,{position:ae,onClick:()=>u($),children:P.jsxs("div",{className:"relative w-6 h-6",children:[P.jsx("div",{className:"w-6 h-6 rounded-full shadow-lg cursor-pointer border-2 border-white",style:{backgroundColor:$.color}}),P.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 top-full w-0 h-0 border-l-4 border-l-transparent border-r-4 border-r-transparent border-t-8",style:{borderTopColor:$.color}})]})},$.id||Z)}),o&&P.jsx(sE,{position:{lat:o.location instanceof Yr?o.location.latitude:o.location._lat,lng:o.location instanceof Yr?o.location.longitude:o.location._long},children:P.jsxs("div",{className:"absolute bottom-[42px] transform -translate-x-1/2 z-50 bg-white p-2 rounded-lg shadow-lg cursor-pointer min-w-[100px]",onClick:()=>u(null),children:[P.jsx("p",{className:"text-sm font-medium text-gray-800",children:o.title}),P.jsx("p",{className:"text-xs text-gray-600",children:o.text}),P.jsx("div",{className:"absolute left-1/2 bottom-0 transform -translate-x-1/2 translate-y-1/2 rotate-45 w-3 h-3 bg-white border-b border-r border-gray-200"})]})})]})]}),g&&P.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-50",children:P.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[P.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Create New Note"}),P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),P.jsx("input",{type:"text",value:E,onChange:$=>b($.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500",placeholder:"Enter note title"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Text"}),P.jsx("textarea",{value:A,onChange:$=>N($.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500",rows:"3",placeholder:"Enter note text"})]}),P.jsxs("div",{className:"flex justify-end space-x-3",children:[P.jsx("button",{onClick:()=>{p(!1),m(null),b(""),N("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"}),P.jsx("button",{onClick:q,className:"px-4 py-2 text-sm font-medium text-white bg-emerald-500 rounded-md hover:bg-emerald-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Create Note"})]})]})]})})]})}):null},KO=()=>{const[i]=_u(Qn),e=bo(),[t,s]=k.useState(!1),[o,u]=k.useState(""),[f,m]=k.useState(""),[g,p]=k.useState("");if(i)return P.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[P.jsx("h2",{className:"text-2xl font-bold mb-4",children:"You are already signed in"}),P.jsx(Vn,{to:"/",className:"bg-emerald-400 text-white px-4 py-2 rounded-lg hover:bg-[#00ffb4]",children:"Go to Map"})]});const E=async A=>{A.preventDefault();try{await $C(Qn,o,f),e("/webmap")}catch(N){p("Failed to login: "+N.message)}},b=async()=>{try{await fT(Qn,cf),e("/")}catch(A){p("Failed to sign in with Google: "+A.message)}};return P.jsxs("div",{children:[P.jsx(xo,{}),P.jsxs("div",{className:"flex flex-col justify-center h-auto items-center ",children:[P.jsx("img",{className:"w-[90px] sm:w-[110px] md:w-[200px] lg:w-[250px] h-auto mt-6 object-contain",src:"./login.jpg"}),P.jsxs("div",{className:"pt-4",children:[P.jsx("div",{className:"text-center mb-4 font-semibold text-3xl",children:"Login"}),P.jsxs("div",{className:"flex flex-col justify-center items-center",children:[P.jsxs("div",{className:"flex flex-col justify-items-start items-start",children:[P.jsx("div",{className:"",children:"Enter your E-mail"}),P.jsx("input",{className:"mt-2 mb-2 shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:o,onChange:A=>u(A.target.value),id:"email",type:"text",placeholder:"E-mail"}),P.jsxs("div",{className:"flex flex-col justify-items-start items-start w-full",children:[P.jsx("div",{children:"Enter your Password"}),P.jsxs("div",{className:"relative w-full",children:[P.jsx("input",{className:"mt-2 mb-2 shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:f,onChange:A=>m(A.target.value),id:"password",type:t?"text":"password",placeholder:"Password"}),g&&P.jsx("p",{className:"text-red-500 text-sm mt-2",children:g}),P.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>s(!t),children:t?P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})}):P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]})]}),P.jsx("button",{onClick:E,className:"mt-6 p-2 bg-emerald-400 font-semibold hover:bg-[#00ffb4] hover:text-white w-30 rounded-3xl transition-all scale-120",children:"Login"}),P.jsxs("p",{className:"pt-2 mt-4",children:["Don't have an account?"," ",P.jsx(Vn,{className:"hover:bg-[#00ffb4] hover:text-white w-30 rounded-md transition-all font-semibold",to:"/signup",children:"SignUp"})]}),P.jsxs("div",{class:"inline-flex items-center justify-center w-full",children:[P.jsx("hr",{class:"w-64 h-px my-8 bg-gray-200 border-0 dark:bg-gray-700"}),P.jsx("span",{class:"absolute px-3 font-medium text-gray-900 -translate-x-1/2 bg-white left-1/2 dark:text-black",children:"or"})]}),P.jsxs("button",{onClick:b,className:"flex items-center  mt-2 drop-shadow-2xl box-border border-1 p-2 hover:bg-[#00ffb4] hover:text-white w-60 rounded-3xl transition-all scale-100 font-light",children:[P.jsxs("svg",{class:"h-6 w-6 mr-2",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"800px",height:"800px",viewBox:"-0.5 0 48 48",version:"1.1",children:[" ",P.jsx("title",{children:"Google-color"})," ",P.jsx("desc",{children:"Created with Sketch."})," ",P.jsx("defs",{children:" "})," ",P.jsxs("g",{id:"Icons",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd",children:[" ",P.jsxs("g",{id:"Color-",transform:"translate(-401.000000, -860.000000)",children:[" ",P.jsxs("g",{id:"Google",transform:"translate(401.000000, 860.000000)",children:[" ",P.jsx("path",{d:"M9.82727273,24 C9.82727273,22.4757333 10.0804318,21.0144 10.5322727,19.6437333 L2.62345455,13.6042667 C1.08206818,16.7338667 0.213636364,20.2602667 0.213636364,24 C0.213636364,27.7365333 1.081,31.2608 2.62025,34.3882667 L10.5247955,28.3370667 C10.0772273,26.9728 9.82727273,25.5168 9.82727273,24",id:"Fill-1",fill:"#FBBC05",children:" "})," ",P.jsx("path",{d:"M23.7136364,10.1333333 C27.025,10.1333333 30.0159091,11.3066667 32.3659091,13.2266667 L39.2022727,6.4 C35.0363636,2.77333333 29.6954545,0.533333333 23.7136364,0.533333333 C14.4268636,0.533333333 6.44540909,5.84426667 2.62345455,13.6042667 L10.5322727,19.6437333 C12.3545909,14.112 17.5491591,10.1333333 23.7136364,10.1333333",id:"Fill-2",fill:"#EB4335",children:" "})," ",P.jsx("path",{d:"M23.7136364,37.8666667 C17.5491591,37.8666667 12.3545909,33.888 10.5322727,28.3562667 L2.62345455,34.3946667 C6.44540909,42.1557333 14.4268636,47.4666667 23.7136364,47.4666667 C29.4455,47.4666667 34.9177955,45.4314667 39.0249545,41.6181333 L31.5177727,35.8144 C29.3995682,37.1488 26.7323182,37.8666667 23.7136364,37.8666667",id:"Fill-3",fill:"#34A853",children:" "})," ",P.jsx("path",{d:"M46.1454545,24 C46.1454545,22.6133333 45.9318182,21.12 45.6113636,19.7333333 L23.7136364,19.7333333 L23.7136364,28.8 L36.3181818,28.8 C35.6879545,31.8912 33.9724545,34.2677333 31.5177727,35.8144 L39.0249545,41.6181333 C43.3393409,37.6138667 46.1454545,31.6490667 46.1454545,24",id:"Fill-4",fill:"#4285F4",children:" "})," "]})," "]})," "]})," "]}),P.jsx("span",{children:"Continue with Google"})]})]})]})]}),P.jsx("footer",{className:"bg-[#00ffb4] absolute bottom-0 w-full text-center py-4",children:P.jsx("p",{className:"text-gray-800",children:"© 2025 Geonotes. All rights reserved."})})]})},QO=()=>{const i=bo(),[e,t]=k.useState(""),[s,o]=k.useState(""),[u,f]=k.useState(""),[m,g]=k.useState(""),p=async b=>{if(b.preventDefault(),s!==u){g("Passwords do not match");return}try{await QC(Qn,e,s),i("/")}catch(A){g("Failed to create account: "+A.message)}},E=async()=>{try{await fT(Qn,cf),i("/")}catch(b){g("Failed to sign in with Google: "+b.message)}};return P.jsxs("div",{children:[P.jsx(xo,{}),P.jsxs("div",{className:"flex flex-col justify-center h-auto items-center",children:[P.jsx("img",{className:"w-[90px] sm:w-[110px] md:w-[200px] lg:w-[250px] mt-6 h-auto object-contain",src:"./signin.jpg"}),P.jsxs("div",{className:"pt-4",children:[P.jsx("div",{className:"text-center mb-4 font-semibold text-3xl",children:"SignUp"}),P.jsxs("form",{onSubmit:p,className:"flex flex-col justify-items-start items-start",children:[P.jsx("div",{className:"",children:"Enter your E-mail"}),P.jsx("input",{className:"mt-2 mb-2 shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:e,onChange:b=>t(b.target.value),id:"email",type:"email",placeholder:"E-mail",required:!0}),P.jsx("div",{children:"Enter your Password"}),P.jsx("input",{className:"mt-2 mb-2 shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:s,onChange:b=>o(b.target.value),id:"password",type:"password",placeholder:"Password",required:!0}),P.jsx("div",{children:"Confirm your Password"}),P.jsx("input",{className:"mt-2 mb-2 shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:u,onChange:b=>f(b.target.value),id:"cpassword",type:"password",placeholder:"Confirm Password",required:!0}),m&&P.jsx("p",{className:"text-red-500 text-sm mt-2",children:m}),P.jsx("button",{type:"submit",className:"mt-6 p-2 bg-emerald-400 font-semibold hover:bg-[#00ffb4] hover:text-white w-full rounded-3xl transition-all",children:"Sign Up"})]})]}),P.jsxs("p",{className:"mt-4",children:["Already have an account?"," ",P.jsx(Vn,{className:"hover:bg-[#00ffb4] hover:text-white w-30 rounded-md transition-all font-semibold",to:"/login",children:"Login"})]}),P.jsxs("div",{class:"inline-flex items-center justify-center w-full",children:[P.jsx("hr",{class:"w-64 h-px my-8 bg-gray-200 border-0 dark:bg-gray-700"}),P.jsx("span",{class:"absolute px-3 font-medium text-gray-900 -translate-x-1/2 bg-white left-1/2 dark:text-black",children:"or"})]}),P.jsxs("button",{onClick:E,className:"flex items-center w-60 mt-2 drop-shadow-2xl box-border border-1 p-2 hover:bg-[#00ffb4] hover:text-white rounded-3xl transition-all scale-100 font-light",children:[P.jsxs("svg",{class:"h-6 w-6 mr-2",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"800px",height:"800px",viewBox:"-0.5 0 48 48",version:"1.1",children:[" ",P.jsx("title",{children:"Google-color"})," ",P.jsx("desc",{children:"Created with Sketch."})," ",P.jsx("defs",{children:" "})," ",P.jsxs("g",{id:"Icons",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd",children:[" ",P.jsxs("g",{id:"Color-",transform:"translate(-401.000000, -860.000000)",children:[" ",P.jsxs("g",{id:"Google",transform:"translate(401.000000, 860.000000)",children:[" ",P.jsx("path",{d:"M9.82727273,24 C9.82727273,22.4757333 10.0804318,21.0144 10.5322727,19.6437333 L2.62345455,13.6042667 C1.08206818,16.7338667 0.213636364,20.2602667 0.213636364,24 C0.213636364,27.7365333 1.081,31.2608 2.62025,34.3882667 L10.5247955,28.3370667 C10.0772273,26.9728 9.82727273,25.5168 9.82727273,24",id:"Fill-1",fill:"#FBBC05",children:" "})," ",P.jsx("path",{d:"M23.7136364,10.1333333 C27.025,10.1333333 30.0159091,11.3066667 32.3659091,13.2266667 L39.2022727,6.4 C35.0363636,2.77333333 29.6954545,0.533333333 23.7136364,0.533333333 C14.4268636,0.533333333 6.44540909,5.84426667 2.62345455,13.6042667 L10.5322727,19.6437333 C12.3545909,14.112 17.5491591,10.1333333 23.7136364,10.1333333",id:"Fill-2",fill:"#EB4335",children:" "})," ",P.jsx("path",{d:"M23.7136364,37.8666667 C17.5491591,37.8666667 12.3545909,33.888 10.5322727,28.3562667 L2.62345455,34.3946667 C6.44540909,42.1557333 14.4268636,47.4666667 23.7136364,47.4666667 C29.4455,47.4666667 34.9177955,45.4314667 39.0249545,41.6181333 L31.5177727,35.8144 C29.3995682,37.1488 26.7323182,37.8666667 23.7136364,37.8666667",id:"Fill-3",fill:"#34A853",children:" "})," ",P.jsx("path",{d:"M46.1454545,24 C46.1454545,22.6133333 45.9318182,21.12 45.6113636,19.7333333 L23.7136364,19.7333333 L23.7136364,28.8 L36.3181818,28.8 C35.6879545,31.8912 33.9724545,34.2677333 31.5177727,35.8144 L39.0249545,41.6181333 C43.3393409,37.6138667 46.1454545,31.6490667 46.1454545,24",id:"Fill-4",fill:"#4285F4",children:" "})," "]})," "]})," "]})," "]}),P.jsx("span",{children:"Continue with Google"})]})]}),P.jsx("footer",{className:"bg-[#00ffb4] absolute bottom-0 w-full text-center py-4",children:P.jsx("p",{className:"text-gray-800",children:"© 2025 Geonotes. All rights reserved."})})]})},$O=()=>P.jsxs("div",{className:"min-h-screen flex flex-col",children:[P.jsx(xo,{}),P.jsxs("div",{className:"container mx-auto px-4 py-2 flex-grow",children:[P.jsxs("div",{className:"text-center mb-8",children:[P.jsx("h2",{className:"text-4xl font-bold mt-4 text-gray-800 mb-4",children:"Welcome to Geonotes"}),P.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Discover a new way to interact with your surroundings. Geonotes allows you to leave notes and find notes left by others at specific locations. Explore the world with a new perspective!"})]}),P.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-2 my-4",children:[P.jsx("img",{src:"./src/assets/map.svg",alt:"App screenshot 1",className:"w-[90px] sm:w-[110px] md:w-[130px] lg:w-[150px] h-auto object-contain"}),P.jsx("img",{src:"./src/assets/nmap.png",alt:"App screenshot 2",className:"w-[90px] sm:w-[110px] md:w-[130px] lg:w-[150px] h-auto object-contain"}),P.jsx("img",{src:"./src/assets/nhome.png",alt:"App screenshot 3",className:"w-[90px] sm:w-[110px] md:w-[130px] lg:w-[150px] h-auto object-contain"})]}),P.jsxs("div",{className:"mb-8 text-center",children:[P.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-4",children:"About Geonotes"}),P.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Geonotes is your personal geolocation app that allows you to leave and discover notes at specific locations around the globe. Whether you're traveling or exploring your own city, Geonotes connects you with your surroundings uniquely."})]}),P.jsx("div",{className:"flex justify-center mb-8",children:P.jsx("a",{href:"https://play.google.com/store/",target:"_blank",rel:"noopener noreferrer",className:"transform hover:scale-105 transition-transform",children:P.jsx("img",{src:"./assets/google.png",alt:"Get it on Google Play",className:"w-64 h-auto"})})})]}),P.jsx("footer",{className:"bg-[#00ffb4] text-center py-4",children:P.jsx("p",{className:"text-gray-800",children:"© 2025 Geonotes. All rights reserved."})})]}),YO=()=>P.jsxs("div",{children:[P.jsx(xo,{}),P.jsxs("div",{className:"flex flex-col justify-center space-between h-screen items-center ",children:[P.jsx("h1",{className:"text-4xl font-bold text-center mb-10",children:"404 Not Found"}),P.jsx(Vn,{to:"/",children:P.jsx("button",{className:"p-2 hover:bg-[#00ffb4] hover:text-white rounded-md transition-all scale-120",children:"Go back to Home"})})]}),P.jsx("footer",{className:"bg-[#00ffb4] text-center py-4",children:P.jsx("p",{className:"text-gray-800",children:"© 2025 Geonotes. All rights reserved."})})]}),XO=i=>{if(!i)return"";const e=i.toDate();return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(e)},WO=i=>i<1?`${(i*1e3).toFixed(0)} m`:`${i.toFixed(1)} km`,ZO=(i,e,t,s)=>{const u=E=>E*(Math.PI/180),f=u(t-i),m=u(s-e),g=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u(i))*Math.cos(u(t))*Math.sin(m/2)*Math.sin(m/2);return 6371*(2*Math.atan2(Math.sqrt(g),Math.sqrt(1-g)))},JO=()=>{const i=bo(),[e]=_u(Qn),[t,s]=k.useState([]),[o,u]=k.useState(null);return k.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(f=>{u({lat:f.coords.latitude,lng:f.coords.longitude})},f=>console.error("Error getting location:",f))},[]),k.useEffect(()=>{const f=async g=>{var p,E;try{const A=(p=(await Wl(lo(Ws,"users"))).docs.find(N=>N.id===g))==null?void 0:p.data();return((E=A==null?void 0:A.friends)==null?void 0:E.filter(N=>N.status===!0))||[]}catch(b){return console.error("Error in getUserFriends:",b),[]}};(async()=>{if(!o||!e){console.log("No user location or user");return}try{console.log("Fetching notes for user:",e.uid);const p=(await f(e.uid)).map(F=>F.uid),E=ng(lo(Ws,"test-notes"),Hw(Xs("visibility","==","public"),Xs("uid","==",e.uid),...p.map(F=>Xs("uid","==",F)))),b=await Wl(E);console.log("Notes found:",b.size);const A=[e.uid,...p],N=ng(lo(Ws,"users"),Xs("uid","in",A)),x=await Wl(N),K={};x.forEach(F=>{const $=F.data();K[$.uid]=$.username||"Anonymous"});const q=b.docs.map(F=>({...F.data(),id:F.id,username:K[F.data().uid]||"Anonymous"})).map(F=>{const $=ZO(o.lat,o.lng,F.location._lat,F.location._long);return{...F,distance:$}}).sort((F,$)=>F.distance-$.distance);console.log("Processed notes:",q),s(q)}catch(g){console.error("Error fetching notes:",g)}})()},[o,e]),e?P.jsxs("div",{children:[P.jsx(xo,{}),P.jsxs("div",{className:"flex flex-col items-center",children:[P.jsx("div",{className:"text-3xl font-semibold mt-6 mb-4",children:"Notes"}),P.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-4",children:t.map(f=>P.jsxs("div",{className:"flex justify-between p-4 w-200 rounded-md shadow-md opacity-100 cursor-pointer bg-[#00ffc8]",onClick:()=>{i("/webmap",{state:{noteLocation:f.location}})},children:[P.jsxs("div",{children:[P.jsx("div",{className:"text-xl font-semibold",children:f.title}),P.jsxs("div",{className:"text-l font-semibold opacity-80",children:["- ",f.username]}),P.jsx("div",{className:"text-sm text-gray-600",children:XO(f.timestamp)})]}),P.jsx("span",{children:WO(f.distance)})]},f.id))})]})]}):null};function eM(){return P.jsx(rR,{children:P.jsxs(VA,{children:[P.jsx(Ks,{path:"/",element:P.jsx($O,{})}),P.jsx(Ks,{path:"/login",element:P.jsx(KO,{})}),P.jsx(Ks,{path:"/signup",element:P.jsx(QO,{})}),P.jsx(Ks,{path:"/*",element:P.jsx(YO,{})}),P.jsx(Ks,{path:"/notes",element:P.jsx(tE,{children:P.jsx(JO,{})})}),P.jsx(Ks,{path:"/webmap",element:P.jsx(tE,{children:P.jsx(GO,{})})})]})})}HS.createRoot(document.getElementById("root")).render(P.jsx(Rt.StrictMode,{children:P.jsx(eM,{})}));
